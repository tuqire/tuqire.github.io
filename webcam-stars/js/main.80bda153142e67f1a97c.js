(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4sK0":function(e,i,n){"use strict";(function(s){function e(){return 1100<window.innerWidth?170:700<window.innerWidth?100:500<window.innerWidth?85:50}function t(e){var t=e.data,i=e.tWidth,n=e.tHeight,a=e.format,r=e.filterType,o=new s.DataTexture(t,i,n,a,s.FloatType);return o.minFilter=o.magFilter=r,o.needsUpdate=!0,o.flipY=!1,o}n.d(i,"b",function(){return e}),n.d(i,"a",function(){return t})}).call(this,n("Womt"))},"B++s":function(e,i,a){"use strict";(function(t){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.d(i,"a",function(){return e});var e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=new t.Scene}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(e,[{key:"add",value:function(e){this.scene.add(e)}},{key:"remove",value:function(e){this.scene.remove(e)}},{key:"get",value:function(){return this.scene}}]),e}()}).call(this,a("Womt"))},LVGD:function(e,i,r){"use strict";(function(ie){r.d(i,"a",function(){return t});var e=r("5k41"),b=r.n(e),a=r("4sK0"),g=r("cjEm"),z=r("TIVY"),S=r("j1cT"),y=r("LWN/");function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function te(e){var i=this,n=e.scene,t=e.configUniforms,a=void 0===t?{color:{value:new ie.Color(16777215)},sizeMultiplierForScreen:{value:window.innerHeight*window.devicePixelRatio/2},starImg:{value:(new ie.TextureLoader).load("images/star.png")}}:t,r=e.blending,o=void 0===r?ie.AdditiveBlending:r,s=e.transparent,c=void 0===s||s,u=e.depthTest,l=void 0===u||u,h=e.depthWrite,m=void 0!==h&&h,d=e.renderer,v=e.bgColorTop,f=void 0===v?"#000f23":v,w=e.bgColorBottom,p=void 0===w?"#00071b":w,b=e.numParticles,g=void 0===b?1e4:b,z=e.radius,S=void 0===z?100:z,y=e.minSize,x=void 0===y?1:y,P=e.maxSize,C=void 0===P?3:P,F=e.sizeRange,W=void 0===F?.5:F,k=e.sizeInc,M=void 0===k?.01:k,D=e.sizeSkew,O=void 0===D?1:D,T=e.brightness,B=void 0===T?1:T,I=e.opacity,U=void 0===I?1:I,E=e.webcamOutlineStrength,_=void 0===E?50:E,H=e.webcamThreshold,R=void 0===H?.5:H,A=e.webcamStarInc,V=void 0===A?1e-4:A,L=e.webcamStarSize,j=void 0===L?.3:L,N=e.webcamStarMultiplier,Y=void 0===N?5e3:N,Z=e.webcamStarDecSpeed,G=void 0===Z?5:Z,q=e.hoverDist,X=void 0===q?10:q,J=e.hoverSizeInc,K=void 0===J?.05:J,$=e.hoverMaxSizeMultiplier,Q=void 0===$?5:$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,te),this.renderer=d,this.bgColorTop=f,this.bgColorBottom=p,this.numParticles=g,this.radius=S,this.minSize=x,this.maxSize=C,this.sizeRange=W,this.sizeInc=M,this.sizeSkew=O,this.brightness=B,this.opacity=U,this.webcamOutlineStrength=_,this.webcamThreshold=R,this.webcamStarInc=V,this.webcamStarSize=j,this.webcamStarMultiplier=Y,this.webcamStarDecSpeed=G,this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,this.hoverDist=X,this.hoverSizeInc=K,this.hoverMaxSizeMultiplier=Q,this.videoEl=document.createElement("video"),this.videoWidth=1280,this.videoHeight=720;var ee=document.createElement("h1");ee.innerHTML="Your browser is not supported. Please use Google Chrome (v21 or above).",navigator.getUserMedia?navigator.getUserMedia({video:{width:this.videoWidth,height:this.videoHeight}},function(e){var t=i.videoEl;t.srcObject=e,t.autoplay=!0,i.addStars({scene:n,renderer:d,configUniforms:a,blending:o,transparent:c,depthTest:l,depthWrite:m})},function(){return console.error("video failed to load")}):document.getElementsByTagName("body")[0].append(ee),window.addEventListener("resize",this.onWindowResize.bind(this))}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(te,[{key:"addStars",value:function(e){var t=e.scene,i=e.renderer,n=e.configUniforms,a=e.blending,r=e.transparent,o=e.depthTest,s=e.depthWrite,c=this.tHeight=Math.ceil(Math.sqrt(this.numParticles)),u=this.tWidth=c;this.numParticles=u*c;var l=this.webcamEl=document.createElement("canvas");this.webcamElContext=l.getContext("2d");var h=this.webcamTexture=new ie.Texture(l);h.minFilter=h.magFilter=ie.NearestFilter,h.needsUpdate=!0;var m=this.webcamDiffEl=document.createElement("canvas");this.webcamDiffElContext=m.getContext("2d");var d=this.webcamDiffTexture=new ie.Texture(m);d.minFilter=d.magFilter=ie.NearestFilter,d.needsUpdate=!0,this.positions=new Float32Array(3*this.numParticles),this.blackAndWhiteFBO=new b.a({tWidth:this.webcamEl.width,tHeight:this.webcamEl.height,renderer:i.get(),uniforms:{tWebcam:{type:"t",value:h}},simulationVertexShader:z.b,simulationFragmentShader:z.a}),this.webcamDifferenceFBO=new b.a({tWidth:this.webcamEl.width,tHeight:this.webcamEl.height,renderer:i.get(),uniforms:{webcamWidth:{type:"f",value:this.webcamEl.width},webcamHeight:{type:"f",value:this.webcamEl.height},tWebcam:{type:"t",value:0},webcamOutlineStrength:{type:"f",value:this.webcamOutlineStrength}},simulationVertexShader:S.b,simulationFragmentShader:S.a}),this.webcamDifferenceFBO.setTextureUniform("tWebcam",this.blackAndWhiteFBO.getCurrentFrame()),this.sizeFBO=new b.a({tWidth:u,tHeight:c,renderer:i.get(),uniforms:{radius:{type:"f",value:this.radius},tPosition:{type:"t",value:0},tDefaultSize:{type:"t",value:0},tWebcam:{type:"t",value:0},sizeRange:{type:"f",value:this.sizeRange},sizeInc:{type:"f",value:this.sizeInc},webcamThreshold:{type:"f",value:this.webcamThreshold},webcamStarInc:{type:"f",value:this.webcamStarInc},webcamStarSize:{type:"f",value:this.webcamStarSize},webcamStarMultiplier:{type:"f",value:this.webcamStarMultiplier},webcamStarDecSpeed:{type:"f",value:this.webcamStarDecSpeed},mouse:{value:new ie.Vector3(1e4,1e4,1e4)},hoverDist:{type:"f",value:this.hoverDist},hoverSizeInc:{type:"f",value:this.hoverSizeInc},hoverMaxSizeMultiplier:{type:"f",value:this.hoverMaxSizeMultiplier}},simulationVertexShader:g.b,simulationFragmentShader:g.a}),this.sizeFBO.setTextureUniform("tPosition",this.getPositions()),this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes());var v=Object.assign({},n,{tPosition:{type:"t",value:this.sizeFBO.simulationShader.uniforms.tPosition.value},tSize:{type:"t",value:this.sizeFBO.targets[0]},tWebcam:{type:"t",value:0},tColour:{type:"t",value:this.getColours()}});this.material=new ie.ShaderMaterial({blending:a,uniforms:v,vertexShader:y.b,fragmentShader:y.a,depthTest:o,depthWrite:s,transparent:r});for(var f=new ie.Geometry,w=0;w<this.numParticles;w++){var p=new ie.Vector3;p.x=w%u/u,p.y=Math.floor(w/u)/c,f.vertices.push(p)}this.particles=new ie.Points(f,this.material),this.particles.frustumCulled=!1,t.add(this.get()),document.addEventListener("mousemove",this.onMouseMove.bind(this),!1),this.ready=!0}},{key:"onWindowResize",value:function(){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2}},{key:"onMouseMove",value:function(e){var t=this.cameraZ/(2.7*this.windowHalfX),i=this.cameraZ/(-2.7*this.windowHalfY),n=e.clientX-this.windowHalfX,a=this.windowHalfY-e.clientY;this.sizeFBO.simulationShader.uniforms.mouse.value.set(t*n,i*a,0)}},{key:"getPositions",value:function(){for(var e=new Float32Array(4*this.numParticles),t=0,i=0,n=0;t<this.numParticles;t++,i+=3,n+=4){var a=this.calcPosition();this.positions[i]=e[n]=a[0],this.positions[i+1]=e[n+1]=a[1],this.positions[i+2]=e[n+2]=a[2],e[n+3]=1}return e}},{key:"calcPosition",value:function(){return[(Math.random()-.5)*this.radius,(Math.random()-.5)*this.radius,0]}},{key:"getSizes",value:function(){for(var e=new Float32Array(4*this.numParticles),t=0,i=0;t<this.numParticles;t++,i+=4)e[i+3]=this.calcSize();return e}},{key:"calcSize",value:function(){var e=this.maxSize-this.minSize;return this.minSize+e*Math.pow(Math.random(),this.sizeSkew)}},{key:"getColours",value:function(){for(var e=new Float32Array(4*this.numParticles),t=0,i=0;t<this.numParticles;t++,i+=4){var n=this.calcColour();e[i]=n[0],e[i+1]=n[1],e[i+2]=n[2],e[i+3]=n[3]}return Object(a.a)({data:e,tWidth:this.tWidth,tHeight:this.tHeight,format:this.sizeFBO.format,filterType:this.sizeFBO.filterType})}},{key:"calcColour",value:function(){function e(e,t,i,n){return[a.brightness*e/255,a.brightness*t/255,a.brightness*i/255,a.opacity]}var a=this;switch(Math.ceil(10*Math.random())){case 1:return e(155,176,255);case 2:return e(170,191,255);case 3:return e(202,215,255);case 4:return e(248,247,255);case 5:return e(255,244,234);case 6:return e(255,210,161);case 7:return e(255,204,111);default:return e(255,255,255)}}},{key:"update",value:function(){if(this.ready){var e=this.videoEl,t=this.webcamElContext,i=this.webcamEl,n=i.width,a=i.height,r=this.webcamTexture;e.readyState===e.HAVE_ENOUGH_DATA&&(t.drawImage(e,0,0,n,a),r.needsUpdate=!0),this.blackAndWhiteFBO.simulate(),this.webcamDifferenceFBO.simulationShader.uniforms.tWebcam.value=this.blackAndWhiteFBO.getCurrentFrame(),this.webcamDifferenceFBO.simulate(),this.sizeFBO.simulationShader.uniforms.tWebcam.value=this.webcamDifferenceFBO.getCurrentFrame(),this.material.uniforms.tWebcam.value=this.webcamDifferenceFBO.getCurrentFrame(),this.sizeFBO.simulate(),this.material.uniforms.tSize.value=this.sizeFBO.getCurrentFrame()}}},{key:"get",value:function(){return this.particles}},{key:"setCameraZ",value:function(e){this.cameraZ=e}},{key:"updateColours",value:function(){this.material.uniforms.tColour.value=this.getColours()}},{key:"updateSizes",value:function(){this.sizeFBO.simulationShader.uniforms.sizeRange.value=this.sizeRange,this.sizeFBO.simulationShader.uniforms.sizeInc.value=this.sizeInc,this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes())}},{key:"updateParticleVars",value:function(){this.minSize>this.maxSize&&(this.minSize=this.maxSize),this.maxSize<this.minSize&&(this.maxSize=this.minSize),this.webcamDifferenceFBO.simulationShader.uniforms.webcamOutlineStrength.value=this.webcamOutlineStrength,this.sizeFBO.simulationShader.uniforms.webcamThreshold.value=this.webcamThreshold,this.sizeFBO.simulationShader.uniforms.webcamStarInc.value=this.webcamStarInc,this.sizeFBO.simulationShader.uniforms.webcamStarSize.value=this.webcamStarSize,this.sizeFBO.simulationShader.uniforms.webcamStarMultiplier.value=this.webcamStarMultiplier,this.sizeFBO.simulationShader.uniforms.webcamStarDecSpeed.value=this.webcamStarDecSpeed,this.sizeFBO.simulationShader.uniforms.hoverDist.value=this.hoverDist,this.sizeFBO.simulationShader.uniforms.hoverSizeInc.value=this.hoverSizeInc,this.sizeFBO.simulationShader.uniforms.hoverMaxSizeMultiplier.value=this.hoverMaxSizeMultiplier}},{key:"bgColorTop",get:function(){return this._bgColorTop},set:function(e){this._bgColorTop=e,document.getElementsByTagName("body")[0].style.background="linear-gradient(".concat(this._bgColorTop,", ").concat(this._bgColorBottom,")")}},{key:"bgColorBottom",get:function(){return this._bgColorBottom},set:function(e){this._bgColorBottom=e,document.getElementsByTagName("body")[0].style.background="linear-gradient(".concat(this._bgColorTop,", ").concat(this._bgColorBottom,")")}}]),te}()}).call(this,r("Womt"))},"LWN/":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a});var n="\n\tuniform sampler2D tColour;\n\tuniform sampler2D starImg;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvec4 colour = texture2D(tColour, vUv).rgba;\n\n\t\tgl_FragColor = colour;\n\t\tgl_FragColor = gl_FragColor * texture2D(starImg, gl_PointCoord);\n\t}\n",a="\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tSize;\n\tuniform sampler2D tWebcam;\n\n\tuniform float sizeMultiplierForScreen;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\t\tvec4 webcamParticle = texture2D(tWebcam, vUv).rgba;\n\t\tvec4 position = texture2D(tPosition, vUv).xyzw;\n\t\tfloat size = texture2D(tSize, vUv).w;\n\n\t\tvec4 mvPosition = modelViewMatrix * position;\n\t\tgl_PointSize = size * (sizeMultiplierForScreen / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n"},MiJT:function(e,t,a){"use strict";(function(f){a.d(t,"a",function(){return e});var i=a("4sK0");function w(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var e=function(){function v(e){var t=e.particles,i=e.fov,n=void 0===i?400:i,a=e.aspectRatio,r=void 0===a?window.innerWidth/window.innerHeight:a,o=e.near,s=void 0===o?.1:o,c=e.far,u=void 0===c?2e3:c,l=e.position,h=void 0===l?{x:0,y:0,z:0}:l,m=e.up,d=void 0===m?[0,0,1]:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),this.particles=t,this.particles.setCameraZ(h.z),this.camera=new f.PerspectiveCamera(n,r,s,u),this.up=d,this.setPosition(h),this.setUp.apply(this,w(this.up)),this.setLookAt()}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(v,[{key:"onWindowResize",value:function(){var e=window.innerWidth,t=window.innerHeight;this.camera.aspect=e/t,this.setZ(window.innerHeight/Object(i.b)()),this.camera.updateProjectionMatrix()}},{key:"setUp",value:function(e,t,i){this.camera.up.set(e,t,i)}},{key:"setPosition",value:function(e){var t=e.x,i=void 0===t?this.camera.position.x:t,n=e.y,a=void 0===n?this.camera.position.y:n,r=e.z,o=void 0===r?this.camera.position.z:r;this.setX(i),this.setY(a),this.setZ(o)}},{key:"setX",value:function(e){this.camera.position.x=e,this.setLookAt()}},{key:"setY",value:function(e){this.camera.position.y=e,this.setLookAt()}},{key:"setZ",value:function(e){this.camera.position.z=e,this.setLookAt(),this.setUp(0,0,1),this.particles.setCameraZ(e)}},{key:"setLookAt",value:function(){this.camera.lookAt(new f.Vector3(0,0,0))}},{key:"get",value:function(){return this.camera}},{key:"getPosition",value:function(){return this.camera.position}},{key:"getZ",value:function(){return this.camera.position.z}}]),v}()}).call(this,a("Womt"))},NaaR:function(e,t,i){"use strict";(function(m){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",function(){return e});var e=function(){function h(e){var t=e.alpha,i=void 0===t||t,n=e.pixelRatio,a=void 0===n?window.devicePixelRatio:n,r=e.width,o=void 0===r?window.innerWidth:r,s=e.height,c=void 0===s?window.innerHeight:s,u=e.container;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),this.renderer=new m.WebGLRenderer({alpha:i});var l=this.renderer.context;l.enable(l.BLEND),l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),this.setPixelRatio(a),this.setSize(o,c),u.appendChild(this.getDomElement()),window.addEventListener("resize",this.onWindowResize.bind(this))}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(h,[{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"onWindowResize",value:function(){var e=window.innerWidth,t=window.innerHeight;this.renderer.setSize(e,t)}},{key:"setPixelRatio",value:function(e){this.renderer.setPixelRatio(e)}},{key:"setSize",value:function(e,t){this.renderer.setSize(e,t)}},{key:"render",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},i=t.scene,n=t.camera,a=t.renderTarget,r=void 0===a?null:a,o=t.force,s=void 0!==o&&o;this.renderer.render(i,n,r,s)}},{key:"get",value:function(){return this.renderer}}]),h}()}).call(this,i("Womt"))},TIVY:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a});var n="\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tWebcam;\n\n\tuniform float sizeInc;\n\tuniform float sizeRange;\n\n\tvoid main() {\n\t\tvec3 webcamParticle = texture2D(tWebcam, vUv).xyz;\n    float avg = (webcamParticle.x + webcamParticle.y + webcamParticle.z) / 3.0;\n\n\t\tgl_FragColor = vec4(avg, avg, avg, 1.0);\n\t}\n",a="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},cjEm:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a});var n="\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co) {\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tDefaultSize;\n\tuniform sampler2D tWebcam;\n\n\tuniform float webcamThreshold;\n\tuniform float webcamStarInc;\n\tuniform float webcamStarSize;\n\tuniform float webcamStarMultiplier;\n\tuniform float webcamStarDecSpeed;\n\n\tuniform float sizeInc;\n\tuniform float sizeRange;\n\tuniform float radius;\n\n\tuniform vec3 mouse;\n\tuniform float hoverDist;\n\tuniform float hoverSizeInc;\n\tuniform float hoverMaxSizeMultiplier;\n\n\tfloat getSize(bool isWebcamParticle, float webcamParticleVal, vec3 currPosition) {\n\t\tfloat defaultSize = texture2D(tDefaultSize, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\t\tfloat _sizeInc = sizeInc;\n\t\tfloat _defaultSize = defaultSize;\n\n\t\tif (isWebcamParticle) {\n\t\t\t_defaultSize += webcamStarSize + (webcamParticleVal * webcamStarMultiplier) * (_defaultSize / 2.0) * _defaultSize * _defaultSize;\n\t\t\t_sizeInc += webcamParticleVal * webcamStarInc;\n\t\t}\n\n\t\tfloat minSize = _defaultSize - sizeRange;\n\t\tfloat maxSize = _defaultSize + sizeRange;\n\t\tbool wasWebcamParticle = maxSize - _sizeInc >= maxSize && !isWebcamParticle;\n\n\t\tif (size == 0.0) {\n\t\t\tsize = _defaultSize;\n\t\t} else if (prevSize == 0.0 || size == prevSize) {\n\t\t\tsize += rand(vUv) >= 0.5 ? _sizeInc : -_sizeInc;\n\t\t} else if (size < minSize) {\n\t\t\tsize += _sizeInc;\n\t\t} else if (size > maxSize) {\n\t\t\tsize = wasWebcamParticle ? maxSize : size - _sizeInc;\n\t\t} else {\n\t\t\tsize += size - prevSize > 0.0 ? _sizeInc : -_sizeInc;\n\t\t}\n\n\t\tfloat dist = length(currPosition.xy - mouse.xy);\n\n\t\tif (dist < hoverDist && size < (defaultSize * hoverMaxSizeMultiplier)) {\n\t\t\tsize += hoverSizeInc;\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tvoid main() {\n\t\tvec3 currPosition = texture2D(tPosition, vUv).xyz;\n\t\tfloat webcamParticleVal = texture2D(tWebcam, vec2((currPosition.x + (radius / 2.0)) / radius, (currPosition.y + (radius / 2.0)) / radius)).r;\n\t\tbool isWebcamParticle = webcamParticleVal > webcamThreshold;\n\n\t\tgl_FragColor = vec4(0.0, 0.0, isWebcamParticle ? 1.0: 0.0, getSize(isWebcamParticle, webcamParticleVal, currPosition));\n\t}\n",a="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},j1cT:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a});var n="\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tWebcam;\n\n\tuniform float sizeInc;\n  uniform float sizeRange;\n  uniform float webcamWidth;\n\tuniform float webcamHeight;\n\tuniform float webcamOutlineStrength;\n\n\tvoid main() {\n\t\tvec3 webcamParticle = texture2D(tWebcam, vUv).xyz;\n\t\tvec3 webcamParticleAbove = texture2D(tWebcam, vec2(vUv.x, vUv.y - (1.0 / webcamWidth))).xyz;\n\t\tvec3 webcamParticleBelow = texture2D(tWebcam, vec2(vUv.x, vUv.y + (1.0 / webcamWidth))).xyz;\n\t\tvec3 webcamParticleLeft = texture2D(tWebcam, vec2(vUv.x - (1.0 / webcamHeight), vUv.y)).xyz;\n\t\tvec3 webcamParticleRight = texture2D(tWebcam, vec2(vUv.x + (1.0 / webcamHeight), vUv.y)).xyz;\n\n    float average = (\n\t\t\twebcamParticleAbove.x +\n      webcamParticleBelow.x +\n      webcamParticleLeft.x +\n\t\t\twebcamParticleRight.x\n\t\t) / 4.0;\n\n    webcamParticle.x -= average;\n    webcamParticle.y -= average;\n    webcamParticle.z -= average;\n\n    webcamParticle.x *= webcamOutlineStrength;\n    webcamParticle.y *= webcamOutlineStrength;\n    webcamParticle.z *= webcamOutlineStrength;\n\n\t\tgl_FragColor = vec4(webcamParticle, 1.0);\n\t}\n",a="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},kpGR:function(e,t,i){"use strict";i.r(t);var n=i("pWP4"),c=i.n(n),a=i("MZFn"),u=i.n(a),l=i("MiJT"),r=i("8t44"),o=i.n(r);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.particles;e.scene;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.gui=new o.a.GUI,this.addBgControls(t),this.addSizeControls(t),this.addWebcamControls(t),this.addMouseControls(t),this.addColourStrengthControls(t),this.addOpacityControls(t)}return function(e,t,i){t&&s(e.prototype,t),i&&s(e,i)}(i,[{key:"addBgControls",value:function(e){this.gui.addColor(e,"bgColorTop"),this.gui.addColor(e,"bgColorBottom")}},{key:"addSizeControls",value:function(e){this.gui.add(e,"minSize").min(0).max(.06).step(1e-4).onFinishChange(function(){e.updateSizes()}),this.gui.add(e,"maxSize").min(0).max(.1).step(.001).onFinishChange(function(){e.updateSizes()}),this.gui.add(e,"sizeInc").min(0).max(2e-4).step(1e-5).onFinishChange(function(){e.updateSizes()}),this.gui.add(e,"sizeRange").min(0).max(.02).step(5e-4).onFinishChange(function(){e.updateSizes()}),this.gui.add(e,"sizeSkew").min(0).max(1e3).step(10).onFinishChange(function(){e.updateSizes()})}},{key:"addWebcamControls",value:function(e){this.gui.add(e,"webcamOutlineStrength").min(0).max(300).step(1).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"webcamThreshold").min(0).max(1).step(.02).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"webcamStarInc").min(0).max(.001).step(1e-5).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"webcamStarSize").min(0).max(.05).step(5e-4).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"webcamStarMultiplier").min(0).max(1e4).step(100).onFinishChange(function(){e.updateParticleVars()})}},{key:"addMouseControls",value:function(e){this.gui.add(e,"hoverDist").min(0).max(.5).step(.01).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"hoverSizeInc").min(0).max(.03).step(.001).onFinishChange(function(){e.updateParticleVars()}),this.gui.add(e,"hoverMaxSizeMultiplier").min(0).max(5).step(.2).onFinishChange(function(){e.updateParticleVars()})}},{key:"addColourStrengthControls",value:function(e){this.gui.add(e,"brightness").min(0).max(3).step(.05).onFinishChange(function(){e.updateColours()})}},{key:"addOpacityControls",value:function(e){this.gui.add(e,"opacity").min(0).max(2).step(.05).onFinishChange(function(){e.updateColours()})}}]),i}(),m=i("NaaR"),d=i("B++s"),v=i("LVGD"),f=function(e,t){t=t||window.location.href,e=e.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")).exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};document.addEventListener("DOMContentLoaded",function(){var e=Number(f("quality"));if(e&&!isNaN(e))if(c.a&&window.matchMedia("(min-width: 480px)").matches){!function(){var e=document.querySelector(".info-content"),t=document.querySelector(".hide-info-button"),i=Number(f("quality"));document.getElementById("info").style.display="inline",document.querySelector(".num-particles").innerHTML=i.toLocaleString(),t.addEventListener("click",function(){"Close"===t.innerHTML?(t.innerHTML="Open Info",e.style.display="none"):(t.innerHTML="Close",e.style.display="block")})}();var t=document.getElementById("simulation"),i=new m.a({container:t}),n=new d.a,a=new v.a({scene:n,renderer:i,numParticles:e,radius:3,minSize:.013,maxSize:.04,sizeRange:.003,sizeInc:5e-5,sizeSkew:75,brightness:.9,opacity:1,webcamOutlineStrength:70,webcamThreshold:.2,webcamStarInc:1e-4,webcamStarSize:.01,webcamStarMultiplier:5e3,webcamStarDecSpeed:5.5,hoverDist:.04,hoverSizeInc:.002,hoverMaxSizeMultiplier:3}),r=new l.a({aspectRatio:1,particles:a,position:{x:0,y:.001,z:-3.9}}),o=new u.a,s=function(){o.begin(),a.update(),i.render({scene:n.get(),camera:r.get()}),o.end()};new h({particles:a}),o.showPanel(0),document.body.appendChild(o.dom),function e(){requestAnimationFrame(e),s()}()}else document.getElementById("no-support").style.display="block";else document.getElementById("select-quality").style.display="block"})}},[["kpGR",1,2]]]);