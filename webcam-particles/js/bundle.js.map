{"version":3,"sources":["webpack:///bundle.js","webpack:///./src/js/main.js","webpack:///./src/js/io/camera.js","webpack:///./src/js/io/controls.js","webpack:///./src/js/io/renderer.js","webpack:///./src/js/io/stats.js","webpack:///./src/js/objects/scene.js","webpack:///./src/js/objects/particles.js","webpack:///./src/js/objects/FBO.js","webpack:///./src/js/shaders/simulationShaders.js","webpack:///./src/js/shaders/shaders.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","_detectorWebgl","_detectorWebgl2","_camera","_camera2","_controls","_controls2","_renderer","_renderer2","_stats","_stats2","_scene","_scene2","_particles","_particles2","document","addEventListener","WIDTH","innerWidth","HEIGHT","innerHeight","container","getElementById","renderer","width","height","scene","camera","aspectRatio","position","x","y","z","controls","minDistance","maxDistance","get","rendererDomElement","getDomElement","stats","particles","numParticles","render","update","onChange","appendChild","animate","requestAnimationFrame","innerHTML","THREE","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Camera","_ref","_ref$fov","fov","undefined","_ref$aspectRatio","_ref$near","near","_ref$far","far","_ref$position","up","this","PerspectiveCamera","setPosition","onWindowResize","bind","aspect","updateProjectionMatrix","set","_ref2","_ref2$x","_ref2$y","_ref2$z","setX","setY","setZ","call","_threeTrackballcontrols","_threeTrackballcontrols2","Controls","_ref$rendererDomEleme","_ref$rotateSpeed","rotateSpeed","_ref$zoomSpeed","zoomSpeed","_ref$panSpeed","panSpeed","_ref$noPan","noPan","_ref$staticMoving","staticMoving","_ref$dynamicDampingFa","dynamicDampingFactor","_ref$minDistance","_ref$maxDistance","Infinity","_ref$keys","keys","Renderer","_ref$alpha","alpha","_ref$pixelRatio","pixelRatio","devicePixelRatio","_ref$width","_ref$height","WebGLRenderer","gl","context","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","setPixelRatio","setSize","domElement","w","h","arguments","_ref2$renderTarget","renderTarget","_ref2$force","force","Stats","Canvas","Scene","background","Color","add","remove","_FBO","_FBO2","_simulationShaders","_shaders","Particles","_this","_ref$numParticles","_ref$uniforms","uniforms","sizeMultipler","color","_ref$blending","blending","AdditiveBlending","transparent","depthTest","depthWrite","_ref$particleSize","particleSize","_ref$particleSizeInc","particleSizeInc","_ref$zInc","zInc","_ref$yInc","yInc","_ref$yThreshold","yThreshold","windowHalfX","windowHalfY","video","createElement","noSupport","navigator","getUserMedia","mediaDevices","stream","src","URL","createObjectURL","addParticles","console","error","getElementsByTagName","append","event","mouseX","clientX","mouseY","clientY","FBO","simulationShader","mouse","IMAGE_RATIO","COL_RATIO","ROW_RATIO","cols","rows","tWidth","Math","ceil","tHeight","type","Vector3","tSize","simulationVertexShader","simulationFragmentShader","setTextureUniform","getSizes","videoImage","videoTexture","videoImageContext","getContext","Texture","minFilter","magFilter","NearestFilter","needsUpdate","material","ShaderMaterial","NormalBlending","assign","tTexture","tFrame","targets","fragmentShader","vertexShader","opacity","vertexColors","geometry","Geometry","vertex","floor","vertices","push","Points","frustumCulled","log","ready","onDocumentMouseMove","sizes","Float32Array","i4","random","calcSize","_videoImage","videoWidth","videoHeight","readyState","HAVE_ENOUGH_DATA","drawImage","simulate","getCurrentFrame","_typeof","Symbol","iterator","constructor","_ref$tWidth","_ref$tHeight","_ref$numTargets","numTargets","_ref$filterType","filterType","LinearFilter","_ref$format","format","RGBAFormat","_ref$type","FloatType","tPrevFrame","createTarget","cameraRTT","OrthographicCamera","sceneRTTPos","plane","PlaneBufferGeometry","quad","Mesh","count","WebGLRenderTarget","depthBuffer","stencilBuffer","antialias","data","countPerVertices","addAttribute","BufferAttribute","dataTexture","DataTexture","flipY","forEach","sName","prev","prevTarget"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(5);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _detectorWebgl = __webpack_require__(1);\n\nvar _detectorWebgl2 = _interopRequireDefault(_detectorWebgl);\n\nvar _camera = __webpack_require__(6);\n\nvar _camera2 = _interopRequireDefault(_camera);\n\nvar _controls = __webpack_require__(7);\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _renderer = __webpack_require__(9);\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _stats = __webpack_require__(10);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _scene = __webpack_require__(11);\n\nvar _scene2 = _interopRequireDefault(_scene);\n\nvar _particles = __webpack_require__(12);\n\nvar _particles2 = _interopRequireDefault(_particles);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getParameterByName(name, url) {\n\tif (!url) {\n\t\turl = window.location.href;\n\t}\n\n\tname = name.replace(/[\\[\\]]/g, '\\\\$&');\n\tvar regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n\tvar results = regex.exec(url);\n\n\tif (!results) return null;\n\tif (!results[2]) return '';\n\n\treturn decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\tif (_detectorWebgl2.default) {\n\t\tvar WIDTH = window.innerWidth;\n\t\tvar HEIGHT = window.innerHeight;\n\t\tvar aspectRatio = 1;\n\n\t\tvar container = document.getElementById('container');\n\n\t\tvar renderer = new _renderer2.default({\n\t\t\twidth: WIDTH,\n\t\t\theight: HEIGHT,\n\t\t\tcontainer: container\n\t\t});\n\n\t\tvar scene = new _scene2.default();\n\n\t\tvar camera = new _camera2.default({\n\t\t\taspectRatio: aspectRatio,\n\t\t\tposition: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tz: -1.5\n\t\t\t}\n\t\t});\n\n\t\tvar controls = new _controls2.default({\n\t\t\tminDistance: 0,\n\t\t\tmaxDistance: 1700,\n\t\t\tcamera: camera.get(),\n\t\t\trendererDomElement: renderer.getDomElement()\n\t\t});\n\n\t\tvar stats = new _stats2.default();\n\n\t\tvar particles = new _particles2.default({\n\t\t\tnumParticles: 150000,\n\t\t\tscene: scene,\n\t\t\trenderer: renderer\n\t\t});\n\n\t\tvar init = function init() {\n\t\t\tcontrols.onChange(render);\n\n\t\t\tif (getParameterByName('stats') === 'true') {\n\t\t\t\tcontainer.appendChild(stats.getDomElement());\n\t\t\t}\n\t\t};\n\n\t\tvar animate = function animate() {\n\t\t\trequestAnimationFrame(animate);\n\t\t\tcontrols.update();\n\t\t\trender();\n\t\t};\n\n\t\tvar render = function render() {\n\t\t\tcamera.update();\n\t\t\tstats.update();\n\n\t\t\tparticles.update();\n\n\t\t\trenderer.render({\n\t\t\t\tscene: scene.get(),\n\t\t\t\tcamera: camera.get()\n\t\t\t});\n\t\t};\n\n\t\tinit();\n\t\tanimate();\n\t} else {\n\t\tvar info = document.getElementById('info');\n\t\tinfo.innerHTML = 'Your browser is not supported. Please use the latest version of Firefox or Chrome.';\n\t}\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Camera = function () {\n\tfunction Camera(_ref) {\n\t\tvar _ref$fov = _ref.fov,\n\t\t    fov = _ref$fov === undefined ? 45 : _ref$fov,\n\t\t    _ref$aspectRatio = _ref.aspectRatio,\n\t\t    aspectRatio = _ref$aspectRatio === undefined ? window.innerHeight / window.innerWidth : _ref$aspectRatio,\n\t\t    _ref$near = _ref.near,\n\t\t    near = _ref$near === undefined ? 0.01 : _ref$near,\n\t\t    _ref$far = _ref.far,\n\t\t    far = _ref$far === undefined ? 500 : _ref$far,\n\t\t    _ref$position = _ref.position,\n\t\t    position = _ref$position === undefined ? {\n\t\t\tx: 0, y: 0, z: 0\n\t\t} : _ref$position,\n\t\t    _ref$up = _ref.up,\n\t\t    up = _ref$up === undefined ? [0, 0, 1] : _ref$up;\n\n\t\t_classCallCheck(this, Camera);\n\n\t\tthis.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far);\n\n\t\tthis.setPosition(position);\n\n\t\twindow.addEventListener('resize', this.onWindowResize.bind(this));\n\t}\n\n\t_createClass(Camera, [{\n\t\tkey: 'onWindowResize',\n\t\tvalue: function onWindowResize() {\n\t\t\tvar WIDTH = window.innerWidth;\n\t\t\tvar HEIGHT = window.innerHeight;\n\t\t\tthis.camera.aspect = WIDTH / HEIGHT;\n\t\t\tthis.camera.updateProjectionMatrix();\n\t\t}\n\t}, {\n\t\tkey: 'setUp',\n\t\tvalue: function setUp(x, y, z) {\n\t\t\tthis.camera.up.set(x, y, z);\n\t\t}\n\t}, {\n\t\tkey: 'setPosition',\n\t\tvalue: function setPosition(_ref2) {\n\t\t\tvar _ref2$x = _ref2.x,\n\t\t\t    x = _ref2$x === undefined ? this.camera.position.x : _ref2$x,\n\t\t\t    _ref2$y = _ref2.y,\n\t\t\t    y = _ref2$y === undefined ? this.camera.position.y : _ref2$y,\n\t\t\t    _ref2$z = _ref2.z,\n\t\t\t    z = _ref2$z === undefined ? this.camera.position.z : _ref2$z;\n\n\t\t\tthis.setX(x);\n\t\t\tthis.setY(y);\n\t\t\tthis.setZ(z);\n\t\t}\n\t}, {\n\t\tkey: 'setX',\n\t\tvalue: function setX(x) {\n\t\t\tthis.camera.position.x = x;\n\t\t}\n\t}, {\n\t\tkey: 'setY',\n\t\tvalue: function setY(y) {\n\t\t\tthis.camera.position.y = y;\n\t\t}\n\t}, {\n\t\tkey: 'setZ',\n\t\tvalue: function setZ(z) {\n\t\t\tthis.camera.position.z = z;\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {}\n\t}, {\n\t\tkey: 'get',\n\t\tvalue: function get() {\n\t\t\treturn this.camera;\n\t\t}\n\t}]);\n\n\treturn Camera;\n}();\n\nexports.default = Camera;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _threeTrackballcontrols = __webpack_require__(2);\n\nvar _threeTrackballcontrols2 = _interopRequireDefault(_threeTrackballcontrols);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controls = function () {\n\tfunction Controls(_ref) {\n\t\tvar camera = _ref.camera,\n\t\t    _ref$rendererDomEleme = _ref.rendererDomElement,\n\t\t    rendererDomElement = _ref$rendererDomEleme === undefined ? null : _ref$rendererDomEleme,\n\t\t    _ref$rotateSpeed = _ref.rotateSpeed,\n\t\t    rotateSpeed = _ref$rotateSpeed === undefined ? 1.0 : _ref$rotateSpeed,\n\t\t    _ref$zoomSpeed = _ref.zoomSpeed,\n\t\t    zoomSpeed = _ref$zoomSpeed === undefined ? 1.0 : _ref$zoomSpeed,\n\t\t    _ref$panSpeed = _ref.panSpeed,\n\t\t    panSpeed = _ref$panSpeed === undefined ? 1.0 : _ref$panSpeed,\n\t\t    _ref$noPan = _ref.noPan,\n\t\t    noPan = _ref$noPan === undefined ? false : _ref$noPan,\n\t\t    _ref$staticMoving = _ref.staticMoving,\n\t\t    staticMoving = _ref$staticMoving === undefined ? true : _ref$staticMoving,\n\t\t    _ref$dynamicDampingFa = _ref.dynamicDampingFactor,\n\t\t    dynamicDampingFactor = _ref$dynamicDampingFa === undefined ? 0 : _ref$dynamicDampingFa,\n\t\t    _ref$minDistance = _ref.minDistance,\n\t\t    minDistance = _ref$minDistance === undefined ? 0 : _ref$minDistance,\n\t\t    _ref$maxDistance = _ref.maxDistance,\n\t\t    maxDistance = _ref$maxDistance === undefined ? Infinity : _ref$maxDistance,\n\t\t    _ref$keys = _ref.keys,\n\t\t    keys = _ref$keys === undefined ? [65, 83, 68] : _ref$keys;\n\n\t\t_classCallCheck(this, Controls);\n\n\t\tthis.controls = new _threeTrackballcontrols2.default(camera, rendererDomElement);\n\n\t\tthis.controls.rotateSpeed = rotateSpeed;\n\t\tthis.controls.zoomSpeed = zoomSpeed;\n\t\tthis.controls.panSpeed = panSpeed;\n\t\tthis.controls.noPan = noPan;\n\n\t\tthis.controls.staticMoving = staticMoving;\n\t\tthis.controls.dynamicDampingFactor = dynamicDampingFactor;\n\n\t\tthis.controls.minDistance = minDistance;\n\t\tthis.controls.maxDistance = maxDistance;\n\n\t\tthis.controls.keys = keys;\n\t}\n\n\t_createClass(Controls, [{\n\t\tkey: 'onChange',\n\t\tvalue: function onChange(render) {\n\t\t\tthis.controls.addEventListener('change', render);\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tthis.controls.update();\n\t\t}\n\t}]);\n\n\treturn Controls;\n}();\n\nexports.default = Controls;\n\n/***/ }),\n/* 8 */,\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n\tfunction Renderer(_ref) {\n\t\tvar _ref$alpha = _ref.alpha,\n\t\t    alpha = _ref$alpha === undefined ? true : _ref$alpha,\n\t\t    _ref$pixelRatio = _ref.pixelRatio,\n\t\t    pixelRatio = _ref$pixelRatio === undefined ? window.devicePixelRatio : _ref$pixelRatio,\n\t\t    _ref$width = _ref.width,\n\t\t    width = _ref$width === undefined ? window.width : _ref$width,\n\t\t    _ref$height = _ref.height,\n\t\t    height = _ref$height === undefined ? window.height : _ref$height,\n\t\t    container = _ref.container;\n\n\t\t_classCallCheck(this, Renderer);\n\n\t\tthis.renderer = new THREE.WebGLRenderer({ alpha: alpha });\n\t\tvar gl = this.renderer.context;\n\t\tgl.enable(gl.BLEND);\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n\t\tthis.setPixelRatio(pixelRatio);\n\n\t\tthis.setSize(width, height);\n\n\t\tcontainer.appendChild(this.getDomElement());\n\t\twindow.addEventListener('resize', this.onWindowResize.bind(this));\n\t}\n\n\t_createClass(Renderer, [{\n\t\tkey: 'getDomElement',\n\t\tvalue: function getDomElement(container) {\n\t\t\treturn this.renderer.domElement;\n\t\t}\n\t}, {\n\t\tkey: 'onWindowResize',\n\t\tvalue: function onWindowResize() {\n\t\t\tvar WIDTH = window.innerWidth;\n\t\t\tvar HEIGHT = window.innerHeight;\n\n\t\t\tthis.renderer.setSize(WIDTH, HEIGHT);\n\t\t}\n\t}, {\n\t\tkey: 'setPixelRatio',\n\t\tvalue: function setPixelRatio(pixelRatio) {\n\t\t\tthis.renderer.setPixelRatio(pixelRatio);\n\t\t}\n\t}, {\n\t\tkey: 'setSize',\n\t\tvalue: function setSize(w, h) {\n\t\t\tthis.renderer.setSize(w, h);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t\t    scene = _ref2.scene,\n\t\t\t    camera = _ref2.camera,\n\t\t\t    _ref2$renderTarget = _ref2.renderTarget,\n\t\t\t    renderTarget = _ref2$renderTarget === undefined ? null : _ref2$renderTarget,\n\t\t\t    _ref2$force = _ref2.force,\n\t\t\t    force = _ref2$force === undefined ? false : _ref2$force;\n\n\t\t\tthis.renderer.render(scene, camera, renderTarget, force);\n\t\t}\n\t}, {\n\t\tkey: 'get',\n\t\tvalue: function get() {\n\t\t\treturn this.renderer;\n\t\t}\n\t}]);\n\n\treturn Renderer;\n}();\n\nexports.default = Renderer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _stats = __webpack_require__(3);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stats = function () {\n\tfunction Stats() {\n\t\t_classCallCheck(this, Stats);\n\n\t\tthis.stats = new _stats2.default();\n\t}\n\n\t_createClass(Stats, [{\n\t\tkey: 'getDomElement',\n\t\tvalue: function getDomElement(container) {\n\t\t\treturn this.stats.domElement;\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tthis.stats.update();\n\t\t}\n\t}]);\n\n\treturn Stats;\n}();\n\nexports.default = Stats;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Canvas = function () {\n\tfunction Canvas() {\n\t\t_classCallCheck(this, Canvas);\n\n\t\tthis.scene = new THREE.Scene();\n\t\tthis.scene.background = new THREE.Color(0xffffff);\n\t}\n\n\t_createClass(Canvas, [{\n\t\tkey: \"add\",\n\t\tvalue: function add(obj) {\n\t\t\tthis.scene.add(obj);\n\t\t}\n\t}, {\n\t\tkey: \"remove\",\n\t\tvalue: function remove(obj) {\n\t\t\tthis.scene.remove(obj);\n\t\t}\n\t}, {\n\t\tkey: \"get\",\n\t\tvalue: function get() {\n\t\t\treturn this.scene;\n\t\t}\n\t}]);\n\n\treturn Canvas;\n}();\n\nexports.default = Canvas;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _FBO = __webpack_require__(13);\n\nvar _FBO2 = _interopRequireDefault(_FBO);\n\nvar _simulationShaders = __webpack_require__(14);\n\nvar _shaders = __webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Particles = function () {\n\tfunction Particles(_ref) {\n\t\tvar _this = this;\n\n\t\tvar scene = _ref.scene,\n\t\t    _ref$numParticles = _ref.numParticles,\n\t\t    numParticles = _ref$numParticles === undefined ? 100000 : _ref$numParticles,\n\t\t    _ref$uniforms = _ref.uniforms,\n\t\t    uniforms = _ref$uniforms === undefined ? {\n\t\t\tsizeMultipler: { value: window.innerHeight * window.devicePixelRatio / 2 },\n\t\t\tcolor: { value: new THREE.Color(0xffffff) }\n\t\t} : _ref$uniforms,\n\t\t    _ref$blending = _ref.blending,\n\t\t    blending = _ref$blending === undefined ? THREE.AdditiveBlending : _ref$blending,\n\t\t    _ref$transparent = _ref.transparent,\n\t\t    transparent = _ref$transparent === undefined ? true : _ref$transparent,\n\t\t    _ref$depthTest = _ref.depthTest,\n\t\t    depthTest = _ref$depthTest === undefined ? true : _ref$depthTest,\n\t\t    _ref$depthWrite = _ref.depthWrite,\n\t\t    depthWrite = _ref$depthWrite === undefined ? false : _ref$depthWrite,\n\t\t    renderer = _ref.renderer,\n\t\t    _ref$particleSize = _ref.particleSize,\n\t\t    particleSize = _ref$particleSize === undefined ? 0.06 : _ref$particleSize,\n\t\t    _ref$particleSizeInc = _ref.particleSizeInc,\n\t\t    particleSizeInc = _ref$particleSizeInc === undefined ? 0.00005 : _ref$particleSizeInc,\n\t\t    _ref$zInc = _ref.zInc,\n\t\t    zInc = _ref$zInc === undefined ? 0.0003 : _ref$zInc,\n\t\t    _ref$yInc = _ref.yInc,\n\t\t    yInc = _ref$yInc === undefined ? 0.0007 : _ref$yInc,\n\t\t    _ref$yThreshold = _ref.yThreshold,\n\t\t    yThreshold = _ref$yThreshold === undefined ? 0.2 : _ref$yThreshold;\n\n\t\t_classCallCheck(this, Particles);\n\n\t\tthis.scene = scene;\n\t\tthis.numParticles = numParticles;\n\t\tthis.renderer = renderer;\n\t\tthis.uniforms = uniforms;\n\n\t\tthis.particleSize = particleSize;\n\t\tthis.particleSizeInc = particleSizeInc;\n\t\tthis.zInc = zInc;\n\t\tthis.yInc = yInc;\n\t\tthis.yThreshold = yThreshold;\n\n\t\tthis.windowHalfX = window.innerWidth / 2;\n\t\tthis.windowHalfY = window.innerHeight / 2;\n\n\t\tthis.video = document.createElement('video');\n\n\t\tvar getUserMedia = navigator.getUserMedia || navigator.mediaDevices.getUserMedia;\n\t\tvar noSupport = document.createElement('h1');\n\t\tnoSupport.innerHTML = 'Your browser is not supported. Please use Google Chrome (v21 or above).';\n\n\t\tnavigator.getUserMedia ? navigator.getUserMedia({ video: { width: 1280, height: 720 } }, function (stream) {\n\t\t\tvar video = _this.video;\n\t\t\tvideo.src = URL.createObjectURL(stream);\n\t\t\tvideo.width = 480;\n\t\t\tvideo.height = 480;\n\n\t\t\t_this.addParticles();\n\t\t}, function () {\n\t\t\treturn console.error('video failed to load');\n\t\t}) : document.getElementsByTagName('body')[0].append(noSupport);\n\t}\n\n\t_createClass(Particles, [{\n\t\tkey: 'onDocumentMouseMove',\n\t\tvalue: function onDocumentMouseMove(event) {\n\t\t\tthis.mouseX = this.windowHalfX - event.clientX;\n\t\t\tthis.mouseY = event.clientY - this.windowHalfY;\n\n\t\t\tthis.FBO.simulationShader.uniforms.mouse.value.set(0.5 * this.mouseX / this.windowHalfX, -0.5 * this.mouseY / this.windowHalfY, 0);\n\t\t}\n\t}, {\n\t\tkey: 'addParticles',\n\t\tvalue: function addParticles() {\n\t\t\tvar video = this.video;\n\t\t\tvar renderer = this.renderer;\n\t\t\tvar numParticles = this.numParticles;\n\t\t\tvar IMAGE_RATIO = video.width / video.height;\n\t\t\tvar COL_RATIO = IMAGE_RATIO > 1 ? IMAGE_RATIO : 1;\n\t\t\tvar ROW_RATIO = IMAGE_RATIO > 1 ? 1 : video.height / video.width;\n\n\t\t\tvar cols = COL_RATIO;\n\t\t\tvar rows = ROW_RATIO;\n\n\t\t\twhile (cols * rows < numParticles - COL_RATIO * ROW_RATIO) {\n\t\t\t\tcols += COL_RATIO;\n\t\t\t\trows += ROW_RATIO;\n\t\t\t}\n\n\t\t\tvar tWidth = Math.ceil(cols);\n\t\t\tvar tHeight = Math.ceil(rows);\n\t\t\tthis.numParticles = tWidth * tHeight;\n\n\t\t\tthis.FBO = new _FBO2.default({\n\t\t\t\ttWidth: tWidth,\n\t\t\t\ttHeight: tHeight,\n\t\t\t\trenderer: renderer,\n\t\t\t\tuniforms: {\n\t\t\t\t\ttWidth: { type: 'f', value: tWidth },\n\t\t\t\t\ttHeight: { type: 'f', value: tHeight },\n\t\t\t\t\tmouse: { value: new THREE.Vector3(10000, 10000, 10000) },\n\n\t\t\t\t\ttSize: { type: 't', value: 0 },\n\t\t\t\t\tyThreshold: { type: 'f', value: this.yThreshold }\n\t\t\t\t},\n\t\t\t\tsimulationVertexShader: _simulationShaders.simulationVertexShader,\n\t\t\t\tsimulationFragmentShader: _simulationShaders.simulationFragmentShader\n\t\t\t});\n\n\t\t\tthis.FBO.setTextureUniform('tSize', this.getSizes());\n\n\t\t\tvar videoImage = this.videoImage = document.createElement('canvas');\n\t\t\tvar videoImageContext = this.videoImageContext = videoImage.getContext('2d');\n\n\t\t\tvar videoTexture = this.videoTexture = new THREE.Texture(videoImage);\n\t\t\tvideoTexture.minFilter = videoTexture.magFilter = THREE.NearestFilter;\n\t\t\tvideoTexture.needsUpdate = true;\n\n\t\t\tvar material = this.material = new THREE.ShaderMaterial({\n\t\t\t\tblending: THREE.NormalBlending,\n\t\t\t\tuniforms: Object.assign({}, this.uniforms, {\n\t\t\t\t\ttTexture: { type: 't', value: videoTexture },\n\t\t\t\t\ttFrame: { type: 't', value: this.FBO.targets[0] }\n\t\t\t\t}),\n\t\t\t\tfragmentShader: _shaders.fragmentShader,\n\t\t\t\tvertexShader: _shaders.vertexShader,\n\t\t\t\topacity: 1,\n\t\t\t\tvertexColors: true,\n\t\t\t\ttransparent: true\n\t\t\t});\n\n\t\t\tvar geometry = this.geometry = new THREE.Geometry();\n\n\t\t\tfor (var i = 0; i < this.numParticles; i++) {\n\t\t\t\tvar vertex = new THREE.Vector3();\n\t\t\t\tvertex.x = i % tWidth / tWidth;\n\t\t\t\tvertex.y = Math.floor(i / tWidth) / tHeight;\n\t\t\t\tgeometry.vertices.push(vertex);\n\t\t\t}\n\n\t\t\tthis.particles = new THREE.Points(geometry, material);\n\t\t\tthis.particles.frustumCulled = false;\n\n\t\t\tthis.scene.add(this.get());\n\n\t\t\tconsole.log('scene loaded!', 'Expected: ' + this.numParticles + ' particles', 'Actual: ' + geometry.vertices.length + ' particles', 'Cols: ' + tWidth, 'Rows: ' + tHeight);\n\n\t\t\tthis.ready = true;\n\t\t\tdocument.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false);\n\t\t}\n\t}, {\n\t\tkey: 'getSizes',\n\t\tvalue: function getSizes() {\n\t\t\tvar sizes = new Float32Array(this.numParticles * 4);\n\t\t\tfor (var i = 0, i4 = 0; i < this.numParticles; i++, i4 += 4) {\n\t\t\t\tsizes[i4] = this.zInc * Math.random();\n\t\t\t\tsizes[i4 + 1] = this.yInc * (Math.random() / 2 + 0.5);\n\t\t\t\tsizes[i4 + 2] = this.calcSize();\n\t\t\t\tsizes[i4 + 3] = this.particleSizeInc * Math.random();\n\t\t\t}\n\t\t\treturn sizes;\n\t\t}\n\t}, {\n\t\tkey: 'calcSize',\n\t\tvalue: function calcSize() {\n\t\t\tvar size = this.particleSize * Math.random();\n\n\t\t\treturn size;\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tif (this.ready) {\n\t\t\t\t// update video texture with webcam feed\n\t\t\t\tvar video = this.video,\n\t\t\t\t    videoImageContext = this.videoImageContext,\n\t\t\t\t    _videoImage = this.videoImage,\n\t\t\t\t    videoWidth = _videoImage.width,\n\t\t\t\t    videoHeight = _videoImage.height,\n\t\t\t\t    videoTexture = this.videoTexture;\n\n\t\t\t\tif (video.readyState === video.HAVE_ENOUGH_DATA) {\n\t\t\t\t\tvideoImageContext.drawImage(video, 0, 0, videoWidth, videoHeight);\n\n\t\t\t\t\tvideoTexture.needsUpdate = true;\n\t\t\t\t}\n\n\t\t\t\tthis.FBO.simulate();\n\n\t\t\t\tthis.material.uniforms.tFrame.value = this.FBO.getCurrentFrame();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'get',\n\t\tvalue: function get() {\n\t\t\treturn this.particles;\n\t\t}\n\t}]);\n\n\treturn Particles;\n}();\n\nexports.default = Particles;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FBO = function () {\n\tfunction FBO() {\n\t\tvar _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t    _ref$tWidth = _ref.tWidth,\n\t\t    tWidth = _ref$tWidth === undefined ? 512 : _ref$tWidth,\n\t\t    _ref$tHeight = _ref.tHeight,\n\t\t    tHeight = _ref$tHeight === undefined ? 512 : _ref$tHeight,\n\t\t    _ref$numTargets = _ref.numTargets,\n\t\t    numTargets = _ref$numTargets === undefined ? 3 : _ref$numTargets,\n\t\t    _ref$filterType = _ref.filterType,\n\t\t    filterType = _ref$filterType === undefined ? THREE.LinearFilter : _ref$filterType,\n\t\t    _ref$format = _ref.format,\n\t\t    format = _ref$format === undefined ? THREE.RGBAFormat : _ref$format,\n\t\t    _ref$type = _ref.type,\n\t\t    type = _ref$type === undefined ? THREE.FloatType : _ref$type,\n\t\t    renderer = _ref.renderer,\n\t\t    uniforms = _ref.uniforms,\n\t\t    simulationVertexShader = _ref.simulationVertexShader,\n\t\t    simulationFragmentShader = _ref.simulationFragmentShader;\n\n\t\t_classCallCheck(this, FBO);\n\n\t\tthis.tWidth = tWidth;\n\t\tthis.tHeight = tHeight;\n\t\tthis.numTargets = numTargets;\n\t\tthis.filterType = filterType;\n\t\tthis.format = format;\n\t\tthis.type = type;\n\t\tthis.renderer = renderer;\n\n\t\tthis.simulationShader = new THREE.ShaderMaterial({\n\t\t\tuniforms: Object.assign({}, uniforms, {\n\t\t\t\ttPrevFrame: { type: 't', value: null },\n\t\t\t\ttFrame: { type: 't', value: null }\n\t\t\t}),\n\t\t\tvertexShader: simulationVertexShader,\n\t\t\tfragmentShader: simulationFragmentShader\n\t\t});\n\n\t\tthis.targets = [];\n\n\t\tfor (var i = 0; i < this.numTargets; i++) {\n\t\t\tthis.targets.push(this.createTarget());\n\t\t}\n\n\t\tthis.cameraRTT = new THREE.OrthographicCamera(-tWidth / 2, tWidth / 2, tHeight / 2, -tHeight / 2, -1000000, 1000000);\n\t\tthis.cameraRTT.position.z = 100;\n\n\t\tthis.sceneRTTPos = new THREE.Scene();\n\t\tthis.sceneRTTPos.add(this.cameraRTT);\n\n\t\tthis.plane = new THREE.PlaneBufferGeometry(tWidth, tHeight);\n\t\tvar quad = new THREE.Mesh(this.plane, this.simulationShader);\n\t\tquad.position.z = -1;\n\t\tthis.sceneRTTPos.add(quad);\n\n\t\tthis.count = -1;\n\t}\n\n\t_createClass(FBO, [{\n\t\tkey: 'createTarget',\n\t\tvalue: function createTarget() {\n\t\t\tvar target = new THREE.WebGLRenderTarget(this.tWidth, this.tHeight, {\n\t\t\t\tminFilter: this.filterType,\n\t\t\t\tmagFilter: this.filterType,\n\t\t\t\tformat: this.format,\n\t\t\t\ttype: this.type,\n\t\t\t\tdepthBuffer: false,\n\t\t\t\tstencilBuffer: false,\n\t\t\t\tantialias: true\n\t\t\t});\n\n\t\t\t// target.texture.generateMipmaps = false;\n\t\t\treturn target;\n\t\t}\n\t}, {\n\t\tkey: 'setBufferAttribute',\n\t\tvalue: function setBufferAttribute(name, data) {\n\t\t\tvar countPerVertices = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n\n\t\t\tthis.plane.addAttribute(name, new THREE.BufferAttribute(data, countPerVertices));\n\t\t}\n\t}, {\n\t\tkey: 'setTextureUniform',\n\t\tvalue: function setTextureUniform(name, data) {\n\t\t\tvar _this = this;\n\n\t\t\tvar format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.format;\n\n\t\t\tvar dataTexture = new THREE.DataTexture(data, this.tWidth, this.tHeight, format, this.type);\n\n\t\t\tdataTexture.minFilter = dataTexture.magFilter = this.filterType;\n\t\t\tdataTexture.needsUpdate = true;\n\t\t\tdataTexture.flipY = false;\n\n\t\t\tif ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n\t\t\t\tname.forEach(function (sName) {\n\t\t\t\t\treturn _this.simulationShader.uniforms[sName].value = dataTexture;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.simulationShader.uniforms[name].value = dataTexture;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'simulate',\n\t\tvalue: function simulate() {\n\t\t\tthis.count++;\n\n\t\t\tif (this.count === this.numTargets) {\n\t\t\t\tthis.count = 0;\n\t\t\t}\n\n\t\t\tvar prev = (this.count === 0 ? this.numTargets : this.count) - 1;\n\t\t\tvar prevTarget = this.targets[prev];\n\n\t\t\tthis.renderer.render({\n\t\t\t\tscene: this.sceneRTTPos,\n\t\t\t\tcamera: this.cameraRTT,\n\t\t\t\trenderTarget: this.getCurrentFrame(),\n\t\t\t\tforce: false\n\t\t\t});\n\t\t\tthis.simulationShader.uniforms.tPrevFrame.value = prevTarget;\n\t\t\tthis.simulationShader.uniforms.tFrame.value = this.getCurrentFrame();\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentFrame',\n\t\tvalue: function getCurrentFrame() {\n\t\t\treturn this.targets[this.count];\n\t\t}\n\t}]);\n\n\treturn FBO;\n}();\n\nexports.default = FBO;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar simulationVertexShader = \"\\n\\tvarying vec2 vUv;\\n\\n\\tvoid main() {\\n\\t  vUv = vec2(uv);\\n\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t}\\n\";\n\nvar simulationFragmentShader = \"\\n\\t/** generates a random number between 0 and 1 **/\\n\\thighp float rand(vec2 co)\\n\\t{\\n\\t\\thighp float a = 12.9898;\\n\\t\\thighp float b = 78.233;\\n\\t\\thighp float c = 43758.5453;\\n\\t\\thighp float dt= dot(co.xy ,vec2(a,b));\\n\\t\\thighp float sn= mod(dt,3.14);\\n\\t\\treturn fract(sin(sn) * c);\\n\\t}\\n\\n\\tvarying vec2 vUv;\\n\\n\\tuniform sampler2D tPrevFrame;\\n\\tuniform sampler2D tFrame;\\n\\n\\tuniform vec3 mouse;\\n\\tuniform sampler2D tSize;\\n\\tuniform float yThreshold;\\n\\n\\tuniform float tWidth;\\n\\tuniform float tHeight;\\n\\n\\tvec3 getPos(vec3 defaultPos) {\\n\\t\\tvec3 prevPos = texture2D(tPrevFrame, vUv).xyz;\\n\\t\\tvec3 currPos = texture2D(tFrame, vUv).xyz;\\n\\t\\tfloat xInc = texture2D(tSize, vUv).x;\\n\\t\\tfloat yInc = texture2D(tSize, vUv).y;\\n\\n\\t\\tvec3 pos = currPos;\\n\\n\\t\\tfloat dist = length(pos - mouse);\\n\\n\\t\\tif (dist < 0.07) {\\n\\t\\t\\tpos += pos - mouse;\\n\\t\\t} else if (pos == vec3(0.0, 0.0, 0.0) || pos.y - yThreshold > defaultPos.y) {\\n\\t\\t\\tpos = defaultPos;\\n\\t\\t} else {\\n\\t\\t\\tpos.y += yInc;\\n\\t\\t\\tpos.x += rand(vec2(defaultPos.x, defaultPos.y)) > 0.5 ? xInc : -xInc;\\n\\t\\t}\\n\\n\\t\\treturn pos;\\n\\t}\\n\\n\\tfloat getSize(vec3 defaultPos, vec3 pos) {\\n\\t\\tfloat defaultSize = texture2D(tSize, vUv).z;\\n\\t\\tfloat incSize = texture2D(tSize, vUv).w;\\n\\t\\tfloat currSize = texture2D(tFrame, vUv).w;\\n\\n\\t\\tcurrSize += incSize;\\n\\n\\t\\tcurrSize += currSize > defaultSize + (incSize * 60.0) ? 0.0 : incSize;\\n\\n\\t\\tif (pos.y == defaultPos.y) {\\n\\t\\t\\tcurrSize = defaultSize / 2.0;\\n\\t\\t}\\n\\n\\t\\treturn currSize;\\n\\t}\\n\\n\\tvoid main() {\\n\\t\\tvec3 defaultPos = vec3((vUv.x * 1.0) - 0.5, (vUv.y * 1.0) - 0.5, 0.0);\\n\\n\\t\\tvec3 pos = getPos(defaultPos);\\n\\t\\tfloat size = getSize(defaultPos, pos);\\n\\n\\t\\t// write new position out\\n\\t\\tgl_FragColor = vec4(pos, size);\\n\\t}\\n\";\n\nexports.simulationFragmentShader = simulationFragmentShader;\nexports.simulationVertexShader = simulationVertexShader;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar fragmentShader = \"\\n\\tuniform sampler2D tTexture;\\n\\n\\tvarying vec2 vUv;\\n\\n\\tvoid main() {\\n\\t\\tvec3 colors = texture2D(tTexture, vUv).xyz;\\n\\n\\t\\tgl_FragColor = vec4(colors, 1.0);\\n\\t\\tif (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.475) discard;\\n\\t}\\n\";\n\nvar vertexShader = \"\\n\\tuniform sampler2D tFrame;\\n\\tuniform float sizeMultipler;\\n\\n\\tvarying vec2 vUv;\\n\\n\\tvoid main() {\\n\\t\\tvUv = position.xy;\\n\\n\\t\\t// position saved as color value in a texture object in memory\\n\\t\\tvec3 pos = texture2D(tFrame, vUv).xyz;\\n\\t\\tfloat size = texture2D(tFrame, vUv).w;\\n\\n\\t\\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\\n\\t\\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\\n\\t\\tgl_Position = projectionMatrix * mvPosition;\\n\\t}\\n\";\n\nexports.fragmentShader = fragmentShader;\nexports.vertexShader = vertexShader;\n\n/***/ })\n],[4]);\n\n\n// WEBPACK FOOTER //\n// bundle.js","import isWebglEnabled from 'detector-webgl';\n\nimport Camera from './io/camera';\nimport Controls from './io/controls';\nimport Renderer from './io/renderer';\nimport Stats from './io/stats';\n\nimport Scene from './objects/scene';\nimport Particles from './objects/particles';\n\nfunction getParameterByName(name, url) {\n\tif (!url) {\n\t\turl = window.location.href;\n\t}\n\n\tname = name.replace(/[\\[\\]]/g, '\\\\$&');\n\tconst regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`);\n\tconst results = regex.exec(url);\n\n\tif (!results) return null;\n\tif (!results[2]) return '';\n\n\treturn decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tif (isWebglEnabled) {\n\t\tconst WIDTH = window.innerWidth;\n\t\tconst HEIGHT = window.innerHeight;\n\t\tconst aspectRatio = 1;\n\n\t\tconst container = document.getElementById('container');\n\n\t\tconst renderer = new Renderer({\n\t\t\twidth: WIDTH,\n\t\t\theight: HEIGHT,\n\t\t\tcontainer\n\t\t});\n\n\t\tconst scene = new Scene();\n\n\t\tconst camera = new Camera({\n\t\t\taspectRatio,\n\t\t\tposition: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tz: -1.5\n\t\t\t}\n\t\t});\n\n\t\tconst controls = new Controls({\n\t\t\tminDistance: 0,\n\t\t\tmaxDistance: 1700,\n\t\t\tcamera: camera.get(),\n\t\t\trendererDomElement: renderer.getDomElement()\n\t\t});\n\n\t\tconst stats = new Stats();\n\n\t\tconst particles = new Particles({\n\t\t\tnumParticles: 150000,\n\t\t\tscene,\n\t\t\trenderer\n\t\t});\n\n\t\tconst init = () => {\n\t\t\tcontrols.onChange(render);\n\n\t\t\tif (getParameterByName('stats') === 'true') {\n\t\t\t\tcontainer.appendChild(stats.getDomElement());\n\t\t\t}\n\t\t};\n\n\t\tconst animate = () => {\n\t\t\trequestAnimationFrame(animate);\n\t\t\tcontrols.update();\n\t\t\trender();\n\t\t};\n\n\t\tconst render = () => {\n\t\t\tcamera.update();\n\t\t\tstats.update();\n\n\t\t\tparticles.update();\n\n\t\t\trenderer.render({\n\t\t\t\tscene: scene.get(),\n\t\t\t\tcamera: camera.get()\n\t\t\t});\n\t\t};\n\n\t\tinit();\n\t\tanimate();\n\t} else {\n\t\tconst info = document.getElementById('info');\n\t\tinfo.innerHTML = 'Your browser is not supported. Please use the latest version of Firefox or Chrome.';\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export default class Camera {\n\tconstructor({\n\t\tfov = 45,\n\t\taspectRatio = window.innerHeight / window.innerWidth,\n\t\tnear = 0.01,\n\t\tfar = 500,\n\t\tposition = {\n\t\t\tx: 0, y: 0, z: 0\n\t\t},\n\t\tup = [0, 0, 1]\n\t}) {\n\t\tthis.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far);\n\n\t\tthis.setPosition(position);\n\n\t\twindow.addEventListener('resize', this.onWindowResize.bind(this));\n\t}\n\n\tonWindowResize() {\n\t\tconst WIDTH = window.innerWidth;\n\t\tconst HEIGHT = window.innerHeight;\n\t\tthis.camera.aspect = WIDTH / HEIGHT;\n\t\tthis.camera.updateProjectionMatrix();\n\t}\n\n\tsetUp(x, y, z) {\n\t\tthis.camera.up.set(x, y, z);\n\t}\n\n\tsetPosition({\n\t\tx = this.camera.position.x,\n\t\ty = this.camera.position.y,\n\t\tz = this.camera.position.z\n\t}) {\n\t\tthis.setX(x);\n\t\tthis.setY(y);\n\t\tthis.setZ(z);\n\t}\n\n\tsetX(x) {\n\t\tthis.camera.position.x = x;\n\t}\n\n\tsetY(y) {\n\t\tthis.camera.position.y = y;\n\t}\n\n\tsetZ(z) {\n\t\tthis.camera.position.z = z;\n\t}\n\n\tupdate() {\n\t}\n\n\tget() {\n\t\treturn this.camera;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/camera.js","import TrackballControls from 'three-trackballcontrols';\n\nexport default class Controls {\n\tconstructor({ \n\t\tcamera,\n\t\trendererDomElement = null,\n\t\trotateSpeed = 1.0,\n\t\tzoomSpeed = 1.0,\n\t\tpanSpeed = 1.0,\n\t\tnoPan = false,\n\t\tstaticMoving = true,\n\t\tdynamicDampingFactor = 0,\n\t\tminDistance = 0,\n\t\tmaxDistance = Infinity,\n\t\tkeys = [65, 83, 68]\n\t}) {\n\t\tthis.controls = new TrackballControls(camera, rendererDomElement);\n\n\t\tthis.controls.rotateSpeed = rotateSpeed;\n\t\tthis.controls.zoomSpeed = zoomSpeed;\n\t\tthis.controls.panSpeed = panSpeed;\n\t\tthis.controls.noPan = noPan;\n\n\t\tthis.controls.staticMoving = staticMoving;\n\t\tthis.controls.dynamicDampingFactor = dynamicDampingFactor;\n\n\t\tthis.controls.minDistance = minDistance;\n\t\tthis.controls.maxDistance = maxDistance;\n\n\t\tthis.controls.keys = keys;\n\t}\n\n\tonChange(render) {\n\t\tthis.controls.addEventListener('change', render);\n\t}\n\n\tupdate() {\n\t\tthis.controls.update();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/controls.js","export default class Renderer {\n\tconstructor({\n\t\talpha = true,\n\t\tpixelRatio = window.devicePixelRatio,\n\t\twidth = window.width,\n\t\theight =  window.height,\n\t\tcontainer\n\t}) {\n\t\tthis.renderer = new THREE.WebGLRenderer({ alpha });\n\t\tconst gl = this.renderer.context;\n  \tgl.enable(gl.BLEND);\n  \tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n\t\tthis.setPixelRatio(pixelRatio);\n\n\t\tthis.setSize(width, height);\n\n\t\tcontainer.appendChild(this.getDomElement());\n\t\twindow.addEventListener('resize', this.onWindowResize.bind(this));\n\t}\n\n\tgetDomElement(container) {\n\t\treturn this.renderer.domElement;\n\t}\n\n\tonWindowResize() {\n\t\tconst WIDTH = window.innerWidth;\n\t\tconst HEIGHT = window.innerHeight;\n\n\t\tthis.renderer.setSize(WIDTH, HEIGHT);\n\t}\n\n\tsetPixelRatio(pixelRatio) {\n\t\tthis.renderer.setPixelRatio(pixelRatio);\n\t}\n\n\tsetSize(w, h) {\n\t\tthis.renderer.setSize(w, h);\n\t}\n\n\trender({\n\t\tscene,\n\t\tcamera,\n\t\trenderTarget = null,\n\t\tforce = false\n\t} = {}) {\n\t\tthis.renderer.render(scene, camera, renderTarget, force);\n\t}\n\n\tget() {\n\t\treturn this.renderer;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/renderer.js","import StatsJS from 'stats.js';\n\nexport default class Stats {\n\tconstructor() {\n\t\tthis.stats = new StatsJS();\n\t}\n\n\tgetDomElement(container) {\n\t\treturn this.stats.domElement;\n\t}\n\n\tupdate() {\n\t\tthis.stats.update();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/stats.js","export default class Canvas {\n\tconstructor() {\n\t\tthis.scene = new THREE.Scene();\n\t\tthis.scene.background = new THREE.Color(0xffffff);\n\t}\n\n\tadd(obj) {\n\t\tthis.scene.add(obj);\n\t}\n\n\tremove(obj) {\n\t\tthis.scene.remove(obj);\n\t}\n\n\tget() {\n\t\treturn this.scene;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/scene.js","import FBO from './FBO';\n\nimport { simulationVertexShader, simulationFragmentShader } from '../shaders/simulationShaders';\nimport { vertexShader, fragmentShader } from '../shaders/shaders';\n\nexport default class Particles {\n\tconstructor({\n\t\tscene,\n\t\tnumParticles \t\t\t\t= 100000,\n\t\tuniforms \t\t\t\t\t\t= {\n\t\t\tsizeMultipler:\t\t\t{ value: (window.innerHeight * window.devicePixelRatio) / 2 },\n\t\t\tcolor:\t\t\t\t\t\t\t{ value: new THREE.Color( 0xffffff ) }\n\t\t},\n\t\tblending \t\t\t\t\t\t= THREE.AdditiveBlending,\n\t\ttransparent \t\t\t\t= true,\n\t\tdepthTest \t\t\t\t\t= true,\n\t\tdepthWrite \t\t\t\t\t= false,\n\n\t\trenderer,\n\n\t\tparticleSize \t\t\t\t= 0.06,\n\t\tparticleSizeInc \t\t= 0.00005,\n\t\tzInc\t\t\t\t\t\t\t\t= 0.0003,\n\t\tyInc\t\t\t\t\t\t\t\t= 0.0007,\n\t\tyThreshold \t\t\t\t\t= 0.2\n\t}) {\n\t\tthis.scene \t\t\t\t\t\t\t\t= scene;\n\t\tthis.numParticles \t\t\t\t= numParticles;\n\t\tthis.renderer \t\t\t\t\t\t= renderer;\n\t\tthis.uniforms \t\t\t\t\t\t= uniforms;\n\n\t\tthis.particleSize\t\t\t\t\t= particleSize;\n\t\tthis.particleSizeInc\t\t\t= particleSizeInc;\n\t\tthis.zInc \t\t\t\t\t\t\t\t= zInc;\n\t\tthis.yInc \t\t\t\t\t\t\t\t= yInc;\n\t\tthis.yThreshold \t\t\t\t\t= yThreshold;\n\n\t\tthis.windowHalfX \t\t\t\t\t= window.innerWidth / 2;\n\t\tthis.windowHalfY \t\t\t\t\t= window.innerHeight / 2;\n\n\t\tthis.video \t\t\t\t\t\t\t\t= document.createElement('video');\n\n\t\tconst getUserMedia = navigator.getUserMedia || navigator.mediaDevices.getUserMedia;\n\t\tconst noSupport = document.createElement('h1');\n\t\tnoSupport.innerHTML = 'Your browser is not supported. Please use Google Chrome (v21 or above).';\n\n\t\tnavigator.getUserMedia\n\t\t\t? navigator.getUserMedia({ video: { width: 1280, height: 720 } }, stream => {\n\t\t\t\tconst video \t\t\t\t\t\t= this.video;\n\t\t  \tvideo.src    \t\t\t\t\t\t= URL.createObjectURL(stream);\n\t\t\t\tvideo.width\t\t\t\t\t\t\t= 480;\n\t\t\t\tvideo.height\t\t\t\t\t\t= 480;\n\n\t\t\t\tthis.addParticles();\n\t\t\t}, () => console.error('video failed to load'))\n\t\t\t: document.getElementsByTagName('body')[0].append(noSupport);\n\t}\n\n\tonDocumentMouseMove(event) {\n\t\tthis.mouseX = this.windowHalfX - event.clientX;\n\t\tthis.mouseY = event.clientY - this.windowHalfY;\n\n\t\tthis.FBO.simulationShader.uniforms.mouse.value.set(0.5 * this.mouseX / this.windowHalfX, -0.5 * this.mouseY / this.windowHalfY, 0);\n\t}\n\n\taddParticles() {\n\t\tconst video \t\t\t\t\t\t\t= this.video;\n\t\tconst renderer \t\t\t\t\t\t= this.renderer;\n\t\tconst numParticles\t\t\t\t= this.numParticles;\n\t\tconst IMAGE_RATIO \t\t\t\t= video.width / video.height;\n\t\tconst COL_RATIO \t\t\t\t\t= IMAGE_RATIO > 1 ? IMAGE_RATIO : 1;\n\t\tconst ROW_RATIO \t\t\t\t\t= IMAGE_RATIO > 1 ? 1 : video.height / video.width;\n\n\t\tlet cols \t\t\t\t\t\t\t\t\t= COL_RATIO;\n\t\tlet rows \t\t\t\t\t\t\t\t\t= ROW_RATIO;\n\n\t\twhile (cols * rows < numParticles - (COL_RATIO * ROW_RATIO)) {\n\t\t\tcols += COL_RATIO;\n\t\t\trows += ROW_RATIO;\n\t\t}\n\n\t\tconst tWidth \t\t\t\t\t\t\t= Math.ceil(cols);\n\t\tconst tHeight \t\t\t\t\t\t= Math.ceil(rows);\n\t\tthis.numParticles \t\t\t\t= tWidth * tHeight;\n\n\t\tthis.FBO = new FBO({\n\t\t\ttWidth,\n\t\t\ttHeight,\n\t\t\trenderer,\n\t\t\tuniforms: {\n\t\t\t\ttWidth: { type: 'f', value: tWidth },\n\t\t\t\ttHeight: { type: 'f', value: tHeight },\n\t\t\t\tmouse: { value: new THREE.Vector3(10000, 10000, 10000) },\n\n\t\t\t\ttSize: { type: 't', value: 0 },\n\t\t\t\tyThreshold: { type: 'f', value: this.yThreshold }\n\t\t\t},\n\t\t\tsimulationVertexShader,\n\t\t\tsimulationFragmentShader\n\t\t});\n\n\t\tthis.FBO.setTextureUniform('tSize', this.getSizes());\n\n\t\tconst videoImage = this.videoImage = document.createElement('canvas');\n\t\tconst videoImageContext = this.videoImageContext = videoImage.getContext('2d');\n\n\t\tconst videoTexture = this.videoTexture = new THREE.Texture(videoImage);\n\t\tvideoTexture.minFilter = videoTexture.magFilter = THREE.NearestFilter;\n\t\tvideoTexture.needsUpdate = true;\n\n\t\tconst material = this.material = new THREE.ShaderMaterial({\n\t\t\tblending: THREE.NormalBlending,\n\t\t\tuniforms: Object.assign({}, this.uniforms, {\n\t\t\t\ttTexture: { type: 't', value: videoTexture },\n\t\t\t\ttFrame: { type: 't', value: this.FBO.targets[0] }\n\t\t\t}),\n\t\t\tfragmentShader,\n\t\t\tvertexShader,\n\t\t\topacity: 1,\n\t\t\tvertexColors: true,\n\t\t\ttransparent: true\n\t\t});\n\n\t\tconst geometry = this.geometry = new THREE.Geometry();\n\n\t\tfor (let i = 0; i < this.numParticles; i++) {\n\t\t\tconst vertex = new THREE.Vector3();\n\t\t\tvertex.x = (i % tWidth) / tWidth;\n\t\t\tvertex.y = Math.floor(i / tWidth) / tHeight;\n\t\t\tgeometry.vertices.push(vertex);\n\t\t}\n\n\t\tthis.particles = new THREE.Points(geometry, material);\n\t\tthis.particles.frustumCulled = false;\n\n\t\tthis.scene.add(this.get());\n\n\t\tconsole.log('scene loaded!',\n\t\t\t`Expected: ${this.numParticles} particles`,\n\t\t\t`Actual: ${geometry.vertices.length} particles`,\n\t\t\t`Cols: ${tWidth}`,\n\t\t\t`Rows: ${tHeight}`);\n\n\t\tthis.ready = true;\n\t\tdocument.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false);\n\t}\n\n\tgetSizes() {\n\t\tconst sizes = new Float32Array(this.numParticles * 4);\n\t\tfor (let i = 0, i4 = 0; i < this.numParticles; i++, i4 += 4) {\n\t\t\tsizes[i4] = this.zInc * Math.random();\n\t\t\tsizes[i4 + 1] = this.yInc * (Math.random() / 2 + 0.5);\n\t\t\tsizes[i4 + 2] = this.calcSize();\n\t\t\tsizes[i4 + 3] = this.particleSizeInc * Math.random();\n\t\t}\n\t\treturn sizes;\n\t}\n\n\tcalcSize() {\n\t\tconst size = this.particleSize * Math.random();\n\n\t\treturn size;\n\t}\n\n\tupdate() {\n\t\tif (this.ready) {\n\t\t\t// update video texture with webcam feed\n\t\t\tconst { video, videoImageContext, videoImage: { width: videoWidth, height: videoHeight }, videoTexture } = this;\n\t\t\tif (video.readyState === video.HAVE_ENOUGH_DATA) {\n\t\t\t\tvideoImageContext.drawImage(video, 0, 0, videoWidth, videoHeight);\n\n\t\t\t\tvideoTexture.needsUpdate = true;\n\t\t\t}\n\n\t\t\tthis.FBO.simulate();\n\n\t\t\tthis.material.uniforms.tFrame.value = this.FBO.getCurrentFrame();\n\t\t}\n\t}\n\n\tget() {\n\t\treturn this.particles;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/particles.js","export default class FBO {\n\tconstructor({\n\t\ttWidth = 512,\n\t\ttHeight = 512,\n\t\tnumTargets = 3,\n\t\tfilterType = THREE.LinearFilter,\n\t\tformat = THREE.RGBAFormat,\n\t\ttype = THREE.FloatType,\n\t\trenderer,\n\t\tuniforms,\n\t\tsimulationVertexShader,\n\t\tsimulationFragmentShader\n\t} = {}) {\n\t\tthis.tWidth = tWidth;\n\t\tthis.tHeight = tHeight;\n\t\tthis.numTargets = numTargets;\n\t\tthis.filterType = filterType;\n\t\tthis.format = format;\n\t\tthis.type = type;\n\t\tthis.renderer = renderer;\n\n\t\tthis.simulationShader = new THREE.ShaderMaterial({\n\t\t\tuniforms: Object.assign({}, uniforms, {\n\t\t\t\ttPrevFrame: { type: 't', value: null },\n\t\t\t\ttFrame: { type: 't', value: null }\n\t\t\t}),\n\t\t\tvertexShader: simulationVertexShader,\n\t\t\tfragmentShader:  simulationFragmentShader\n\t\t});\n\n\t\tthis.targets = [];\n\n\t\tfor (let i = 0; i < this.numTargets; i++) {\n\t\t\tthis.targets.push(this.createTarget());\n\t\t}\n\n\t\tthis.cameraRTT = new THREE.OrthographicCamera(-tWidth / 2, tWidth / 2, tHeight / 2, -tHeight / 2, -1000000, 1000000);\n\t\tthis.cameraRTT.position.z = 100;\n\n\t\tthis.sceneRTTPos = new THREE.Scene();\n\t\tthis.sceneRTTPos.add(this.cameraRTT);\n\n\t\tthis.plane = new THREE.PlaneBufferGeometry(tWidth, tHeight);\n\t\tconst quad = new THREE.Mesh(this.plane, this.simulationShader);\n\t\tquad.position.z = -1;\n\t\tthis.sceneRTTPos.add(quad);\n\n\t\tthis.count = -1;\n\t}\n\n\tcreateTarget() {\n\t\tconst target = new THREE.WebGLRenderTarget(this.tWidth, this.tHeight, {\n\t\t\tminFilter: this.filterType,\n\t\t\tmagFilter: this.filterType,\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tdepthBuffer: false,\n\t\t\tstencilBuffer: false,\n\t\t\tantialias: true\n\t\t});\n\n\t\t// target.texture.generateMipmaps = false;\n\t\treturn target;\n\t}\n\n\tsetBufferAttribute(name, data, countPerVertices = 3) {\n\t\tthis.plane.addAttribute(name, new THREE.BufferAttribute(data, countPerVertices));\n\t}\n\n\tsetTextureUniform(name, data, format = this.format) {\n\t\tconst dataTexture = new THREE.DataTexture(\n\t\t\tdata,\n\t\t\tthis.tWidth,\n\t\t\tthis.tHeight,\n\t\t\tformat,\n\t\t\tthis.type\n\t\t);\n\n\t\tdataTexture.minFilter = dataTexture.magFilter = this.filterType;\n\t\tdataTexture.needsUpdate = true;\n\t\tdataTexture.flipY = false;\n\n\t\tif (typeof name === 'object') {\n\t\t\tname.forEach(sName => this.simulationShader.uniforms[sName].value = dataTexture);\n\t\t} else {\n\t\t\tthis.simulationShader.uniforms[name].value = dataTexture;\n\t\t}\n\t}\n\n\tsimulate() {\n\t\tthis.count++;\n\n\t\tif (this.count === this.numTargets) {\n\t\t\tthis.count = 0;\n\t\t}\n\n\t\tconst prev = (this.count === 0 ? this.numTargets : this.count) - 1;\n\t\tconst prevTarget = this.targets[prev];\n\n\t\tthis.renderer.render({\n\t\t\tscene: this.sceneRTTPos,\n\t\t\tcamera: this.cameraRTT,\n\t\t\trenderTarget: this.getCurrentFrame(),\n\t\t\tforce: false\n\t\t});\n\t\tthis.simulationShader.uniforms.tPrevFrame.value = prevTarget;\n\t\tthis.simulationShader.uniforms.tFrame.value = this.getCurrentFrame();\n\t}\n\n\tgetCurrentFrame() {\n\t\treturn this.targets[this.count];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/FBO.js","const simulationVertexShader = `\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = vec2(uv);\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n`;\n\nconst simulationFragmentShader = `\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co)\n\t{\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrevFrame;\n\tuniform sampler2D tFrame;\n\n\tuniform vec3 mouse;\n\tuniform sampler2D tSize;\n\tuniform float yThreshold;\n\n\tuniform float tWidth;\n\tuniform float tHeight;\n\n\tvec3 getPos(vec3 defaultPos) {\n\t\tvec3 prevPos = texture2D(tPrevFrame, vUv).xyz;\n\t\tvec3 currPos = texture2D(tFrame, vUv).xyz;\n\t\tfloat xInc = texture2D(tSize, vUv).x;\n\t\tfloat yInc = texture2D(tSize, vUv).y;\n\n\t\tvec3 pos = currPos;\n\n\t\tfloat dist = length(pos - mouse);\n\n\t\tif (dist < 0.07) {\n\t\t\tpos += pos - mouse;\n\t\t} else if (pos == vec3(0.0, 0.0, 0.0) || pos.y - yThreshold > defaultPos.y) {\n\t\t\tpos = defaultPos;\n\t\t} else {\n\t\t\tpos.y += yInc;\n\t\t\tpos.x += rand(vec2(defaultPos.x, defaultPos.y)) > 0.5 ? xInc : -xInc;\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\tfloat getSize(vec3 defaultPos, vec3 pos) {\n\t\tfloat defaultSize = texture2D(tSize, vUv).z;\n\t\tfloat incSize = texture2D(tSize, vUv).w;\n\t\tfloat currSize = texture2D(tFrame, vUv).w;\n\n\t\tcurrSize += incSize;\n\n\t\tcurrSize += currSize > defaultSize + (incSize * 60.0) ? 0.0 : incSize;\n\n\t\tif (pos.y == defaultPos.y) {\n\t\t\tcurrSize = defaultSize / 2.0;\n\t\t}\n\n\t\treturn currSize;\n\t}\n\n\tvoid main() {\n\t\tvec3 defaultPos = vec3((vUv.x * 1.0) - 0.5, (vUv.y * 1.0) - 0.5, 0.0);\n\n\t\tvec3 pos = getPos(defaultPos);\n\t\tfloat size = getSize(defaultPos, pos);\n\n\t\t// write new position out\n\t\tgl_FragColor = vec4(pos, size);\n\t}\n`;\n\nexport {\n\tsimulationFragmentShader,\n\tsimulationVertexShader\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/simulationShaders.js","const fragmentShader = `\n\tuniform sampler2D tTexture;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvec3 colors = texture2D(tTexture, vUv).xyz;\n\n\t\tgl_FragColor = vec4(colors, 1.0);\n\t\tif (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.475) discard;\n\t}\n`;\n\nconst vertexShader = `\n\tuniform sampler2D tFrame;\n\tuniform float sizeMultipler;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\n\t\t// position saved as color value in a texture object in memory\n\t\tvec3 pos = texture2D(tFrame, vUv).xyz;\n\t\tfloat size = texture2D(tFrame, vUv).w;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\t\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n`;\n\nexport {\n\tfragmentShader,\n\tvertexShader\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/shaders.js"],"sourceRoot":""}