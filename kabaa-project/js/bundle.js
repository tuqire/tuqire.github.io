webpackJsonp([0],[,,,,,function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var r=n(1),a=i(r),s=n(7),u=i(s),l=n(8),c=i(l),d=n(10),f=i(d),h=n(11),v=i(h),m=n(12),p=i(m),g=n(15),y=i(g),w=n(16),b=i(w),z=n(20),P=i(z),S=n(21),T=i(S);document.addEventListener("DOMContentLoaded",function(){if(a.default){var t=window.innerWidth,e=window.innerHeight,n=t/e,i=document.getElementById("container"),r=new f.default({width:t,height:e,container:i}),s=new u.default({aspectRatio:n,position:{x:310,y:-220,z:240}}),l=new c.default({dynamicDampingFactor:.3,minDistance:40,maxDistance:1e3,camera:s.get(),rendererDomElement:r.getDomElement()}),d=new v.default,h=new P.default({roughness:.7,position:{z:2.5},bumpScale:.02}),m=new T.default({color:5592405,strength:5,position:[150,150,100]}),g=new b.default({numParticles:t>480?5e5:2e5,renderer:r.get()}),w=new y.default,z=(new p.default({particles:g,scene:w}),function(){s.update(),g.update(),d.update(),r.render(w.get(),s.get())});!function(){w.add(h.get()),w.add(m.get()),w.add(g.get()),l.onChange(z),"true"===o("stats")&&i.appendChild(d.getDomElement())}(),function t(){requestAnimationFrame(t),l.update(),z()}()}else{document.getElementById("info").innerHTML="Your browser is not supported. Please use the latest version of Firefox or Chrome."}})},function(t,e,n){"use strict";(function(t){function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function e(o){var r=o.fov,a=void 0===r?400:r,s=o.aspectRatio,u=void 0===s?1:s,l=o.near,c=void 0===l?.1:l,d=o.far,f=void 0===d?2e3:d,h=o.position,v=void 0===h?{x:0,y:0,z:0}:h,m=o.up,p=void 0===m?[0,0,1]:m;i(this,e),this.camera=new t.PerspectiveCamera(a,u,c,f),this.defaultUp=p,this.setPosition(v),this.setUp.apply(this,n(this.defaultUp)),window.addEventListener("resize",this.onWindowResize.bind(this))}return o(e,[{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.camera.updateProjectionMatrix()}},{key:"setUp",value:function(t,e,n){this.camera.up.set(t,e,n)}},{key:"setPosition",value:function(t){var e=t.x,n=void 0===e?this.camera.position.x:e,i=t.y,o=void 0===i?this.camera.position.y:i,r=t.z,a=void 0===r?this.camera.position.z:r;this.setX(n),this.setY(o),this.setZ(a)}},{key:"setX",value:function(t){this.camera.position.x=t}},{key:"setY",value:function(t){this.camera.position.y=t}},{key:"setZ",value:function(t){this.camera.position.z=t}},{key:"update",value:function(){this.setUp.apply(this,n(this.defaultUp)),this.camera.position.z<10&&this.camera.position.z++}},{key:"get",value:function(){return this.camera}}]),e}();e.default=r}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=function(){function t(e){var n=e.camera,o=e.rendererDomElement,r=void 0===o?null:o,s=e.rotateSpeed,u=void 0===s?1:s,l=e.zoomSpeed,c=void 0===l?1:l,d=e.panSpeed,f=void 0===d?1:d,h=e.noPan,v=void 0!==h&&h,m=e.staticMoving,p=void 0===m||m,g=e.dynamicDampingFactor,y=void 0===g?0:g,w=e.minDistance,b=void 0===w?0:w,z=e.maxDistance,P=void 0===z?1/0:z,S=e.keys,T=void 0===S?[65,83,68]:S;i(this,t),this.controls=new a.default(n,r),this.controls.rotateSpeed=u,this.controls.zoomSpeed=c,this.controls.panSpeed=f,this.controls.noPan=v,this.controls.staticMoving=p,this.controls.dynamicDampingFactor=y,this.controls.minDistance=b,this.controls.maxDistance=P,this.controls.keys=T}return o(t,[{key:"onChange",value:function(t){this.controls.addEventListener("change",t)}},{key:"update",value:function(){this.controls.update()}}]),t}();e.default=s},,function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function e(i){var o=i.alpha,r=void 0===o||o,a=i.pixelRatio,s=void 0===a?window.devicePixelRatio:a,u=i.width,l=void 0===u?window.width:u,c=i.height,d=void 0===c?window.height:c,f=i.container;n(this,e),this.renderer=new t.WebGLRenderer({alpha:r}),this.setPixelRatio(s),this.setSize(l,d),f.appendChild(this.getDomElement()),window.addEventListener("resize",this.onWindowResize.bind(this))}return i(e,[{key:"getDomElement",value:function(t){return this.renderer.domElement}},{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.renderer.setSize(t,e)}},{key:"setPixelRatio",value:function(t){this.renderer.setPixelRatio(t)}},{key:"setSize",value:function(t,e){this.renderer.setSize(t,e)}},{key:"render",value:function(t,e){this.renderer.render(t,e)}},{key:"get",value:function(){return this.renderer}}]),e}();e.default=o}).call(e,n(0))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=function(){function t(){i(this,t),this.stats=new a.default}return o(t,[{key:"getDomElement",value:function(t){return this.stats.domElement}},{key:"update",value:function(){this.stats.update()}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.particles;e.scene;i(this,t),this.gui=new a.default.GUI,this.addCirclesControls(n),this.addRadiusControls(n),this.addVibrationControls(n),this.addSpeedControls(n),this.addSphereControls(n)}return o(t,[{key:"addCirclesControls",value:function(t){this.gui.add(t,"circles").min(1).max(25).step(1).onFinishChange(function(){t.initParticleVars(),t.setTargetPositions()})}},{key:"addRadiusControls",value:function(t){this.gui.add(t,"radius").min(50).max(150).onFinishChange(function(){t.initParticleVars(),t.setTargetPositions()})}},{key:"addVibrationControls",value:function(t){this.gui.add(t,"vibration").min(0).max(10).step(.5).onFinishChange(function(){t.FBO.simulationShader.uniforms.vibration.value=t.vibration})}},{key:"addSpeedControls",value:function(t){this.gui.add(t,"speed").min(0).max(.01)}},{key:"addSphereControls",value:function(t){this.gui.add(t,"sphere").onFinishChange(function(){t.setSimType(),t.setTargetPositions()})}}]),t}();e.default=s},,,function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function e(){n(this,e),this.scene=new t.Scene}return i(e,[{key:"add",value:function(t){this.scene.add(t)}},{key:"remove",value:function(t){this.scene.remove(t)}},{key:"get",value:function(){return this.scene}}]),e}();e.default=o}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(17),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(18),u=n(19),l=function(){function e(n){var o=n.renderer,r=n.numParticles,l=void 0===r?12e5:r,c=n.configUniforms,d=void 0===c?{color:{value:new t.Color(16777215)},sizeMultipler:{value:window.innerHeight*window.devicePixelRatio/2},texture:{value:(new t.TextureLoader).load("images/star.png")}}:c,f=n.blending,h=void 0===f?t.AdditiveBlending:f,v=n.transparent,m=void 0===v||v,p=n.depthTest,g=void 0===p||p,y=n.depthWrite,w=void 0!==y&&y,b=n.circles,z=void 0===b?7:b,P=n.radius,S=void 0===P?100:P,T=n.depth,x=void 0===T?0:T,k=n.colour,C=void 0===k?.8:k,F=n.sphere,M=void 0!==F&&F,_=n.speed,R=void 0===_?5e-4:_,D=n.vibration,O=void 0===D?1:D,E=n.beats,j=void 0===E?.075:E,U=n.minSize,G=void 0===U?1:U,V=n.maxSize,B=void 0===V?5:V,W=n.incSize,Z=void 0===W?.05:W;i(this,e),this.renderer=o,this.numParticles=l,this.circles=z,this.radius=S,this.depth=x,this.colour=C,this.sphere=M,this.speed=R,this.vibration=O,this.beats=j,this.minSize=G,this.maxSize=B,this.incSize=Z,this.initParticleVars();var A=this.numParticles/512;this.FBO=new a.default({tWidth:A,tHeight:512,renderer:o,uniforms:{tTargetPosition:{type:"t",value:null},clampValue:{type:"f",value:.1},flatSimulation:{type:"bool",value:!0},vibration:{type:"f",value:this.vibration},minSize:{type:"f",value:this.minSize},maxSize:{type:"f",value:this.maxSize},incSize:{type:"f",value:this.incSize}},simulationVertexShader:u.simulationVertexShader,simulationFragmentShader:u.simulationFragmentShader}),this.setDefaultPositions(),this.setTargetPositions();var L=Object.assign({},d,{tPosition:{type:"t",value:this.FBO.targets[0]}});this.material=new t.ShaderMaterial({uniforms:L,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,blending:h,transparent:m,depthTest:g,depthWrite:w});for(var H=new t.Geometry,Y=0,I=this.numParticles;Y<I;Y++){var N=new t.Vector3;N.x=Y%A/A,N.y=Math.floor(Y/A)/512,H.vertices.push(N)}this.particles=new t.Points(H,this.material),this.particles.frustumCulled=!1}return o(e,[{key:"setDefaultPositions",value:function(){this.FBO.setTextureUniform(["tPrev","tCurr"],this.getDefaultPositions())}},{key:"getDefaultPositions",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,n=0;e<this.numParticles;e++,n+=4)t[n]=t[n+1]=t[n+2]=t[n+3]=0;return t}},{key:"setTargetPositions",value:function(){this.FBO.setTextureUniform("tTargetPosition",this.getTargetPositions())}},{key:"getTargetPositions",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,n=0;e<this.numParticles;e++,n+=4){var i=this.getTargetPosition(e,n);t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=this.getSize(e,i)}return t}},{key:"getTargetPosition",value:function(t,e){var n=this.getClusterNum(t);return this.calcTargetPosition(this.radiuses[n])}},{key:"calcTargetPosition",value:function(t){var e=2*Math.random()-1,n=2*Math.random()-1,i=3*Math.random()-1.5,o=i<1.45?i:150*Math.random(),r=1/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)+Math.pow(i,2));return[e*t*r,n*t*r,this.sphere?i*t*r:o]}},{key:"getSize",value:function(t,e){var n=this.getClusterNum(t)+1,i=this.maxSize-this.minSize,o=Math.random()/n;return this.minSize+i*o}},{key:"initParticleVars",value:function(){this.setClusters(),this.setRadiuses()}},{key:"setClusters",value:function(){this.clusters=[];for(var t=0;t<this.circles-1;t++)this.clusters[t]=Math.floor(this.numParticles/(this.circles*(this.circles-t))*(t+1));this.clusters[this.circles-1]=this.numParticles}},{key:"getClusterNum",value:function(t){for(var e=0;e<this.clusters.length;e++){var n=0===e?0:this.clusters[e-1];if(t<this.clusters[e]&&t>=n)return e}}},{key:"setRadiuses",value:function(){this.radiuses=[];for(var t=0;t<this.circles;t++)this.radiuses[t]=(t+1)*this.radius}},{key:"setColour",value:function(t){}},{key:"update",value:function(){this.FBO.simulate(),this.material.uniforms.tPosition.value=this.FBO.getCurrentFrame(),this.rotateZ(this.speed)}},{key:"rotateZ",value:function(t){this.particles.rotation.z+=t}},{key:"get",value:function(){return this.particles}},{key:"setSimType",value:function(){this.FBO.simulationShader.uniforms.flatSimulation.value=!this.sphere}}]),e}();e.default=l}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.tWidth,r=void 0===o?512:o,a=i.tHeight,s=void 0===a?512:a,u=i.numTargets,l=void 0===u?3:u,c=i.filterType,d=void 0===c?t.NearestFilter:c,f=i.format,h=void 0===f?t.RGBAFormat:f,v=i.renderer,m=i.uniforms,p=i.simulationVertexShader,g=i.simulationFragmentShader;n(this,e),this.tWidth=r,this.tHeight=s,this.numTargets=l,this.filterType=d,this.format=h,this.renderer=v,this.simulationShader=new t.ShaderMaterial({uniforms:Object.assign({},m,{numFrames:{type:"f",value:60},tPrev:{type:"t",value:null},tCurr:{type:"t",value:null}}),vertexShader:p,fragmentShader:g}),this.cameraRTT=new t.OrthographicCamera(-r/2,r/2,s/2,-s/2,-1e6,1e6),this.cameraRTT.position.z=100,this.sceneRTTPos=new t.Scene,this.sceneRTTPos.add(this.cameraRTT),this.type=this.getType(),this.targets=[];for(var y=0;y<this.numTargets;y++)this.targets.push(this.createTarget());this.plane=new t.PlaneBufferGeometry(r,s);var w=new t.Mesh(this.plane,this.simulationShader);w.position.z=-1,this.sceneRTTPos.add(w),this.count=-1}return o(e,[{key:"getType",value:function(){var e=new t.WebGLRenderTarget(16,16,{format:t.RGBAFormat,type:t.FloatType});this.renderer.render(this.sceneRTTPos,this.cameraRTT,e);var n=this.renderer.context;return n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE?(console.log("FloatType not supported"),t.HalfFloatType):t.FloatType}},{key:"createTarget",value:function(){var e=new t.WebGLRenderTarget(this.tWidth,this.tHeight,{minFilter:this.filterType,magFilter:this.filterType,format:this.format,type:this.type,depthBuffer:!1,stencilBuffer:!1,antialias:!0});return e.texture.generateMipmaps=!1,e}},{key:"setTextureUniform",value:function(e,n){var o=this,r=new t.DataTexture(n,this.tWidth,this.tHeight,this.format,t.FloatType);r.minFilter=r.magFilter=this.filterType,r.needsUpdate=!0,r.flipY=!1,"object"===(void 0===e?"undefined":i(e))?e.forEach(function(t){return o.simulationShader.uniforms[t].value=r}):this.simulationShader.uniforms[e].value=r}},{key:"simulate",value:function(){++this.count===this.numTargets&&(this.count=0);var t=(0===this.count?this.numTargets:this.count)-1,e=this.targets[t];this.renderer.render(this.sceneRTTPos,this.cameraRTT,this.getCurrentFrame()),this.simulationShader.uniforms.tPrev.value=e,this.simulationShader.uniforms.tCurr.value=this.getCurrentFrame()}},{key:"getCurrentFrame",value:function(){return this.targets[this.count]}}]),e}();e.default=r}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.fragmentShader="\n\tuniform sampler2D texture;\n\n\tvoid main() {\n\t\tgl_FragColor = vec4(0.7, 0.7, 0.7, 0.6);\n\t\tgl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n\t}\n",e.vertexShader="\n\tuniform sampler2D tPosition;\n\n\tvarying vec2 vUv;\n\n\tuniform float sizeMultipler;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\n\t\t// position saved as color value in a texture object in momery\n\t\tvec3 pos = texture2D(tPosition, vUv).xyz;\n\t\tfloat size = texture2D(tPosition, vUv).w;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\t\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.simulationFragmentShader="\n\t// simulation\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tTargetPosition;\n\n\tuniform float numFrames;\n\tuniform float clampValue;\n\n\tuniform float incSize;\n\tuniform float maxSize;\n\tuniform float minSize;\n\n\tuniform bool flatSimulation;\n\tuniform float vibration;\n\n\thighp float rand(vec2 co)\n\t{\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\tfloat getSize() {\n\t\tfloat defaultSize = texture2D(tTargetPosition, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\n\t\tif (size == 0.0 && prevSize == 0.0) {\n\t\t\tsize = defaultSize;\n\t\t} else if (size < minSize) {\n\t\t\tsize += incSize;\n\t\t} else if (size > maxSize) {\n\t\t\tsize -= incSize;\n\t\t} else if (size == prevSize) {\n\t\t\tsize += incSize;\n\t\t} else {\n\t\t\tsize += (size - prevSize);\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tfloat getZValue(vec3 pos, vec3 targetPos) {\n\t\tfloat prevZ = texture2D(tPrev, vUv).z;\n\t\tfloat incZ = vibration * (rand(vec2(pos.x, pos.y)) / numFrames);\n\n\t\tif ((pos.z < targetPos.z - 1.0) || (pos.z == targetPos.z)) {\n\t\t\tpos.z += incZ;\n\t\t} else if (pos.z > targetPos.z + 1.0) {\n\t\t\tpos.z -= incZ;\n\t\t} else {\n\t\t\tpos.z += pos.z - prevZ;\n\t\t}\n\n\t\treturn pos.z;\n\t}\n\n\tvoid main() {\n\t\tvec3 pos = texture2D(tCurr, vUv).xyz;\n\t\tvec3 targetPos = texture2D(tTargetPosition, vUv).xyz;\n\t\tfloat size = getSize();\n\n\t\t// fancy maths goes here\n\t\tvec3 distanceToGoal = targetPos - pos;\n\n\t\tif (distanceToGoal.x != 0.0 || distanceToGoal.y != 0.0) {\n\t\t\tvec3 velocity = vec3(\n\t\t\t\tdistanceToGoal.x < clampValue && distanceToGoal.x > -clampValue ? distanceToGoal.x : distanceToGoal.x / numFrames,\n\t\t\t\tdistanceToGoal.y < clampValue && distanceToGoal.y > -clampValue ? distanceToGoal.y : distanceToGoal.y / numFrames,\n\t\t\t\tdistanceToGoal.z < clampValue && distanceToGoal.z > -clampValue ? distanceToGoal.z : distanceToGoal.z / numFrames\n\t\t\t);\n\n\t\t\tpos += velocity;\n\t\t} else {\n\t\t\tif (flatSimulation) {\n\t\t\t\t// pos.z += rand(vec2(pos.x, pos.y)) / 20.0;\n\t\t\t\t//\n\t\t\t\t// if ((pos.z > (1.0 + targetPos.z)) && (size < 1.0)) {\n\t\t\t\t// \tpos.z = targetPos.z;\n\t\t\t\t// }\n\n\t\t\t\tpos.z = getZValue(pos, targetPos);\n\t\t\t}\n\t\t}\n\n\n\t\t// write new position out\n\t\tgl_FragColor = vec4(pos, size);\n\t}\n",e.simulationVertexShader="\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t    \tvUv = vec2(uv);\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.size,r=void 0===o?5:o,a=i.roughness,s=void 0===a?1:a,u=i.color,l=void 0===u?16777215:u,c=i.bumpScale,d=void 0===c?1:c,f=i.metalness,h=void 0===f?1:f,v=i.emissive,m=void 0===v?1:v,p=i.position,g=void 0===p?{x:0,y:0,z:0}:p,y=i.castShadow,w=void 0===y||y;n(this,e),this.geometry=new t.CubeGeometry(r,r,r,1,1,1),this.material=new t.MeshStandardMaterial({roughness:s,color:l,bumpScale:d,metalness:h,emissive:m}),this.cube=new t.Mesh(this.geometry,this.material),this.geometry.castShadow=w,this.setPosition(g)}return i(e,[{key:"setPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,r=t.z,a=void 0===r?0:r;this.setX(n),this.setY(o),this.setZ(a)}},{key:"setX",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cube.position.x=t}},{key:"setY",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cube.position.y=t}},{key:"setZ",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cube.position.z=t}},{key:"get",value:function(){return this.cube}}]),e}();e.default=o}).call(e,n(0))},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function e(i){var o=i.color,r=void 0===o?16777215:o,a=i.strength,s=void 0===a?1:a,u=i.position,l=void 0===u?[0,0,0]:u;n(this,e),this.light=new t.PointLight(r,s),this.light.position.set(l[0],l[1],l[2])}return i(e,[{key:"get",value:function(){return this.light}}]),e}();e.default=o}).call(e,n(0))}],[5]);
//# sourceMappingURL=bundle.js.map