{"version":3,"sources":["webpack:///js/bundle.js","webpack:///./src/js/main.js","webpack:///./src/js/io/camera.js","webpack:///./src/js/io/controls.js","webpack:///./src/js/io/renderer.js","webpack:///./src/js/io/stats.js","webpack:///./src/js/io/gui.js","webpack:///./src/js/objects/scene.js","webpack:///./src/js/objects/particles.js","webpack:///./src/js/shaders/shaders.js","webpack:///./src/js/shaders/simulationShaders.js","webpack:///./src/js/objects/cube.js","webpack:///./src/js/objects/light.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","_detectorWebgl","_detectorWebgl2","_camera","_camera2","_controls","_controls2","_renderer","_renderer2","_stats","_stats2","_gui","_gui2","_scene","_scene2","_particles","_particles2","_cube","_cube2","_light","_light2","isNotMobileScreen","matchMedia","matches","isTabletScreen","document","addEventListener","isWebglEnabled","WIDTH","innerWidth","HEIGHT","innerHeight","aspectRatio","container","getElementById","renderer","Renderer","width","height","camera","Camera","position","x","y","z","controls","Controls","dynamicDampingFactor","minDistance","maxDistance","get","rendererDomElement","getDomElement","stats","Stats","cube","Cube","roughness","bumpScale","light","Light","color","strength","particles","Particles","numParticles","scene","Scene","render","GUI","update","add","onChange","appendChild","animate","requestAnimationFrame","innerHTML","THREE","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_ref","_ref$fov","fov","undefined","_ref$aspectRatio","_ref$near","near","_ref$far","far","_ref$position","_ref$up","up","this","PerspectiveCamera","defaultUp","setPosition","setUp","apply","onWindowResize","bind","aspect","updateProjectionMatrix","set","_ref2","_ref2$x","_ref2$y","_ref2$z","setX","setY","setZ","call","_threeTrackballcontrols","_threeTrackballcontrols2","_ref$rendererDomEleme","_ref$rotateSpeed","rotateSpeed","_ref$zoomSpeed","zoomSpeed","_ref$panSpeed","panSpeed","_ref$noPan","noPan","_ref$staticMoving","staticMoving","_ref$dynamicDampingFa","_ref$minDistance","_ref$maxDistance","Infinity","_ref$keys","keys","TrackballControls","_ref$alpha","alpha","_ref$pixelRatio","pixelRatio","devicePixelRatio","_ref$width","_ref$height","WebGLRenderer","setPixelRatio","setSize","domElement","w","h","StatsJS","_datGui","_datGui2","arguments","gui","DatGUI","addCirclesControls","addRadiusControls","addVibrationControls","addSpeedControls","addSphereControls","min","max","step","onFinishChange","initParticleVars","setTargetPositions","FBO","simulationShader","uniforms","vibration","setSimType","Canvas","remove","_three","_three2","_shaders","_simulationShaders","_ref$numParticles","_ref$configUniforms","configUniforms","Color","sizeMultipler","texture","TextureLoader","load","_ref$blending","blending","AdditiveBlending","_ref$transparent","transparent","_ref$depthTest","depthTest","_ref$depthWrite","depthWrite","_ref$circles","circles","_ref$radius","radius","_ref$depth","depth","_ref$colour","colour","_ref$sphere","sphere","_ref$speed","speed","_ref$vibration","_ref$beats","beats","_ref$minSize","minSize","_ref$maxSize","maxSize","_ref$incSize","incSize","tWidth","tHeight","tTargetPosition","type","clampValue","flatSimulation","simulationVertexShader","simulationFragmentShader","setDefaultPositions","assign","tPosition","targets","material","ShaderMaterial","vertexShader","fragmentShader","geometry","Geometry","l","vertex","Vector3","Math","floor","vertices","push","Points","frustumCulled","setTextureUniform","getDefaultPositions","Float32Array","i3","getTargetPositions","vertice","getTargetPosition","getSize","index","clusterNum","getClusterNum","calcTargetPosition","radiuses","random","tempZ","d","sqrt","pow","sizeRange","rand","setClusters","setRadiuses","clusters","lowerLimit","simulate","getCurrentFrame","rotateZ","inc","rotation","_ref$size","size","_ref$roughness","_ref$color","_ref$bumpScale","_ref$metalness","metalness","_ref$emissive","emissive","_ref$castShadow","castShadow","CubeGeometry","MeshStandardMaterial","Mesh","_ref$strength","PointLight"],"mappings":"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","file":"js/bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _detectorWebgl = __webpack_require__(1);\n\nvar _detectorWebgl2 = _interopRequireDefault(_detectorWebgl);\n\nvar _camera = __webpack_require__(7);\n\nvar _camera2 = _interopRequireDefault(_camera);\n\nvar _controls = __webpack_require__(8);\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _renderer = __webpack_require__(10);\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _stats = __webpack_require__(11);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _gui = __webpack_require__(12);\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _scene = __webpack_require__(15);\n\nvar _scene2 = _interopRequireDefault(_scene);\n\nvar _particles = __webpack_require__(16);\n\nvar _particles2 = _interopRequireDefault(_particles);\n\nvar _cube = __webpack_require__(20);\n\nvar _cube2 = _interopRequireDefault(_cube);\n\nvar _light = __webpack_require__(21);\n\nvar _light2 = _interopRequireDefault(_light);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getParameterByName(name, url) {\n  if (!url) {\n    url = window.location.href;\n  }\n\n  name = name.replace(/[[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regex.exec(url);\n\n  if (!results) return null;\n  if (!results[2]) return '';\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nvar isNotMobileScreen = function isNotMobileScreen() {\n  return window.matchMedia('(min-width: 480px)').matches;\n};\nvar isTabletScreen = function isTabletScreen() {\n  return window.matchMedia('(max-width: 1000px)').matches;\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  if (_detectorWebgl2.default && isNotMobileScreen()) {\n    var WIDTH = window.innerWidth;\n    var HEIGHT = window.innerHeight;\n    var aspectRatio = WIDTH / HEIGHT;\n\n    var container = document.getElementById('container');\n\n    var renderer = new _renderer2.default({ width: WIDTH, height: HEIGHT, container: container });\n\n    var camera = new _camera2.default({ aspectRatio: aspectRatio, position: { x: 310, y: -220, z: 240 } });\n    var controls = new _controls2.default({ dynamicDampingFactor: 0.3, minDistance: 40, maxDistance: 1000, camera: camera.get(), rendererDomElement: renderer.getDomElement() });\n\n    var stats = new _stats2.default();\n    var cube = new _cube2.default({ roughness: 0.7, position: { z: 5 / 2 }, bumpScale: 0.02 });\n    var light = new _light2.default({ color: 0x555555, strength: 5, position: [150, 150, 100] });\n    var particles = new _particles2.default({\n      numParticles: isTabletScreen() ? 400 * 500 : 1000 * 500,\n      renderer: renderer.get()\n    });\n    var scene = new _scene2.default();\n\n    var gui = new _gui2.default({ particles: particles, scene: scene }); // eslint-disable-line\n\n    var init = function init() {\n      scene.add(cube.get());\n      scene.add(light.get());\n      scene.add(particles.get());\n\n      controls.onChange(render);\n\n      if (getParameterByName('stats') === 'true') {\n        container.appendChild(stats.getDomElement());\n      }\n    };\n\n    var animate = function animate() {\n      requestAnimationFrame(animate); // eslint-disable-line\n      controls.update();\n      render();\n    };\n\n    var render = function render() {\n      camera.update();\n      particles.update();\n      stats.update();\n      renderer.render(scene.get(), camera.get());\n    };\n\n    init();\n    animate();\n  } else {\n    var info = document.getElementById('info');\n    info.innerHTML = 'This browser is not supported. Please use the latest version of Chrome on desktop.';\n  }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Camera = function () {\n  function Camera(_ref) {\n    var _ref$fov = _ref.fov,\n        fov = _ref$fov === undefined ? 400 : _ref$fov,\n        _ref$aspectRatio = _ref.aspectRatio,\n        aspectRatio = _ref$aspectRatio === undefined ? 1 : _ref$aspectRatio,\n        _ref$near = _ref.near,\n        near = _ref$near === undefined ? 0.1 : _ref$near,\n        _ref$far = _ref.far,\n        far = _ref$far === undefined ? 2000 : _ref$far,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? {\n      x: 0, y: 0, z: 0\n    } : _ref$position,\n        _ref$up = _ref.up,\n        up = _ref$up === undefined ? [0, 0, 1] : _ref$up;\n\n    _classCallCheck(this, Camera);\n\n    this.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far);\n    this.defaultUp = up;\n\n    this.setPosition(position);\n    this.setUp.apply(this, _toConsumableArray(this.defaultUp));\n\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n\n  _createClass(Camera, [{\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      var WIDTH = window.innerWidth;\n      var HEIGHT = window.innerHeight;\n      this.camera.aspect = WIDTH / HEIGHT;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: 'setUp',\n    value: function setUp(x, y, z) {\n      this.camera.up.set(x, y, z);\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(_ref2) {\n      var _ref2$x = _ref2.x,\n          x = _ref2$x === undefined ? this.camera.position.x : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === undefined ? this.camera.position.y : _ref2$y,\n          _ref2$z = _ref2.z,\n          z = _ref2$z === undefined ? this.camera.position.z : _ref2$z;\n\n      this.setX(x);\n      this.setY(y);\n      this.setZ(z);\n    }\n  }, {\n    key: 'setX',\n    value: function setX(x) {\n      this.camera.position.x = x;\n    }\n  }, {\n    key: 'setY',\n    value: function setY(y) {\n      this.camera.position.y = y;\n    }\n  }, {\n    key: 'setZ',\n    value: function setZ(z) {\n      this.camera.position.z = z;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.setUp.apply(this, _toConsumableArray(this.defaultUp));\n      if (this.camera.position.z < 10) {\n        this.camera.position.z++;\n      }\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.camera;\n    }\n  }]);\n\n  return Camera;\n}();\n\nexports.default = Camera;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _threeTrackballcontrols = __webpack_require__(2);\n\nvar _threeTrackballcontrols2 = _interopRequireDefault(_threeTrackballcontrols);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controls = function () {\n  function Controls(_ref) {\n    var camera = _ref.camera,\n        _ref$rendererDomEleme = _ref.rendererDomElement,\n        rendererDomElement = _ref$rendererDomEleme === undefined ? null : _ref$rendererDomEleme,\n        _ref$rotateSpeed = _ref.rotateSpeed,\n        rotateSpeed = _ref$rotateSpeed === undefined ? 1.0 : _ref$rotateSpeed,\n        _ref$zoomSpeed = _ref.zoomSpeed,\n        zoomSpeed = _ref$zoomSpeed === undefined ? 1.0 : _ref$zoomSpeed,\n        _ref$panSpeed = _ref.panSpeed,\n        panSpeed = _ref$panSpeed === undefined ? 1.0 : _ref$panSpeed,\n        _ref$noPan = _ref.noPan,\n        noPan = _ref$noPan === undefined ? false : _ref$noPan,\n        _ref$staticMoving = _ref.staticMoving,\n        staticMoving = _ref$staticMoving === undefined ? true : _ref$staticMoving,\n        _ref$dynamicDampingFa = _ref.dynamicDampingFactor,\n        dynamicDampingFactor = _ref$dynamicDampingFa === undefined ? 0 : _ref$dynamicDampingFa,\n        _ref$minDistance = _ref.minDistance,\n        minDistance = _ref$minDistance === undefined ? 0 : _ref$minDistance,\n        _ref$maxDistance = _ref.maxDistance,\n        maxDistance = _ref$maxDistance === undefined ? Infinity : _ref$maxDistance,\n        _ref$keys = _ref.keys,\n        keys = _ref$keys === undefined ? [65, 83, 68] : _ref$keys;\n\n    _classCallCheck(this, Controls);\n\n    this.controls = new _threeTrackballcontrols2.default(camera, rendererDomElement);\n\n    this.controls.rotateSpeed = rotateSpeed;\n    this.controls.zoomSpeed = zoomSpeed;\n    this.controls.panSpeed = panSpeed;\n    this.controls.noPan = noPan;\n\n    this.controls.staticMoving = staticMoving;\n    this.controls.dynamicDampingFactor = dynamicDampingFactor;\n\n    this.controls.minDistance = minDistance;\n    this.controls.maxDistance = maxDistance;\n\n    this.controls.keys = keys;\n  }\n\n  _createClass(Controls, [{\n    key: 'onChange',\n    value: function onChange(render) {\n      this.controls.addEventListener('change', render);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.controls.update();\n    }\n  }]);\n\n  return Controls;\n}();\n\nexports.default = Controls;\n\n/***/ }),\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n  function Renderer(_ref) {\n    var _ref$alpha = _ref.alpha,\n        alpha = _ref$alpha === undefined ? true : _ref$alpha,\n        _ref$pixelRatio = _ref.pixelRatio,\n        pixelRatio = _ref$pixelRatio === undefined ? window.devicePixelRatio : _ref$pixelRatio,\n        _ref$width = _ref.width,\n        width = _ref$width === undefined ? window.width : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === undefined ? window.height : _ref$height,\n        container = _ref.container;\n\n    _classCallCheck(this, Renderer);\n\n    this.renderer = new THREE.WebGLRenderer({ alpha: alpha });\n    this.setPixelRatio(pixelRatio);\n\n    this.setSize(width, height);\n\n    container.appendChild(this.getDomElement());\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n\n  _createClass(Renderer, [{\n    key: 'getDomElement',\n    value: function getDomElement(container) {\n      return this.renderer.domElement;\n    }\n  }, {\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      var WIDTH = window.innerWidth;\n      var HEIGHT = window.innerHeight;\n\n      this.renderer.setSize(WIDTH, HEIGHT);\n    }\n  }, {\n    key: 'setPixelRatio',\n    value: function setPixelRatio(pixelRatio) {\n      this.renderer.setPixelRatio(pixelRatio);\n    }\n  }, {\n    key: 'setSize',\n    value: function setSize(w, h) {\n      this.renderer.setSize(w, h);\n    }\n  }, {\n    key: 'render',\n    value: function render(scene, camera) {\n      this.renderer.render(scene, camera);\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.renderer;\n    }\n  }]);\n\n  return Renderer;\n}();\n\nexports.default = Renderer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _stats = __webpack_require__(3);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stats = function () {\n  function Stats() {\n    _classCallCheck(this, Stats);\n\n    this.stats = new _stats2.default();\n  }\n\n  _createClass(Stats, [{\n    key: 'getDomElement',\n    value: function getDomElement(container) {\n      return this.stats.domElement;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.stats.update();\n    }\n  }]);\n\n  return Stats;\n}();\n\nexports.default = Stats;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _datGui = __webpack_require__(4);\n\nvar _datGui2 = _interopRequireDefault(_datGui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI = function () {\n  function GUI() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        particles = _ref.particles,\n        scene = _ref.scene;\n\n    _classCallCheck(this, GUI);\n\n    this.gui = new _datGui2.default.GUI();\n\n    this.addCirclesControls(particles);\n    this.addRadiusControls(particles);\n    this.addVibrationControls(particles);\n    this.addSpeedControls(particles);\n    this.addSphereControls(particles);\n  }\n\n  _createClass(GUI, [{\n    key: 'addCirclesControls',\n    value: function addCirclesControls(particles) {\n      this.gui.add(particles, 'circles').min(1).max(25).step(1).onFinishChange(function () {\n        particles.initParticleVars();\n        particles.setTargetPositions();\n      });\n    }\n  }, {\n    key: 'addRadiusControls',\n    value: function addRadiusControls(particles) {\n      this.gui.add(particles, 'radius').min(50).max(150).onFinishChange(function () {\n        particles.initParticleVars();\n        particles.setTargetPositions();\n      });\n    }\n  }, {\n    key: 'addVibrationControls',\n    value: function addVibrationControls(particles) {\n      this.gui.add(particles, 'vibration').min(0).max(10).step(0.5).onFinishChange(function () {\n        particles.FBO.simulationShader.uniforms.vibration.value = particles.vibration;\n      });\n    }\n  }, {\n    key: 'addSpeedControls',\n    value: function addSpeedControls(particles) {\n      this.gui.add(particles, 'speed').min(0).max(0.01);\n    }\n  }, {\n    key: 'addSphereControls',\n    value: function addSphereControls(particles) {\n      this.gui.add(particles, 'sphere').onFinishChange(function () {\n        particles.setSimType();\n        particles.setTargetPositions();\n      });\n    }\n  }]);\n\n  return GUI;\n}();\n\nexports.default = GUI;\n\n/***/ }),\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Canvas = function () {\n  function Canvas() {\n    _classCallCheck(this, Canvas);\n\n    this.scene = new THREE.Scene();\n  }\n\n  _createClass(Canvas, [{\n    key: \"add\",\n    value: function add(obj) {\n      this.scene.add(obj);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(obj) {\n      this.scene.remove(obj);\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.scene;\n    }\n  }]);\n\n  return Canvas;\n}();\n\nexports.default = Canvas;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _three = __webpack_require__(5);\n\nvar _three2 = _interopRequireDefault(_three);\n\nvar _shaders = __webpack_require__(18);\n\nvar _simulationShaders = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Particles = function () {\n  function Particles(_ref) {\n    var renderer = _ref.renderer,\n        _ref$numParticles = _ref.numParticles,\n        numParticles = _ref$numParticles === undefined ? 1000 * 1200 : _ref$numParticles,\n        _ref$configUniforms = _ref.configUniforms,\n        configUniforms = _ref$configUniforms === undefined ? {\n      color: { value: new THREE.Color(0xffffff) },\n      sizeMultipler: { value: window.innerHeight * window.devicePixelRatio / 2 },\n      texture: { value: new THREE.TextureLoader().load('images/star.png') }\n    } : _ref$configUniforms,\n        _ref$blending = _ref.blending,\n        blending = _ref$blending === undefined ? THREE.AdditiveBlending : _ref$blending,\n        _ref$transparent = _ref.transparent,\n        transparent = _ref$transparent === undefined ? true : _ref$transparent,\n        _ref$depthTest = _ref.depthTest,\n        depthTest = _ref$depthTest === undefined ? true : _ref$depthTest,\n        _ref$depthWrite = _ref.depthWrite,\n        depthWrite = _ref$depthWrite === undefined ? false : _ref$depthWrite,\n        _ref$circles = _ref.circles,\n        circles = _ref$circles === undefined ? 7 : _ref$circles,\n        _ref$radius = _ref.radius,\n        radius = _ref$radius === undefined ? 100 : _ref$radius,\n        _ref$depth = _ref.depth,\n        depth = _ref$depth === undefined ? 0 : _ref$depth,\n        _ref$colour = _ref.colour,\n        colour = _ref$colour === undefined ? 0.8 : _ref$colour,\n        _ref$sphere = _ref.sphere,\n        sphere = _ref$sphere === undefined ? false : _ref$sphere,\n        _ref$speed = _ref.speed,\n        speed = _ref$speed === undefined ? 0.0005 : _ref$speed,\n        _ref$vibration = _ref.vibration,\n        vibration = _ref$vibration === undefined ? 1 : _ref$vibration,\n        _ref$beats = _ref.beats,\n        beats = _ref$beats === undefined ? 0.075 : _ref$beats,\n        _ref$minSize = _ref.minSize,\n        minSize = _ref$minSize === undefined ? 1 : _ref$minSize,\n        _ref$maxSize = _ref.maxSize,\n        maxSize = _ref$maxSize === undefined ? 5 : _ref$maxSize,\n        _ref$incSize = _ref.incSize,\n        incSize = _ref$incSize === undefined ? 0.05 : _ref$incSize;\n\n    _classCallCheck(this, Particles);\n\n    this.renderer = renderer;\n    this.numParticles = numParticles;\n\n    this.circles = circles;\n    this.radius = radius;\n    this.depth = depth;\n    this.colour = colour;\n\n    this.sphere = sphere;\n    this.speed = speed;\n    this.vibration = vibration;\n    this.beats = beats;\n\n    this.minSize = minSize;\n    this.maxSize = maxSize;\n    this.incSize = incSize;\n\n    this.initParticleVars();\n\n    // height and width that set up a texture in memory\n    // this texture is used to store particle position values\n    var tHeight = 512;\n    var tWidth = this.numParticles / tHeight;\n\n    this.FBO = new _three2.default({\n      tWidth: tWidth,\n      tHeight: tHeight,\n      renderer: renderer,\n      uniforms: {\n        tTargetPosition: { type: 't', value: null },\n        clampValue: { type: 'f', value: 0.1 },\n        flatSimulation: { type: 'bool', value: true },\n\n        vibration: { type: 'f', value: this.vibration },\n\n        minSize: { type: 'f', value: this.minSize },\n        maxSize: { type: 'f', value: this.maxSize },\n        incSize: { type: 'f', value: this.incSize }\n      },\n      simulationVertexShader: _simulationShaders.simulationVertexShader,\n      simulationFragmentShader: _simulationShaders.simulationFragmentShader\n    });\n\n    this.setDefaultPositions();\n    this.setTargetPositions();\n\n    var uniforms = Object.assign({}, configUniforms, {\n      tPosition: { type: 't', value: this.FBO.targets[0] }\n    });\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms: uniforms,\n      vertexShader: _shaders.vertexShader,\n      fragmentShader: _shaders.fragmentShader,\n      blending: blending,\n      transparent: transparent,\n      depthTest: depthTest,\n      depthWrite: depthWrite\n    });\n\n    var geometry = new THREE.Geometry();\n\n    for (var i = 0, l = this.numParticles; i < l; i++) {\n      var vertex = new THREE.Vector3();\n      vertex.x = i % tWidth / tWidth;\n      vertex.y = Math.floor(i / tWidth) / tHeight;\n      geometry.vertices.push(vertex);\n    }\n\n    this.particles = new THREE.Points(geometry, this.material);\n    this.particles.frustumCulled = false;\n  }\n\n  _createClass(Particles, [{\n    key: 'setDefaultPositions',\n    value: function setDefaultPositions() {\n      this.FBO.setTextureUniform(['tPrev', 'tCurr'], this.getDefaultPositions());\n    }\n  }, {\n    key: 'getDefaultPositions',\n    value: function getDefaultPositions() {\n      var vertices = new Float32Array(this.numParticles * 4);\n      for (var i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n        vertices[i3] = vertices[i3 + 1] = vertices[i3 + 2] = vertices[i3 + 3] = 0;\n      }\n      return vertices;\n    }\n  }, {\n    key: 'setTargetPositions',\n    value: function setTargetPositions() {\n      this.FBO.setTextureUniform('tTargetPosition', this.getTargetPositions());\n    }\n  }, {\n    key: 'getTargetPositions',\n    value: function getTargetPositions() {\n      var vertices = new Float32Array(this.numParticles * 4);\n      for (var i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n        var vertice = this.getTargetPosition(i, i3);\n\n        vertices[i3] = vertice[0];\n        vertices[i3 + 1] = vertice[1];\n        vertices[i3 + 2] = vertice[2];\n\n        vertices[i3 + 3] = this.getSize(i, vertice);\n      }\n      return vertices;\n    }\n  }, {\n    key: 'getTargetPosition',\n    value: function getTargetPosition(index, i3) {\n      var clusterNum = this.getClusterNum(index);\n      return this.calcTargetPosition(this.radiuses[clusterNum]);\n    }\n  }, {\n    key: 'calcTargetPosition',\n    value: function calcTargetPosition(radius) {\n      var x = Math.random() * 2 - 1;\n      var y = Math.random() * 2 - 1;\n      var tempZ = Math.random() * 3 - 1.5;\n      var z = tempZ < 1.45 ? tempZ : Math.random() * 150;\n      var d = 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(tempZ, 2));\n\n      return [x * radius * d, y * radius * d, this.sphere ? tempZ * radius * d : z];\n    }\n  }, {\n    key: 'getSize',\n    value: function getSize(index, vertice) {\n      var clusterNum = this.getClusterNum(index) + 1;\n      var sizeRange = this.maxSize - this.minSize;\n      var rand = Math.random() / clusterNum;\n      var size = this.minSize + sizeRange * rand;\n\n      return size;\n    }\n  }, {\n    key: 'initParticleVars',\n    value: function initParticleVars() {\n      this.setClusters();\n      this.setRadiuses();\n    }\n  }, {\n    key: 'setClusters',\n    value: function setClusters() {\n      this.clusters = [];\n\n      for (var i = 0; i < this.circles - 1; i++) {\n        this.clusters[i] = Math.floor(this.numParticles / (this.circles * (this.circles - i)) * (i + 1));\n      }\n\n      this.clusters[this.circles - 1] = this.numParticles;\n    }\n  }, {\n    key: 'getClusterNum',\n    value: function getClusterNum(index) {\n      for (var i = 0; i < this.clusters.length; i++) {\n        var lowerLimit = i === 0 ? 0 : this.clusters[i - 1];\n        if (index < this.clusters[i] && index >= lowerLimit) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: 'setRadiuses',\n    value: function setRadiuses() {\n      this.radiuses = [];\n\n      for (var i = 0; i < this.circles; i++) {\n        this.radiuses[i] = (i + 1) * this.radius;\n      }\n    }\n  }, {\n    key: 'setColour',\n    value: function setColour(i3) {\n      // TODO: colours\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.FBO.simulate();\n      this.material.uniforms.tPosition.value = this.FBO.getCurrentFrame();\n\n      this.rotateZ(this.speed);\n    }\n  }, {\n    key: 'rotateZ',\n    value: function rotateZ(inc) {\n      this.particles.rotation.z += inc;\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.particles;\n    }\n  }, {\n    key: 'setSimType',\n    value: function setSimType() {\n      this.FBO.simulationShader.uniforms.flatSimulation.value = !this.sphere;\n    }\n  }]);\n\n  return Particles;\n}();\n\nexports.default = Particles;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/* eslint-disable */\n\nvar fragmentShader = \"\\n\\tuniform sampler2D texture;\\n\\n\\tvoid main() {\\n\\t\\tgl_FragColor = vec4(0.7, 0.7, 0.7, 0.6);\\n\\t\\tgl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\\n\\t}\\n\";\n\nvar vertexShader = \"\\n\\tuniform sampler2D tPosition;\\n\\n\\tvarying vec2 vUv;\\n\\n\\tuniform float sizeMultipler;\\n\\n\\tvoid main() {\\n\\t\\tvUv = position.xy;\\n\\n\\t\\t// position saved as color value in a texture object in momery\\n\\t\\tvec3 pos = texture2D(tPosition, vUv).xyz;\\n\\t\\tfloat size = texture2D(tPosition, vUv).w;\\n\\n\\t\\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\\n\\t\\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\\n\\t\\tgl_Position = projectionMatrix * mvPosition;\\n\\t}\\n\";\n\nexports.fragmentShader = fragmentShader;\nexports.vertexShader = vertexShader;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/* eslint-disable */\n\nvar simulationFragmentShader = \"\\n\\t// simulation\\n\\tvarying vec2 vUv;\\n\\n\\tuniform sampler2D tPrev;\\n\\tuniform sampler2D tCurr;\\n\\tuniform sampler2D tTargetPosition;\\n\\n\\tuniform float numFrames;\\n\\tuniform float clampValue;\\n\\n\\tuniform float incSize;\\n\\tuniform float maxSize;\\n\\tuniform float minSize;\\n\\n\\tuniform bool flatSimulation;\\n\\tuniform float vibration;\\n\\n\\thighp float rand(vec2 co)\\n\\t{\\n\\t\\thighp float a = 12.9898;\\n\\t\\thighp float b = 78.233;\\n\\t\\thighp float c = 43758.5453;\\n\\t\\thighp float dt= dot(co.xy ,vec2(a,b));\\n\\t\\thighp float sn= mod(dt,3.14);\\n\\t\\treturn fract(sin(sn) * c);\\n\\t}\\n\\n\\tfloat getSize() {\\n\\t\\tfloat defaultSize = texture2D(tTargetPosition, vUv).w;\\n\\t\\tfloat prevSize = texture2D(tPrev, vUv).w;\\n\\t\\tfloat size = texture2D(tCurr, vUv).w;\\n\\n\\t\\tif (size == 0.0 && prevSize == 0.0) {\\n\\t\\t\\tsize = defaultSize;\\n\\t\\t} else if (size < minSize) {\\n\\t\\t\\tsize += incSize;\\n\\t\\t} else if (size > maxSize) {\\n\\t\\t\\tsize -= incSize;\\n\\t\\t} else if (size == prevSize) {\\n\\t\\t\\tsize += incSize;\\n\\t\\t} else {\\n\\t\\t\\tsize += (size - prevSize);\\n\\t\\t}\\n\\n\\t\\treturn size;\\n\\t}\\n\\n\\tfloat getZValue(vec3 pos, vec3 targetPos) {\\n\\t\\tfloat prevZ = texture2D(tPrev, vUv).z;\\n\\t\\tfloat incZ = vibration * (rand(vec2(pos.x, pos.y)) / numFrames);\\n\\n\\t\\tif ((pos.z < targetPos.z - 1.0) || (pos.z == targetPos.z)) {\\n\\t\\t\\tpos.z += incZ;\\n\\t\\t} else if (pos.z > targetPos.z + 1.0) {\\n\\t\\t\\tpos.z -= incZ;\\n\\t\\t} else {\\n\\t\\t\\tpos.z += pos.z - prevZ;\\n\\t\\t}\\n\\n\\t\\treturn pos.z;\\n\\t}\\n\\n\\tvoid main() {\\n\\t\\tvec3 pos = texture2D(tCurr, vUv).xyz;\\n\\t\\tvec3 targetPos = texture2D(tTargetPosition, vUv).xyz;\\n\\t\\tfloat size = getSize();\\n\\n\\t\\t// fancy maths goes here\\n\\t\\tvec3 distanceToGoal = targetPos - pos;\\n\\n\\t\\tif (distanceToGoal.x != 0.0 || distanceToGoal.y != 0.0) {\\n\\t\\t\\tvec3 velocity = vec3(\\n\\t\\t\\t\\tdistanceToGoal.x < clampValue && distanceToGoal.x > -clampValue ? distanceToGoal.x : distanceToGoal.x / numFrames,\\n\\t\\t\\t\\tdistanceToGoal.y < clampValue && distanceToGoal.y > -clampValue ? distanceToGoal.y : distanceToGoal.y / numFrames,\\n\\t\\t\\t\\tdistanceToGoal.z < clampValue && distanceToGoal.z > -clampValue ? distanceToGoal.z : distanceToGoal.z / numFrames\\n\\t\\t\\t);\\n\\n\\t\\t\\tpos += velocity;\\n\\t\\t} else {\\n\\t\\t\\tif (flatSimulation) {\\n\\t\\t\\t\\t// pos.z += rand(vec2(pos.x, pos.y)) / 20.0;\\n\\t\\t\\t\\t//\\n\\t\\t\\t\\t// if ((pos.z > (1.0 + targetPos.z)) && (size < 1.0)) {\\n\\t\\t\\t\\t// \\tpos.z = targetPos.z;\\n\\t\\t\\t\\t// }\\n\\n\\t\\t\\t\\tpos.z = getZValue(pos, targetPos);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\n\\t\\t// write new position out\\n\\t\\tgl_FragColor = vec4(pos, size);\\n\\t}\\n\";\n\nvar simulationVertexShader = \"\\n\\tvarying vec2 vUv;\\n\\n\\tvoid main() {\\n\\t    \\tvUv = vec2(uv);\\n\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t}\\n\";\n\nexports.simulationFragmentShader = simulationFragmentShader;\nexports.simulationVertexShader = simulationVertexShader;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cube = function () {\n  function Cube() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$size = _ref.size,\n        size = _ref$size === undefined ? 5 : _ref$size,\n        _ref$roughness = _ref.roughness,\n        roughness = _ref$roughness === undefined ? 1 : _ref$roughness,\n        _ref$color = _ref.color,\n        color = _ref$color === undefined ? 0xffffff : _ref$color,\n        _ref$bumpScale = _ref.bumpScale,\n        bumpScale = _ref$bumpScale === undefined ? 1 : _ref$bumpScale,\n        _ref$metalness = _ref.metalness,\n        metalness = _ref$metalness === undefined ? 1 : _ref$metalness,\n        _ref$emissive = _ref.emissive,\n        emissive = _ref$emissive === undefined ? 1 : _ref$emissive,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? {\n      x: 0, y: 0, z: 0\n    } : _ref$position,\n        _ref$castShadow = _ref.castShadow,\n        castShadow = _ref$castShadow === undefined ? true : _ref$castShadow;\n\n    _classCallCheck(this, Cube);\n\n    this.geometry = new THREE.CubeGeometry(size, size, size, 1, 1, 1);\n\n    this.material = new THREE.MeshStandardMaterial({\n      roughness: roughness,\n      color: color,\n      bumpScale: bumpScale,\n      metalness: metalness,\n      emissive: emissive\n    });\n\n    this.cube = new THREE.Mesh(this.geometry, this.material);\n\n    this.geometry.castShadow = castShadow;\n\n    this.setPosition(position);\n  }\n\n  _createClass(Cube, [{\n    key: \"setPosition\",\n    value: function setPosition() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$x = _ref2.x,\n          x = _ref2$x === undefined ? 0 : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === undefined ? 0 : _ref2$y,\n          _ref2$z = _ref2.z,\n          z = _ref2$z === undefined ? 0 : _ref2$z;\n\n      this.setX(x);\n      this.setY(y);\n      this.setZ(z);\n    }\n  }, {\n    key: \"setX\",\n    value: function setX() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.x = x;\n    }\n  }, {\n    key: \"setY\",\n    value: function setY() {\n      var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.y = y;\n    }\n  }, {\n    key: \"setZ\",\n    value: function setZ() {\n      var z = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.z = z;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.cube;\n    }\n  }]);\n\n  return Cube;\n}();\n\nexports.default = Cube;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Light = function () {\n  function Light(_ref) {\n    var _ref$color = _ref.color,\n        color = _ref$color === undefined ? 0xffffff : _ref$color,\n        _ref$strength = _ref.strength,\n        strength = _ref$strength === undefined ? 1 : _ref$strength,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? [0, 0, 0] : _ref$position;\n\n    _classCallCheck(this, Light);\n\n    this.light = new THREE.PointLight(color, strength);\n    this.light.position.set(position[0], position[1], position[2]);\n  }\n\n  _createClass(Light, [{\n    key: \"get\",\n    value: function get() {\n      return this.light;\n    }\n  }]);\n\n  return Light;\n}();\n\nexports.default = Light;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ })\n],[6]);\n\n\n// WEBPACK FOOTER //\n// js/bundle.js","import isWebglEnabled from 'detector-webgl'\n\nimport Camera from './io/camera'\nimport Controls from './io/controls'\nimport Renderer from './io/renderer'\nimport Stats from './io/stats'\nimport GUI from './io/gui'\n\nimport Scene from './objects/scene'\nimport Particles from './objects/particles'\nimport Cube from './objects/cube'\nimport Light from './objects/light'\n\nfunction getParameterByName (name, url) {\n  if (!url) {\n    url = window.location.href\n  }\n\n  name = name.replace(/[[\\]]/g, '\\\\$&')\n  const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`)\n  const results = regex.exec(url)\n\n  if (!results) return null\n  if (!results[2]) return ''\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\nconst isNotMobileScreen = () => window.matchMedia('(min-width: 480px)').matches\nconst isTabletScreen = () => window.matchMedia('(max-width: 1000px)').matches\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (isWebglEnabled && isNotMobileScreen()) {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n    const aspectRatio = WIDTH / HEIGHT\n\n    const container = document.getElementById('container')\n\n    const renderer = new Renderer({ width: WIDTH, height: HEIGHT, container })\n\n    const camera = new Camera({ aspectRatio, position: { x: 310, y: -220, z: 240 } })\n    const controls = new Controls({ dynamicDampingFactor: 0.3, minDistance: 40, maxDistance: 1000, camera: camera.get(), rendererDomElement: renderer.getDomElement() })\n\n    const stats = new Stats()\n    const cube = new Cube({ roughness: 0.7, position: { z: 5 / 2 }, bumpScale: 0.02 })\n    const light = new Light({ color: 0x555555, strength: 5, position: [150, 150, 100] })\n    const particles = new Particles({\n      numParticles: isTabletScreen() ? 400 * 500 : 1000 * 500,\n      renderer: renderer.get()\n    })\n    const scene = new Scene()\n\n    const gui = new GUI({ particles, scene }) // eslint-disable-line\n\n    const init = () => {\n      scene.add(cube.get())\n      scene.add(light.get())\n      scene.add(particles.get())\n\n      controls.onChange(render)\n\n      if (getParameterByName('stats') === 'true') {\n        container.appendChild(stats.getDomElement())\n      }\n    }\n\n    const animate = () => {\n      requestAnimationFrame(animate) // eslint-disable-line\n      controls.update()\n      render()\n    }\n\n    const render = () => {\n      camera.update()\n      particles.update()\n      stats.update()\n      renderer.render(scene.get(), camera.get())\n    }\n\n    init()\n    animate()\n  } else {\n    const info = document.getElementById('info')\n    info.innerHTML = 'This browser is not supported. Please use the latest version of Chrome on desktop.'\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export default class Camera {\n  constructor ({\n    fov = 400,\n    aspectRatio = 1,\n    near = 0.1,\n    far = 2000,\n    position = {\n      x: 0, y: 0, z: 0\n    },\n    up = [0, 0, 1]\n  }) {\n    this.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far)\n    this.defaultUp = up\n\n    this.setPosition(position)\n    this.setUp(...this.defaultUp)\n\n    window.addEventListener('resize', this.onWindowResize.bind(this))\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n    this.camera.aspect = WIDTH / HEIGHT\n    this.camera.updateProjectionMatrix()\n  }\n\n  setUp (x, y, z) {\n    this.camera.up.set(x, y, z)\n  }\n\n  setPosition ({\n    x = this.camera.position.x,\n    y = this.camera.position.y,\n    z = this.camera.position.z }) {\n    this.setX(x)\n    this.setY(y)\n    this.setZ(z)\n  }\n\n  setX (x) {\n    this.camera.position.x = x\n  }\n\n  setY (y) {\n    this.camera.position.y = y\n  }\n\n  setZ (z) {\n    this.camera.position.z = z\n  }\n\n  update () {\n    this.setUp(...this.defaultUp)\n    if (this.camera.position.z < 10) {\n      this.camera.position.z++\n    }\n  }\n\n  get () {\n    return this.camera\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/camera.js","import TrackballControls from 'three-trackballcontrols'\n\nexport default class Controls {\n  constructor ({\n    camera,\n    rendererDomElement = null,\n    rotateSpeed = 1.0,\n    zoomSpeed = 1.0,\n    panSpeed = 1.0,\n    noPan = false,\n    staticMoving = true,\n    dynamicDampingFactor = 0,\n    minDistance = 0,\n    maxDistance = Infinity,\n    keys = [65, 83, 68]\n  }) {\n    this.controls = new TrackballControls(camera, rendererDomElement)\n\n    this.controls.rotateSpeed = rotateSpeed\n    this.controls.zoomSpeed = zoomSpeed\n    this.controls.panSpeed = panSpeed\n    this.controls.noPan = noPan\n\n    this.controls.staticMoving = staticMoving\n    this.controls.dynamicDampingFactor = dynamicDampingFactor\n\n    this.controls.minDistance = minDistance\n    this.controls.maxDistance = maxDistance\n\n    this.controls.keys = keys\n  }\n\n  onChange (render) {\n    this.controls.addEventListener('change', render)\n  }\n\n  update () {\n    this.controls.update()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/controls.js","export default class Renderer {\n  constructor ({\n    alpha = true,\n    pixelRatio = window.devicePixelRatio,\n    width = window.width,\n    height = window.height,\n    container\n  }) {\n    this.renderer = new THREE.WebGLRenderer({ alpha })\n    this.setPixelRatio(pixelRatio)\n\n    this.setSize(width, height)\n\n    container.appendChild(this.getDomElement())\n    window.addEventListener('resize', this.onWindowResize.bind(this))\n  }\n\n  getDomElement (container) {\n    return this.renderer.domElement\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n\n    this.renderer.setSize(WIDTH, HEIGHT)\n  }\n\n  setPixelRatio (pixelRatio) {\n    this.renderer.setPixelRatio(pixelRatio)\n  }\n\n  setSize (w, h) {\n    this.renderer.setSize(w, h)\n  }\n\n  render (scene, camera) {\n    this.renderer.render(scene, camera)\n  }\n\n  get () {\n    return this.renderer\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/renderer.js","import StatsJS from 'stats.js'\n\nexport default class Stats {\n  constructor () {\n    this.stats = new StatsJS()\n  }\n\n  getDomElement (container) {\n    return this.stats.domElement\n  }\n\n  update () {\n    this.stats.update()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/stats.js","import DatGUI from 'dat-gui'\n\nexport default class GUI {\n  constructor ({\n    particles,\n    scene\n  } = {}) {\n    this.gui = new DatGUI.GUI()\n\n    this.addCirclesControls(particles)\n    this.addRadiusControls(particles)\n    this.addVibrationControls(particles)\n    this.addSpeedControls(particles)\n    this.addSphereControls(particles)\n  }\n\n  addCirclesControls (particles) {\n    this.gui.add(particles, 'circles')\n      .min(1)\n      .max(25)\n      .step(1)\n      .onFinishChange(() => {\n        particles.initParticleVars()\n        particles.setTargetPositions()\n      })\n  }\n\n  addRadiusControls (particles) {\n    this.gui.add(particles, 'radius')\n      .min(50)\n      .max(150)\n      .onFinishChange(() => {\n        particles.initParticleVars()\n        particles.setTargetPositions()\n      })\n  }\n\n  addVibrationControls (particles) {\n    this.gui.add(particles, 'vibration')\n      .min(0)\n      .max(10)\n      .step(0.5)\n      .onFinishChange(() => {\n        particles.FBO.simulationShader.uniforms.vibration.value = particles.vibration\n      })\n  }\n\n  addSpeedControls (particles) {\n    this.gui.add(particles, 'speed')\n      .min(0)\n      .max(0.01)\n  }\n\n  addSphereControls (particles) {\n    this.gui.add(particles, 'sphere')\n      .onFinishChange(() => {\n        particles.setSimType()\n        particles.setTargetPositions()\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/gui.js","export default class Canvas {\n  constructor () {\n    this.scene = new THREE.Scene()\n  }\n\n  add (obj) {\n    this.scene.add(obj)\n  }\n\n  remove (obj) {\n    this.scene.remove(obj)\n  }\n\n  get () {\n    return this.scene\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/scene.js","import FBO from 'three.js-fbo'\nimport { fragmentShader, vertexShader } from '../shaders/shaders'\nimport { simulationFragmentShader, simulationVertexShader } from '../shaders/simulationShaders'\n\nexport default class Particles {\n  constructor ({\n    renderer,\n\n    numParticles = 1000 * 1200,\n\n    configUniforms = {\n      color: { value: new THREE.Color(0xffffff) },\n      sizeMultipler: { value: (window.innerHeight * window.devicePixelRatio) / 2 },\n      texture: { value: new THREE.TextureLoader().load('images/star.png') }\n    },\n    blending = THREE.AdditiveBlending,\n    transparent = true,\n    depthTest = true,\n    depthWrite = false,\n\n    circles = 7,\n    radius = 100,\n    depth = 0,\n    colour = 0.8,\n\n    sphere = false,\n    speed = 0.0005,\n    vibration = 1,\n    beats = 0.075,\n\n    // particle sizes\n    minSize = 1,\n    maxSize = 5,\n    incSize = 0.05\n  }) {\n    this.renderer = renderer\n    this.numParticles = numParticles\n\n    this.circles = circles\n    this.radius = radius\n    this.depth = depth\n    this.colour = colour\n\n    this.sphere = sphere\n    this.speed = speed\n    this.vibration = vibration\n    this.beats = beats\n\n    this.minSize = minSize\n    this.maxSize = maxSize\n    this.incSize = incSize\n\n    this.initParticleVars()\n\n    // height and width that set up a texture in memory\n    // this texture is used to store particle position values\n    const tHeight = 512\n    const tWidth = this.numParticles / tHeight\n\n    this.FBO = new FBO({\n      tWidth,\n      tHeight,\n      renderer,\n      uniforms: {\n        tTargetPosition: { type: 't', value: null },\n        clampValue: { type: 'f', value: 0.1 },\n        flatSimulation: { type: 'bool', value: true },\n\n        vibration: { type: 'f', value: this.vibration },\n\n        minSize: { type: 'f', value: this.minSize },\n        maxSize: { type: 'f', value: this.maxSize },\n        incSize: { type: 'f', value: this.incSize }\n      },\n      simulationVertexShader,\n      simulationFragmentShader\n    })\n\n    this.setDefaultPositions()\n    this.setTargetPositions()\n\n    const uniforms = Object.assign({}, configUniforms, {\n      tPosition: { type: 't', value: this.FBO.targets[0] }\n    })\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms,\n      vertexShader,\n      fragmentShader,\n      blending,\n      transparent,\n      depthTest,\n      depthWrite\n    })\n\n    const geometry = new THREE.Geometry()\n\n    for (let i = 0, l = this.numParticles; i < l; i++) {\n      const vertex = new THREE.Vector3()\n      vertex.x = (i % tWidth) / tWidth\n      vertex.y = Math.floor(i / tWidth) / tHeight\n      geometry.vertices.push(vertex)\n    }\n\n    this.particles = new THREE.Points(geometry, this.material)\n    this.particles.frustumCulled = false\n  }\n\n  setDefaultPositions () {\n    this.FBO.setTextureUniform(['tPrev', 'tCurr'], this.getDefaultPositions())\n  }\n\n  getDefaultPositions () {\n    const vertices = new Float32Array(this.numParticles * 4)\n    for (let i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n      vertices[i3] = vertices[i3 + 1] = vertices[i3 + 2] = vertices[i3 + 3] = 0\n    }\n    return vertices\n  }\n\n  setTargetPositions () {\n    this.FBO.setTextureUniform('tTargetPosition', this.getTargetPositions())\n  }\n\n  getTargetPositions () {\n    const vertices = new Float32Array(this.numParticles * 4)\n    for (let i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n      const vertice = this.getTargetPosition(i, i3)\n\n      vertices[i3] = vertice[0]\n      vertices[i3 + 1] = vertice[1]\n      vertices[i3 + 2] = vertice[2]\n\n      vertices[i3 + 3] = this.getSize(i, vertice)\n    }\n    return vertices\n  }\n\n  getTargetPosition (index, i3) {\n    const clusterNum = this.getClusterNum(index)\n    return this.calcTargetPosition(this.radiuses[clusterNum])\n  }\n\n  calcTargetPosition (radius) {\n    const x = Math.random() * 2 - 1\n    const y = Math.random() * 2 - 1\n    const tempZ = Math.random() * 3 - 1.5\n    const z = tempZ < 1.45 ? tempZ : Math.random() * 150\n    const d = (1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(tempZ, 2)))\n\n    return [\n      x * radius * d,\n      y * radius * d,\n      this.sphere ? tempZ * radius * d : z\n    ]\n  }\n\n  getSize (index, vertice) {\n    const clusterNum = this.getClusterNum(index) + 1\n    const sizeRange = this.maxSize - this.minSize\n    const rand = Math.random() / clusterNum\n    const size = this.minSize + sizeRange * rand\n\n    return size\n  }\n\n  initParticleVars () {\n    this.setClusters()\n    this.setRadiuses()\n  }\n\n  setClusters () {\n    this.clusters = []\n\n    for (let i = 0; i < (this.circles - 1); i++) {\n      this.clusters[i] = Math.floor((this.numParticles / (this.circles * (this.circles - i))) * (i + 1))\n    }\n\n    this.clusters[this.circles - 1] = this.numParticles\n  }\n\n  getClusterNum (index) {\n    for (let i = 0; i < this.clusters.length; i++) {\n      const lowerLimit = i === 0 ? 0 : this.clusters[i - 1]\n      if (index < this.clusters[i] && index >= lowerLimit) {\n        return i\n      }\n    }\n  }\n\n  setRadiuses () {\n    this.radiuses = []\n\n    for (let i = 0; i < this.circles; i++) {\n      this.radiuses[i] = (i + 1) * this.radius\n    }\n  }\n\n  setColour (i3) {\n    // TODO: colours\n  }\n\n  update () {\n    this.FBO.simulate()\n    this.material.uniforms.tPosition.value = this.FBO.getCurrentFrame()\n\n    this.rotateZ(this.speed)\n  }\n\n  rotateZ (inc) {\n    this.particles.rotation.z += inc\n  }\n\n  get () {\n    return this.particles\n  }\n\n  setSimType () {\n    this.FBO.simulationShader.uniforms.flatSimulation.value = !this.sphere\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/particles.js","/* eslint-disable */\n\nconst fragmentShader = `\n\tuniform sampler2D texture;\n\n\tvoid main() {\n\t\tgl_FragColor = vec4(0.7, 0.7, 0.7, 0.6);\n\t\tgl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n\t}\n`\n\nconst vertexShader = `\n\tuniform sampler2D tPosition;\n\n\tvarying vec2 vUv;\n\n\tuniform float sizeMultipler;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\n\t\t// position saved as color value in a texture object in momery\n\t\tvec3 pos = texture2D(tPosition, vUv).xyz;\n\t\tfloat size = texture2D(tPosition, vUv).w;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\t\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n`\n\nexport {\n  fragmentShader,\n  vertexShader\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/shaders.js","/* eslint-disable */\n\nconst simulationFragmentShader = `\n\t// simulation\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tTargetPosition;\n\n\tuniform float numFrames;\n\tuniform float clampValue;\n\n\tuniform float incSize;\n\tuniform float maxSize;\n\tuniform float minSize;\n\n\tuniform bool flatSimulation;\n\tuniform float vibration;\n\n\thighp float rand(vec2 co)\n\t{\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\tfloat getSize() {\n\t\tfloat defaultSize = texture2D(tTargetPosition, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\n\t\tif (size == 0.0 && prevSize == 0.0) {\n\t\t\tsize = defaultSize;\n\t\t} else if (size < minSize) {\n\t\t\tsize += incSize;\n\t\t} else if (size > maxSize) {\n\t\t\tsize -= incSize;\n\t\t} else if (size == prevSize) {\n\t\t\tsize += incSize;\n\t\t} else {\n\t\t\tsize += (size - prevSize);\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tfloat getZValue(vec3 pos, vec3 targetPos) {\n\t\tfloat prevZ = texture2D(tPrev, vUv).z;\n\t\tfloat incZ = vibration * (rand(vec2(pos.x, pos.y)) / numFrames);\n\n\t\tif ((pos.z < targetPos.z - 1.0) || (pos.z == targetPos.z)) {\n\t\t\tpos.z += incZ;\n\t\t} else if (pos.z > targetPos.z + 1.0) {\n\t\t\tpos.z -= incZ;\n\t\t} else {\n\t\t\tpos.z += pos.z - prevZ;\n\t\t}\n\n\t\treturn pos.z;\n\t}\n\n\tvoid main() {\n\t\tvec3 pos = texture2D(tCurr, vUv).xyz;\n\t\tvec3 targetPos = texture2D(tTargetPosition, vUv).xyz;\n\t\tfloat size = getSize();\n\n\t\t// fancy maths goes here\n\t\tvec3 distanceToGoal = targetPos - pos;\n\n\t\tif (distanceToGoal.x != 0.0 || distanceToGoal.y != 0.0) {\n\t\t\tvec3 velocity = vec3(\n\t\t\t\tdistanceToGoal.x < clampValue && distanceToGoal.x > -clampValue ? distanceToGoal.x : distanceToGoal.x / numFrames,\n\t\t\t\tdistanceToGoal.y < clampValue && distanceToGoal.y > -clampValue ? distanceToGoal.y : distanceToGoal.y / numFrames,\n\t\t\t\tdistanceToGoal.z < clampValue && distanceToGoal.z > -clampValue ? distanceToGoal.z : distanceToGoal.z / numFrames\n\t\t\t);\n\n\t\t\tpos += velocity;\n\t\t} else {\n\t\t\tif (flatSimulation) {\n\t\t\t\t// pos.z += rand(vec2(pos.x, pos.y)) / 20.0;\n\t\t\t\t//\n\t\t\t\t// if ((pos.z > (1.0 + targetPos.z)) && (size < 1.0)) {\n\t\t\t\t// \tpos.z = targetPos.z;\n\t\t\t\t// }\n\n\t\t\t\tpos.z = getZValue(pos, targetPos);\n\t\t\t}\n\t\t}\n\n\n\t\t// write new position out\n\t\tgl_FragColor = vec4(pos, size);\n\t}\n`\n\nconst simulationVertexShader = `\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t    \tvUv = vec2(uv);\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n`\n\nexport {\n  simulationFragmentShader,\n  simulationVertexShader\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/simulationShaders.js","export default class Cube {\n  constructor ({\n    size = 5,\n    roughness = 1,\n    color = 0xffffff,\n    bumpScale = 1,\n    metalness = 1,\n    emissive = 1,\n    position = {\n      x: 0, y: 0, z: 0\n    },\n    castShadow = true\n  } = {}) {\n    this.geometry = new THREE.CubeGeometry(size, size, size, 1, 1, 1)\n\n    this.material = new THREE.MeshStandardMaterial({\n      roughness,\n      color,\n      bumpScale,\n      metalness,\n      emissive\n    })\n\n    this.cube = new THREE.Mesh(this.geometry, this.material)\n\n    this.geometry.castShadow = castShadow\n\n    this.setPosition(position)\n  }\n\n  setPosition ({\n    x = 0,\n    y = 0,\n    z = 0\n  } = {}) {\n    this.setX(x)\n    this.setY(y)\n    this.setZ(z)\n  }\n\n  setX (x = 0) {\n    this.cube.position.x = x\n  }\n\n  setY (y = 0) {\n    this.cube.position.y = y\n  }\n\n  setZ (z = 0) {\n    this.cube.position.z = z\n  }\n\n  get () {\n    return this.cube\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/cube.js","export default class Light {\n  constructor ({\n    color = 0xffffff,\n    strength = 1,\n    position = [0, 0, 0]\n  }) {\n    this.light = new THREE.PointLight(color, strength)\n    this.light.position.set(position[0], position[1], position[2])\n  }\n\n  get () {\n    return this.light\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/light.js"],"sourceRoot":""}