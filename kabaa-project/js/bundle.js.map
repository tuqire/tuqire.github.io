{"version":3,"sources":["webpack:///js/bundle.js","webpack:///./src/js/main.js","webpack:///./src/js/io/camera.js","webpack:///./src/js/io/controls.js","webpack:///./src/js/io/renderer.js","webpack:///./src/js/io/stats.js","webpack:///./src/js/io/gui.js","webpack:///./src/js/objects/scene.js","webpack:///./src/js/objects/particles.js","webpack:///./src/js/shaders/shaders.js","webpack:///./src/js/shaders/simulationShaders.js","webpack:///./src/js/objects/cube.js","webpack:///./src/js/objects/light.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","_detectorWebgl","_detectorWebgl2","_camera","_camera2","_controls","_controls2","_renderer","_renderer2","_stats","_stats2","_gui","_gui2","_scene","_scene2","_particles","_particles2","_cube","_cube2","_light","_light2","document","addEventListener","WIDTH","innerWidth","HEIGHT","innerHeight","aspectRatio","container","getElementById","renderer","width","height","camera","position","x","y","z","controls","dynamicDampingFactor","minDistance","maxDistance","get","rendererDomElement","getDomElement","stats","cube","roughness","bumpScale","light","color","strength","particles","numParticles","scene","render","update","add","onChange","appendChild","animate","requestAnimationFrame","innerHTML","THREE","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Camera","_ref","_ref$fov","fov","undefined","_ref$aspectRatio","_ref$near","near","_ref$far","far","_ref$position","_ref$up","up","this","PerspectiveCamera","defaultUp","setPosition","setUp","apply","onWindowResize","bind","aspect","updateProjectionMatrix","set","_ref2","_ref2$x","_ref2$y","_ref2$z","setX","setY","setZ","call","_threeTrackballcontrols","_threeTrackballcontrols2","Controls","_ref$rendererDomEleme","_ref$rotateSpeed","rotateSpeed","_ref$zoomSpeed","zoomSpeed","_ref$panSpeed","panSpeed","_ref$noPan","noPan","_ref$staticMoving","staticMoving","_ref$dynamicDampingFa","_ref$minDistance","_ref$maxDistance","Infinity","_ref$keys","keys","Renderer","_ref$alpha","alpha","_ref$pixelRatio","pixelRatio","devicePixelRatio","_ref$width","_ref$height","WebGLRenderer","setPixelRatio","setSize","domElement","w","h","Stats","_datGui","_datGui2","GUI","arguments","gui","addCirclesControls","addRadiusControls","addVibrationControls","addSpeedControls","addSphereControls","min","max","step","onFinishChange","initParticleVars","setTargetPositions","FBO","simulationShader","uniforms","vibration","setSimType","Canvas","Scene","remove","_three","_three2","_shaders","_simulationShaders","Particles","_ref$numParticles","_ref$configUniforms","configUniforms","Color","sizeMultipler","texture","TextureLoader","load","_ref$blending","blending","AdditiveBlending","_ref$transparent","transparent","_ref$depthTest","depthTest","_ref$depthWrite","depthWrite","_ref$circles","circles","_ref$radius","radius","_ref$depth","depth","_ref$colour","colour","_ref$sphere","sphere","_ref$speed","speed","_ref$vibration","_ref$beats","beats","_ref$minSize","minSize","_ref$maxSize","maxSize","_ref$incSize","incSize","tWidth","tHeight","tTargetPosition","type","clampValue","flatSimulation","simulationVertexShader","simulationFragmentShader","setDefaultPositions","assign","tPosition","targets","material","ShaderMaterial","vertexShader","fragmentShader","geometry","Geometry","l","vertex","Vector3","Math","floor","vertices","push","Points","frustumCulled","setTextureUniform","getDefaultPositions","Float32Array","i3","getTargetPositions","vertice","getTargetPosition","getSize","index","clusterNum","getClusterNum","calcTargetPosition","radiuses","random","tempZ","d","sqrt","pow","sizeRange","rand","setClusters","setRadiuses","clusters","lowerLimit","simulate","getCurrentFrame","rotateZ","inc","rotation","Cube","_ref$size","size","_ref$roughness","_ref$color","_ref$bumpScale","_ref$metalness","metalness","_ref$emissive","emissive","_ref$castShadow","castShadow","CubeGeometry","MeshStandardMaterial","Mesh","Light","_ref$strength","PointLight"],"mappings":"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","file":"js/bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _detectorWebgl = __webpack_require__(1);\n\nvar _detectorWebgl2 = _interopRequireDefault(_detectorWebgl);\n\nvar _camera = __webpack_require__(7);\n\nvar _camera2 = _interopRequireDefault(_camera);\n\nvar _controls = __webpack_require__(8);\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _renderer = __webpack_require__(10);\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _stats = __webpack_require__(11);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _gui = __webpack_require__(12);\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _scene = __webpack_require__(15);\n\nvar _scene2 = _interopRequireDefault(_scene);\n\nvar _particles = __webpack_require__(16);\n\nvar _particles2 = _interopRequireDefault(_particles);\n\nvar _cube = __webpack_require__(20);\n\nvar _cube2 = _interopRequireDefault(_cube);\n\nvar _light = __webpack_require__(21);\n\nvar _light2 = _interopRequireDefault(_light);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getParameterByName(name, url) {\n  if (!url) {\n    url = window.location.href;\n  }\n\n  name = name.replace(/[[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regex.exec(url);\n\n  if (!results) return null;\n  if (!results[2]) return '';\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  if (_detectorWebgl2.default) {\n    var WIDTH = window.innerWidth;\n    var HEIGHT = window.innerHeight;\n    var aspectRatio = WIDTH / HEIGHT;\n\n    var container = document.getElementById('container');\n\n    var renderer = new _renderer2.default({ width: WIDTH, height: HEIGHT, container: container });\n\n    var camera = new _camera2.default({ aspectRatio: aspectRatio, position: { x: 310, y: -220, z: 240 } });\n    var controls = new _controls2.default({ dynamicDampingFactor: 0.3, minDistance: 40, maxDistance: 1000, camera: camera.get(), rendererDomElement: renderer.getDomElement() });\n\n    var stats = new _stats2.default();\n    var cube = new _cube2.default({ roughness: 0.7, position: { z: 5 / 2 }, bumpScale: 0.02 });\n    var light = new _light2.default({ color: 0x555555, strength: 5, position: [150, 150, 100] });\n    var particles = new _particles2.default({ numParticles: WIDTH > 480 ? 1000 * 500 : 500 * 400, renderer: renderer.get() });\n    var scene = new _scene2.default();\n\n    var gui = new _gui2.default({ particles: particles, scene: scene }); // eslint-disable-line\n\n    var init = function init() {\n      scene.add(cube.get());\n      scene.add(light.get());\n      scene.add(particles.get());\n\n      controls.onChange(render);\n\n      if (getParameterByName('stats') === 'true') {\n        container.appendChild(stats.getDomElement());\n      }\n    };\n\n    var animate = function animate() {\n      requestAnimationFrame(animate); // eslint-disable-line\n      controls.update();\n      render();\n    };\n\n    var render = function render() {\n      camera.update();\n      particles.update();\n      stats.update();\n      renderer.render(scene.get(), camera.get());\n    };\n\n    init();\n    animate();\n  } else {\n    var info = document.getElementById('info');\n    info.innerHTML = 'Your browser is not supported. Please use the latest version of Firefox or Chrome.';\n  }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Camera = function () {\n  function Camera(_ref) {\n    var _ref$fov = _ref.fov,\n        fov = _ref$fov === undefined ? 400 : _ref$fov,\n        _ref$aspectRatio = _ref.aspectRatio,\n        aspectRatio = _ref$aspectRatio === undefined ? 1 : _ref$aspectRatio,\n        _ref$near = _ref.near,\n        near = _ref$near === undefined ? 0.1 : _ref$near,\n        _ref$far = _ref.far,\n        far = _ref$far === undefined ? 2000 : _ref$far,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? {\n      x: 0, y: 0, z: 0\n    } : _ref$position,\n        _ref$up = _ref.up,\n        up = _ref$up === undefined ? [0, 0, 1] : _ref$up;\n\n    _classCallCheck(this, Camera);\n\n    this.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far);\n    this.defaultUp = up;\n\n    this.setPosition(position);\n    this.setUp.apply(this, _toConsumableArray(this.defaultUp));\n\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n\n  _createClass(Camera, [{\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      var WIDTH = window.innerWidth;\n      var HEIGHT = window.innerHeight;\n      this.camera.aspect = WIDTH / HEIGHT;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: 'setUp',\n    value: function setUp(x, y, z) {\n      this.camera.up.set(x, y, z);\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(_ref2) {\n      var _ref2$x = _ref2.x,\n          x = _ref2$x === undefined ? this.camera.position.x : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === undefined ? this.camera.position.y : _ref2$y,\n          _ref2$z = _ref2.z,\n          z = _ref2$z === undefined ? this.camera.position.z : _ref2$z;\n\n      this.setX(x);\n      this.setY(y);\n      this.setZ(z);\n    }\n  }, {\n    key: 'setX',\n    value: function setX(x) {\n      this.camera.position.x = x;\n    }\n  }, {\n    key: 'setY',\n    value: function setY(y) {\n      this.camera.position.y = y;\n    }\n  }, {\n    key: 'setZ',\n    value: function setZ(z) {\n      this.camera.position.z = z;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.setUp.apply(this, _toConsumableArray(this.defaultUp));\n      if (this.camera.position.z < 10) {\n        this.camera.position.z++;\n      }\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.camera;\n    }\n  }]);\n\n  return Camera;\n}();\n\nexports.default = Camera;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _threeTrackballcontrols = __webpack_require__(2);\n\nvar _threeTrackballcontrols2 = _interopRequireDefault(_threeTrackballcontrols);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controls = function () {\n  function Controls(_ref) {\n    var camera = _ref.camera,\n        _ref$rendererDomEleme = _ref.rendererDomElement,\n        rendererDomElement = _ref$rendererDomEleme === undefined ? null : _ref$rendererDomEleme,\n        _ref$rotateSpeed = _ref.rotateSpeed,\n        rotateSpeed = _ref$rotateSpeed === undefined ? 1.0 : _ref$rotateSpeed,\n        _ref$zoomSpeed = _ref.zoomSpeed,\n        zoomSpeed = _ref$zoomSpeed === undefined ? 1.0 : _ref$zoomSpeed,\n        _ref$panSpeed = _ref.panSpeed,\n        panSpeed = _ref$panSpeed === undefined ? 1.0 : _ref$panSpeed,\n        _ref$noPan = _ref.noPan,\n        noPan = _ref$noPan === undefined ? false : _ref$noPan,\n        _ref$staticMoving = _ref.staticMoving,\n        staticMoving = _ref$staticMoving === undefined ? true : _ref$staticMoving,\n        _ref$dynamicDampingFa = _ref.dynamicDampingFactor,\n        dynamicDampingFactor = _ref$dynamicDampingFa === undefined ? 0 : _ref$dynamicDampingFa,\n        _ref$minDistance = _ref.minDistance,\n        minDistance = _ref$minDistance === undefined ? 0 : _ref$minDistance,\n        _ref$maxDistance = _ref.maxDistance,\n        maxDistance = _ref$maxDistance === undefined ? Infinity : _ref$maxDistance,\n        _ref$keys = _ref.keys,\n        keys = _ref$keys === undefined ? [65, 83, 68] : _ref$keys;\n\n    _classCallCheck(this, Controls);\n\n    this.controls = new _threeTrackballcontrols2.default(camera, rendererDomElement);\n\n    this.controls.rotateSpeed = rotateSpeed;\n    this.controls.zoomSpeed = zoomSpeed;\n    this.controls.panSpeed = panSpeed;\n    this.controls.noPan = noPan;\n\n    this.controls.staticMoving = staticMoving;\n    this.controls.dynamicDampingFactor = dynamicDampingFactor;\n\n    this.controls.minDistance = minDistance;\n    this.controls.maxDistance = maxDistance;\n\n    this.controls.keys = keys;\n  }\n\n  _createClass(Controls, [{\n    key: 'onChange',\n    value: function onChange(render) {\n      this.controls.addEventListener('change', render);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.controls.update();\n    }\n  }]);\n\n  return Controls;\n}();\n\nexports.default = Controls;\n\n/***/ }),\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n  function Renderer(_ref) {\n    var _ref$alpha = _ref.alpha,\n        alpha = _ref$alpha === undefined ? true : _ref$alpha,\n        _ref$pixelRatio = _ref.pixelRatio,\n        pixelRatio = _ref$pixelRatio === undefined ? window.devicePixelRatio : _ref$pixelRatio,\n        _ref$width = _ref.width,\n        width = _ref$width === undefined ? window.width : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === undefined ? window.height : _ref$height,\n        container = _ref.container;\n\n    _classCallCheck(this, Renderer);\n\n    this.renderer = new THREE.WebGLRenderer({ alpha: alpha });\n    this.setPixelRatio(pixelRatio);\n\n    this.setSize(width, height);\n\n    container.appendChild(this.getDomElement());\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n\n  _createClass(Renderer, [{\n    key: 'getDomElement',\n    value: function getDomElement(container) {\n      return this.renderer.domElement;\n    }\n  }, {\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      var WIDTH = window.innerWidth;\n      var HEIGHT = window.innerHeight;\n\n      this.renderer.setSize(WIDTH, HEIGHT);\n    }\n  }, {\n    key: 'setPixelRatio',\n    value: function setPixelRatio(pixelRatio) {\n      this.renderer.setPixelRatio(pixelRatio);\n    }\n  }, {\n    key: 'setSize',\n    value: function setSize(w, h) {\n      this.renderer.setSize(w, h);\n    }\n  }, {\n    key: 'render',\n    value: function render(scene, camera) {\n      this.renderer.render(scene, camera);\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.renderer;\n    }\n  }]);\n\n  return Renderer;\n}();\n\nexports.default = Renderer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _stats = __webpack_require__(3);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stats = function () {\n  function Stats() {\n    _classCallCheck(this, Stats);\n\n    this.stats = new _stats2.default();\n  }\n\n  _createClass(Stats, [{\n    key: 'getDomElement',\n    value: function getDomElement(container) {\n      return this.stats.domElement;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.stats.update();\n    }\n  }]);\n\n  return Stats;\n}();\n\nexports.default = Stats;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _datGui = __webpack_require__(4);\n\nvar _datGui2 = _interopRequireDefault(_datGui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GUI = function () {\n  function GUI() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        particles = _ref.particles,\n        scene = _ref.scene;\n\n    _classCallCheck(this, GUI);\n\n    this.gui = new _datGui2.default.GUI();\n\n    this.addCirclesControls(particles);\n    this.addRadiusControls(particles);\n    this.addVibrationControls(particles);\n    this.addSpeedControls(particles);\n    this.addSphereControls(particles);\n  }\n\n  _createClass(GUI, [{\n    key: 'addCirclesControls',\n    value: function addCirclesControls(particles) {\n      this.gui.add(particles, 'circles').min(1).max(25).step(1).onFinishChange(function () {\n        particles.initParticleVars();\n        particles.setTargetPositions();\n      });\n    }\n  }, {\n    key: 'addRadiusControls',\n    value: function addRadiusControls(particles) {\n      this.gui.add(particles, 'radius').min(50).max(150).onFinishChange(function () {\n        particles.initParticleVars();\n        particles.setTargetPositions();\n      });\n    }\n  }, {\n    key: 'addVibrationControls',\n    value: function addVibrationControls(particles) {\n      this.gui.add(particles, 'vibration').min(0).max(10).step(0.5).onFinishChange(function () {\n        particles.FBO.simulationShader.uniforms.vibration.value = particles.vibration;\n      });\n    }\n  }, {\n    key: 'addSpeedControls',\n    value: function addSpeedControls(particles) {\n      this.gui.add(particles, 'speed').min(0).max(0.01);\n    }\n  }, {\n    key: 'addSphereControls',\n    value: function addSphereControls(particles) {\n      this.gui.add(particles, 'sphere').onFinishChange(function () {\n        particles.setSimType();\n        particles.setTargetPositions();\n      });\n    }\n  }]);\n\n  return GUI;\n}();\n\nexports.default = GUI;\n\n/***/ }),\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Canvas = function () {\n  function Canvas() {\n    _classCallCheck(this, Canvas);\n\n    this.scene = new THREE.Scene();\n  }\n\n  _createClass(Canvas, [{\n    key: \"add\",\n    value: function add(obj) {\n      this.scene.add(obj);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(obj) {\n      this.scene.remove(obj);\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.scene;\n    }\n  }]);\n\n  return Canvas;\n}();\n\nexports.default = Canvas;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _three = __webpack_require__(5);\n\nvar _three2 = _interopRequireDefault(_three);\n\nvar _shaders = __webpack_require__(18);\n\nvar _simulationShaders = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Particles = function () {\n  function Particles(_ref) {\n    var renderer = _ref.renderer,\n        _ref$numParticles = _ref.numParticles,\n        numParticles = _ref$numParticles === undefined ? 1000 * 1200 : _ref$numParticles,\n        _ref$configUniforms = _ref.configUniforms,\n        configUniforms = _ref$configUniforms === undefined ? {\n      color: { value: new THREE.Color(0xffffff) },\n      sizeMultipler: { value: window.innerHeight * window.devicePixelRatio / 2 },\n      texture: { value: new THREE.TextureLoader().load('images/star.png') }\n    } : _ref$configUniforms,\n        _ref$blending = _ref.blending,\n        blending = _ref$blending === undefined ? THREE.AdditiveBlending : _ref$blending,\n        _ref$transparent = _ref.transparent,\n        transparent = _ref$transparent === undefined ? true : _ref$transparent,\n        _ref$depthTest = _ref.depthTest,\n        depthTest = _ref$depthTest === undefined ? true : _ref$depthTest,\n        _ref$depthWrite = _ref.depthWrite,\n        depthWrite = _ref$depthWrite === undefined ? false : _ref$depthWrite,\n        _ref$circles = _ref.circles,\n        circles = _ref$circles === undefined ? 7 : _ref$circles,\n        _ref$radius = _ref.radius,\n        radius = _ref$radius === undefined ? 100 : _ref$radius,\n        _ref$depth = _ref.depth,\n        depth = _ref$depth === undefined ? 0 : _ref$depth,\n        _ref$colour = _ref.colour,\n        colour = _ref$colour === undefined ? 0.8 : _ref$colour,\n        _ref$sphere = _ref.sphere,\n        sphere = _ref$sphere === undefined ? false : _ref$sphere,\n        _ref$speed = _ref.speed,\n        speed = _ref$speed === undefined ? 0.0005 : _ref$speed,\n        _ref$vibration = _ref.vibration,\n        vibration = _ref$vibration === undefined ? 1 : _ref$vibration,\n        _ref$beats = _ref.beats,\n        beats = _ref$beats === undefined ? 0.075 : _ref$beats,\n        _ref$minSize = _ref.minSize,\n        minSize = _ref$minSize === undefined ? 1 : _ref$minSize,\n        _ref$maxSize = _ref.maxSize,\n        maxSize = _ref$maxSize === undefined ? 5 : _ref$maxSize,\n        _ref$incSize = _ref.incSize,\n        incSize = _ref$incSize === undefined ? 0.05 : _ref$incSize;\n\n    _classCallCheck(this, Particles);\n\n    this.renderer = renderer;\n    this.numParticles = numParticles;\n\n    this.circles = circles;\n    this.radius = radius;\n    this.depth = depth;\n    this.colour = colour;\n\n    this.sphere = sphere;\n    this.speed = speed;\n    this.vibration = vibration;\n    this.beats = beats;\n\n    this.minSize = minSize;\n    this.maxSize = maxSize;\n    this.incSize = incSize;\n\n    this.initParticleVars();\n\n    // height and width that set up a texture in memory\n    // this texture is used to store particle position values\n    var tHeight = 512;\n    var tWidth = this.numParticles / tHeight;\n\n    this.FBO = new _three2.default({\n      tWidth: tWidth,\n      tHeight: tHeight,\n      renderer: renderer,\n      uniforms: {\n        tTargetPosition: { type: 't', value: null },\n        clampValue: { type: 'f', value: 0.1 },\n        flatSimulation: { type: 'bool', value: true },\n\n        vibration: { type: 'f', value: this.vibration },\n\n        minSize: { type: 'f', value: this.minSize },\n        maxSize: { type: 'f', value: this.maxSize },\n        incSize: { type: 'f', value: this.incSize }\n      },\n      simulationVertexShader: _simulationShaders.simulationVertexShader,\n      simulationFragmentShader: _simulationShaders.simulationFragmentShader\n    });\n\n    this.setDefaultPositions();\n    this.setTargetPositions();\n\n    var uniforms = Object.assign({}, configUniforms, {\n      tPosition: { type: 't', value: this.FBO.targets[0] }\n    });\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms: uniforms,\n      vertexShader: _shaders.vertexShader,\n      fragmentShader: _shaders.fragmentShader,\n      blending: blending,\n      transparent: transparent,\n      depthTest: depthTest,\n      depthWrite: depthWrite\n    });\n\n    var geometry = new THREE.Geometry();\n\n    for (var i = 0, l = this.numParticles; i < l; i++) {\n      var vertex = new THREE.Vector3();\n      vertex.x = i % tWidth / tWidth;\n      vertex.y = Math.floor(i / tWidth) / tHeight;\n      geometry.vertices.push(vertex);\n    }\n\n    this.particles = new THREE.Points(geometry, this.material);\n    this.particles.frustumCulled = false;\n  }\n\n  _createClass(Particles, [{\n    key: 'setDefaultPositions',\n    value: function setDefaultPositions() {\n      this.FBO.setTextureUniform(['tPrev', 'tCurr'], this.getDefaultPositions());\n    }\n  }, {\n    key: 'getDefaultPositions',\n    value: function getDefaultPositions() {\n      var vertices = new Float32Array(this.numParticles * 4);\n      for (var i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n        vertices[i3] = vertices[i3 + 1] = vertices[i3 + 2] = vertices[i3 + 3] = 0;\n      }\n      return vertices;\n    }\n  }, {\n    key: 'setTargetPositions',\n    value: function setTargetPositions() {\n      this.FBO.setTextureUniform('tTargetPosition', this.getTargetPositions());\n    }\n  }, {\n    key: 'getTargetPositions',\n    value: function getTargetPositions() {\n      var vertices = new Float32Array(this.numParticles * 4);\n      for (var i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n        var vertice = this.getTargetPosition(i, i3);\n\n        vertices[i3] = vertice[0];\n        vertices[i3 + 1] = vertice[1];\n        vertices[i3 + 2] = vertice[2];\n\n        vertices[i3 + 3] = this.getSize(i, vertice);\n      }\n      return vertices;\n    }\n  }, {\n    key: 'getTargetPosition',\n    value: function getTargetPosition(index, i3) {\n      var clusterNum = this.getClusterNum(index);\n      return this.calcTargetPosition(this.radiuses[clusterNum]);\n    }\n  }, {\n    key: 'calcTargetPosition',\n    value: function calcTargetPosition(radius) {\n      var x = Math.random() * 2 - 1;\n      var y = Math.random() * 2 - 1;\n      var tempZ = Math.random() * 3 - 1.5;\n      var z = tempZ < 1.45 ? tempZ : Math.random() * 150;\n      var d = 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(tempZ, 2));\n\n      return [x * radius * d, y * radius * d, this.sphere ? tempZ * radius * d : z];\n    }\n  }, {\n    key: 'getSize',\n    value: function getSize(index, vertice) {\n      var clusterNum = this.getClusterNum(index) + 1;\n      var sizeRange = this.maxSize - this.minSize;\n      var rand = Math.random() / clusterNum;\n      var size = this.minSize + sizeRange * rand;\n\n      return size;\n    }\n  }, {\n    key: 'initParticleVars',\n    value: function initParticleVars() {\n      this.setClusters();\n      this.setRadiuses();\n    }\n  }, {\n    key: 'setClusters',\n    value: function setClusters() {\n      this.clusters = [];\n\n      for (var i = 0; i < this.circles - 1; i++) {\n        this.clusters[i] = Math.floor(this.numParticles / (this.circles * (this.circles - i)) * (i + 1));\n      }\n\n      this.clusters[this.circles - 1] = this.numParticles;\n    }\n  }, {\n    key: 'getClusterNum',\n    value: function getClusterNum(index) {\n      for (var i = 0; i < this.clusters.length; i++) {\n        var lowerLimit = i === 0 ? 0 : this.clusters[i - 1];\n        if (index < this.clusters[i] && index >= lowerLimit) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: 'setRadiuses',\n    value: function setRadiuses() {\n      this.radiuses = [];\n\n      for (var i = 0; i < this.circles; i++) {\n        this.radiuses[i] = (i + 1) * this.radius;\n      }\n    }\n  }, {\n    key: 'setColour',\n    value: function setColour(i3) {\n      // TODO: colours\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this.FBO.simulate();\n      this.material.uniforms.tPosition.value = this.FBO.getCurrentFrame();\n\n      this.rotateZ(this.speed);\n    }\n  }, {\n    key: 'rotateZ',\n    value: function rotateZ(inc) {\n      this.particles.rotation.z += inc;\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      return this.particles;\n    }\n  }, {\n    key: 'setSimType',\n    value: function setSimType() {\n      this.FBO.simulationShader.uniforms.flatSimulation.value = !this.sphere;\n    }\n  }]);\n\n  return Particles;\n}();\n\nexports.default = Particles;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/* eslint-disable */\n\nvar fragmentShader = \"\\n\\tuniform sampler2D texture;\\n\\n\\tvoid main() {\\n\\t\\tgl_FragColor = vec4(0.7, 0.7, 0.7, 0.6);\\n\\t\\tgl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\\n\\t}\\n\";\n\nvar vertexShader = \"\\n\\tuniform sampler2D tPosition;\\n\\n\\tvarying vec2 vUv;\\n\\n\\tuniform float sizeMultipler;\\n\\n\\tvoid main() {\\n\\t\\tvUv = position.xy;\\n\\n\\t\\t// position saved as color value in a texture object in momery\\n\\t\\tvec3 pos = texture2D(tPosition, vUv).xyz;\\n\\t\\tfloat size = texture2D(tPosition, vUv).w;\\n\\n\\t\\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\\n\\t\\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\\n\\t\\tgl_Position = projectionMatrix * mvPosition;\\n\\t}\\n\";\n\nexports.fragmentShader = fragmentShader;\nexports.vertexShader = vertexShader;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/* eslint-disable */\n\nvar simulationFragmentShader = \"\\n\\t// simulation\\n\\tvarying vec2 vUv;\\n\\n\\tuniform sampler2D tPrev;\\n\\tuniform sampler2D tCurr;\\n\\tuniform sampler2D tTargetPosition;\\n\\n\\tuniform float numFrames;\\n\\tuniform float clampValue;\\n\\n\\tuniform float incSize;\\n\\tuniform float maxSize;\\n\\tuniform float minSize;\\n\\n\\tuniform bool flatSimulation;\\n\\tuniform float vibration;\\n\\n\\thighp float rand(vec2 co)\\n\\t{\\n\\t\\thighp float a = 12.9898;\\n\\t\\thighp float b = 78.233;\\n\\t\\thighp float c = 43758.5453;\\n\\t\\thighp float dt= dot(co.xy ,vec2(a,b));\\n\\t\\thighp float sn= mod(dt,3.14);\\n\\t\\treturn fract(sin(sn) * c);\\n\\t}\\n\\n\\tfloat getSize() {\\n\\t\\tfloat defaultSize = texture2D(tTargetPosition, vUv).w;\\n\\t\\tfloat prevSize = texture2D(tPrev, vUv).w;\\n\\t\\tfloat size = texture2D(tCurr, vUv).w;\\n\\n\\t\\tif (size == 0.0 && prevSize == 0.0) {\\n\\t\\t\\tsize = defaultSize;\\n\\t\\t} else if (size < minSize) {\\n\\t\\t\\tsize += incSize;\\n\\t\\t} else if (size > maxSize) {\\n\\t\\t\\tsize -= incSize;\\n\\t\\t} else if (size == prevSize) {\\n\\t\\t\\tsize += incSize;\\n\\t\\t} else {\\n\\t\\t\\tsize += (size - prevSize);\\n\\t\\t}\\n\\n\\t\\treturn size;\\n\\t}\\n\\n\\tfloat getZValue(vec3 pos, vec3 targetPos) {\\n\\t\\tfloat prevZ = texture2D(tPrev, vUv).z;\\n\\t\\tfloat incZ = vibration * (rand(vec2(pos.x, pos.y)) / numFrames);\\n\\n\\t\\tif ((pos.z < targetPos.z - 1.0) || (pos.z == targetPos.z)) {\\n\\t\\t\\tpos.z += incZ;\\n\\t\\t} else if (pos.z > targetPos.z + 1.0) {\\n\\t\\t\\tpos.z -= incZ;\\n\\t\\t} else {\\n\\t\\t\\tpos.z += pos.z - prevZ;\\n\\t\\t}\\n\\n\\t\\treturn pos.z;\\n\\t}\\n\\n\\tvoid main() {\\n\\t\\tvec3 pos = texture2D(tCurr, vUv).xyz;\\n\\t\\tvec3 targetPos = texture2D(tTargetPosition, vUv).xyz;\\n\\t\\tfloat size = getSize();\\n\\n\\t\\t// fancy maths goes here\\n\\t\\tvec3 distanceToGoal = targetPos - pos;\\n\\n\\t\\tif (distanceToGoal.x != 0.0 || distanceToGoal.y != 0.0) {\\n\\t\\t\\tvec3 velocity = vec3(\\n\\t\\t\\t\\tdistanceToGoal.x < clampValue && distanceToGoal.x > -clampValue ? distanceToGoal.x : distanceToGoal.x / numFrames,\\n\\t\\t\\t\\tdistanceToGoal.y < clampValue && distanceToGoal.y > -clampValue ? distanceToGoal.y : distanceToGoal.y / numFrames,\\n\\t\\t\\t\\tdistanceToGoal.z < clampValue && distanceToGoal.z > -clampValue ? distanceToGoal.z : distanceToGoal.z / numFrames\\n\\t\\t\\t);\\n\\n\\t\\t\\tpos += velocity;\\n\\t\\t} else {\\n\\t\\t\\tif (flatSimulation) {\\n\\t\\t\\t\\t// pos.z += rand(vec2(pos.x, pos.y)) / 20.0;\\n\\t\\t\\t\\t//\\n\\t\\t\\t\\t// if ((pos.z > (1.0 + targetPos.z)) && (size < 1.0)) {\\n\\t\\t\\t\\t// \\tpos.z = targetPos.z;\\n\\t\\t\\t\\t// }\\n\\n\\t\\t\\t\\tpos.z = getZValue(pos, targetPos);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\n\\t\\t// write new position out\\n\\t\\tgl_FragColor = vec4(pos, size);\\n\\t}\\n\";\n\nvar simulationVertexShader = \"\\n\\tvarying vec2 vUv;\\n\\n\\tvoid main() {\\n\\t    \\tvUv = vec2(uv);\\n\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t}\\n\";\n\nexports.simulationFragmentShader = simulationFragmentShader;\nexports.simulationVertexShader = simulationVertexShader;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cube = function () {\n  function Cube() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$size = _ref.size,\n        size = _ref$size === undefined ? 5 : _ref$size,\n        _ref$roughness = _ref.roughness,\n        roughness = _ref$roughness === undefined ? 1 : _ref$roughness,\n        _ref$color = _ref.color,\n        color = _ref$color === undefined ? 0xffffff : _ref$color,\n        _ref$bumpScale = _ref.bumpScale,\n        bumpScale = _ref$bumpScale === undefined ? 1 : _ref$bumpScale,\n        _ref$metalness = _ref.metalness,\n        metalness = _ref$metalness === undefined ? 1 : _ref$metalness,\n        _ref$emissive = _ref.emissive,\n        emissive = _ref$emissive === undefined ? 1 : _ref$emissive,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? {\n      x: 0, y: 0, z: 0\n    } : _ref$position,\n        _ref$castShadow = _ref.castShadow,\n        castShadow = _ref$castShadow === undefined ? true : _ref$castShadow;\n\n    _classCallCheck(this, Cube);\n\n    this.geometry = new THREE.CubeGeometry(size, size, size, 1, 1, 1);\n\n    this.material = new THREE.MeshStandardMaterial({\n      roughness: roughness,\n      color: color,\n      bumpScale: bumpScale,\n      metalness: metalness,\n      emissive: emissive\n    });\n\n    this.cube = new THREE.Mesh(this.geometry, this.material);\n\n    this.geometry.castShadow = castShadow;\n\n    this.setPosition(position);\n  }\n\n  _createClass(Cube, [{\n    key: \"setPosition\",\n    value: function setPosition() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$x = _ref2.x,\n          x = _ref2$x === undefined ? 0 : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === undefined ? 0 : _ref2$y,\n          _ref2$z = _ref2.z,\n          z = _ref2$z === undefined ? 0 : _ref2$z;\n\n      this.setX(x);\n      this.setY(y);\n      this.setZ(z);\n    }\n  }, {\n    key: \"setX\",\n    value: function setX() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.x = x;\n    }\n  }, {\n    key: \"setY\",\n    value: function setY() {\n      var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.y = y;\n    }\n  }, {\n    key: \"setZ\",\n    value: function setZ() {\n      var z = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.cube.position.z = z;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.cube;\n    }\n  }]);\n\n  return Cube;\n}();\n\nexports.default = Cube;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(THREE) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Light = function () {\n  function Light(_ref) {\n    var _ref$color = _ref.color,\n        color = _ref$color === undefined ? 0xffffff : _ref$color,\n        _ref$strength = _ref.strength,\n        strength = _ref$strength === undefined ? 1 : _ref$strength,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? [0, 0, 0] : _ref$position;\n\n    _classCallCheck(this, Light);\n\n    this.light = new THREE.PointLight(color, strength);\n    this.light.position.set(position[0], position[1], position[2]);\n  }\n\n  _createClass(Light, [{\n    key: \"get\",\n    value: function get() {\n      return this.light;\n    }\n  }]);\n\n  return Light;\n}();\n\nexports.default = Light;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ })\n],[6]);\n\n\n// WEBPACK FOOTER //\n// js/bundle.js","import isWebglEnabled from 'detector-webgl'\n\nimport Camera from './io/camera'\nimport Controls from './io/controls'\nimport Renderer from './io/renderer'\nimport Stats from './io/stats'\nimport GUI from './io/gui'\n\nimport Scene from './objects/scene'\nimport Particles from './objects/particles'\nimport Cube from './objects/cube'\nimport Light from './objects/light'\n\nfunction getParameterByName (name, url) {\n  if (!url) {\n    url = window.location.href\n  }\n\n  name = name.replace(/[[\\]]/g, '\\\\$&')\n  const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`)\n  const results = regex.exec(url)\n\n  if (!results) return null\n  if (!results[2]) return ''\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (isWebglEnabled) {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n    const aspectRatio = WIDTH / HEIGHT\n\n    const container = document.getElementById('container')\n\n    const renderer = new Renderer({ width: WIDTH, height: HEIGHT, container })\n\n    const camera = new Camera({ aspectRatio, position: { x: 310, y: -220, z: 240 } })\n    const controls = new Controls({ dynamicDampingFactor: 0.3, minDistance: 40, maxDistance: 1000, camera: camera.get(), rendererDomElement: renderer.getDomElement() })\n\n    const stats = new Stats()\n    const cube = new Cube({ roughness: 0.7, position: { z: 5 / 2 }, bumpScale: 0.02 })\n    const light = new Light({ color: 0x555555, strength: 5, position: [150, 150, 100] })\n    const particles = new Particles({ numParticles: WIDTH > 480 ? 1000 * 500 : 500 * 400, renderer: renderer.get() })\n    const scene = new Scene()\n\n    const gui = new GUI({ particles, scene }) // eslint-disable-line\n\n    const init = () => {\n      scene.add(cube.get())\n      scene.add(light.get())\n      scene.add(particles.get())\n\n      controls.onChange(render)\n\n      if (getParameterByName('stats') === 'true') {\n        container.appendChild(stats.getDomElement())\n      }\n    }\n\n    const animate = () => {\n      requestAnimationFrame(animate) // eslint-disable-line\n      controls.update()\n      render()\n    }\n\n    const render = () => {\n      camera.update()\n      particles.update()\n      stats.update()\n      renderer.render(scene.get(), camera.get())\n    }\n\n    init()\n    animate()\n  } else {\n    const info = document.getElementById('info')\n    info.innerHTML = 'Your browser is not supported. Please use the latest version of Firefox or Chrome.'\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export default class Camera {\n  constructor ({\n    fov = 400,\n    aspectRatio = 1,\n    near = 0.1,\n    far = 2000,\n    position = {\n      x: 0, y: 0, z: 0\n    },\n    up = [0, 0, 1]\n  }) {\n    this.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far)\n    this.defaultUp = up\n\n    this.setPosition(position)\n    this.setUp(...this.defaultUp)\n\n    window.addEventListener('resize', this.onWindowResize.bind(this))\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n    this.camera.aspect = WIDTH / HEIGHT\n    this.camera.updateProjectionMatrix()\n  }\n\n  setUp (x, y, z) {\n    this.camera.up.set(x, y, z)\n  }\n\n  setPosition ({\n    x = this.camera.position.x,\n    y = this.camera.position.y,\n    z = this.camera.position.z }) {\n    this.setX(x)\n    this.setY(y)\n    this.setZ(z)\n  }\n\n  setX (x) {\n    this.camera.position.x = x\n  }\n\n  setY (y) {\n    this.camera.position.y = y\n  }\n\n  setZ (z) {\n    this.camera.position.z = z\n  }\n\n  update () {\n    this.setUp(...this.defaultUp)\n    if (this.camera.position.z < 10) {\n      this.camera.position.z++\n    }\n  }\n\n  get () {\n    return this.camera\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/camera.js","import TrackballControls from 'three-trackballcontrols'\n\nexport default class Controls {\n  constructor ({\n    camera,\n    rendererDomElement = null,\n    rotateSpeed = 1.0,\n    zoomSpeed = 1.0,\n    panSpeed = 1.0,\n    noPan = false,\n    staticMoving = true,\n    dynamicDampingFactor = 0,\n    minDistance = 0,\n    maxDistance = Infinity,\n    keys = [65, 83, 68]\n  }) {\n    this.controls = new TrackballControls(camera, rendererDomElement)\n\n    this.controls.rotateSpeed = rotateSpeed\n    this.controls.zoomSpeed = zoomSpeed\n    this.controls.panSpeed = panSpeed\n    this.controls.noPan = noPan\n\n    this.controls.staticMoving = staticMoving\n    this.controls.dynamicDampingFactor = dynamicDampingFactor\n\n    this.controls.minDistance = minDistance\n    this.controls.maxDistance = maxDistance\n\n    this.controls.keys = keys\n  }\n\n  onChange (render) {\n    this.controls.addEventListener('change', render)\n  }\n\n  update () {\n    this.controls.update()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/controls.js","export default class Renderer {\n  constructor ({\n    alpha = true,\n    pixelRatio = window.devicePixelRatio,\n    width = window.width,\n    height = window.height,\n    container\n  }) {\n    this.renderer = new THREE.WebGLRenderer({ alpha })\n    this.setPixelRatio(pixelRatio)\n\n    this.setSize(width, height)\n\n    container.appendChild(this.getDomElement())\n    window.addEventListener('resize', this.onWindowResize.bind(this))\n  }\n\n  getDomElement (container) {\n    return this.renderer.domElement\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n\n    this.renderer.setSize(WIDTH, HEIGHT)\n  }\n\n  setPixelRatio (pixelRatio) {\n    this.renderer.setPixelRatio(pixelRatio)\n  }\n\n  setSize (w, h) {\n    this.renderer.setSize(w, h)\n  }\n\n  render (scene, camera) {\n    this.renderer.render(scene, camera)\n  }\n\n  get () {\n    return this.renderer\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/renderer.js","import StatsJS from 'stats.js'\n\nexport default class Stats {\n  constructor () {\n    this.stats = new StatsJS()\n  }\n\n  getDomElement (container) {\n    return this.stats.domElement\n  }\n\n  update () {\n    this.stats.update()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/stats.js","import DatGUI from 'dat-gui'\n\nexport default class GUI {\n  constructor ({\n    particles,\n    scene\n  } = {}) {\n    this.gui = new DatGUI.GUI()\n\n    this.addCirclesControls(particles)\n    this.addRadiusControls(particles)\n    this.addVibrationControls(particles)\n    this.addSpeedControls(particles)\n    this.addSphereControls(particles)\n  }\n\n  addCirclesControls (particles) {\n    this.gui.add(particles, 'circles')\n      .min(1)\n      .max(25)\n      .step(1)\n      .onFinishChange(() => {\n        particles.initParticleVars()\n        particles.setTargetPositions()\n      })\n  }\n\n  addRadiusControls (particles) {\n    this.gui.add(particles, 'radius')\n      .min(50)\n      .max(150)\n      .onFinishChange(() => {\n        particles.initParticleVars()\n        particles.setTargetPositions()\n      })\n  }\n\n  addVibrationControls (particles) {\n    this.gui.add(particles, 'vibration')\n      .min(0)\n      .max(10)\n      .step(0.5)\n      .onFinishChange(() => {\n        particles.FBO.simulationShader.uniforms.vibration.value = particles.vibration\n      })\n  }\n\n  addSpeedControls (particles) {\n    this.gui.add(particles, 'speed')\n      .min(0)\n      .max(0.01)\n  }\n\n  addSphereControls (particles) {\n    this.gui.add(particles, 'sphere')\n      .onFinishChange(() => {\n        particles.setSimType()\n        particles.setTargetPositions()\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/io/gui.js","export default class Canvas {\n  constructor () {\n    this.scene = new THREE.Scene()\n  }\n\n  add (obj) {\n    this.scene.add(obj)\n  }\n\n  remove (obj) {\n    this.scene.remove(obj)\n  }\n\n  get () {\n    return this.scene\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/scene.js","import FBO from 'three.js-fbo'\nimport { fragmentShader, vertexShader } from '../shaders/shaders'\nimport { simulationFragmentShader, simulationVertexShader } from '../shaders/simulationShaders'\n\nexport default class Particles {\n  constructor ({\n    renderer,\n\n    numParticles = 1000 * 1200,\n\n    configUniforms = {\n      color: { value: new THREE.Color(0xffffff) },\n      sizeMultipler: { value: (window.innerHeight * window.devicePixelRatio) / 2 },\n      texture: { value: new THREE.TextureLoader().load('images/star.png') }\n    },\n    blending = THREE.AdditiveBlending,\n    transparent = true,\n    depthTest = true,\n    depthWrite = false,\n\n    circles = 7,\n    radius = 100,\n    depth = 0,\n    colour = 0.8,\n\n    sphere = false,\n    speed = 0.0005,\n    vibration = 1,\n    beats = 0.075,\n\n    // particle sizes\n    minSize = 1,\n    maxSize = 5,\n    incSize = 0.05\n  }) {\n    this.renderer = renderer\n    this.numParticles = numParticles\n\n    this.circles = circles\n    this.radius = radius\n    this.depth = depth\n    this.colour = colour\n\n    this.sphere = sphere\n    this.speed = speed\n    this.vibration = vibration\n    this.beats = beats\n\n    this.minSize = minSize\n    this.maxSize = maxSize\n    this.incSize = incSize\n\n    this.initParticleVars()\n\n    // height and width that set up a texture in memory\n    // this texture is used to store particle position values\n    const tHeight = 512\n    const tWidth = this.numParticles / tHeight\n\n    this.FBO = new FBO({\n      tWidth,\n      tHeight,\n      renderer,\n      uniforms: {\n        tTargetPosition: { type: 't', value: null },\n        clampValue: { type: 'f', value: 0.1 },\n        flatSimulation: { type: 'bool', value: true },\n\n        vibration: { type: 'f', value: this.vibration },\n\n        minSize: { type: 'f', value: this.minSize },\n        maxSize: { type: 'f', value: this.maxSize },\n        incSize: { type: 'f', value: this.incSize }\n      },\n      simulationVertexShader,\n      simulationFragmentShader\n    })\n\n    this.setDefaultPositions()\n    this.setTargetPositions()\n\n    const uniforms = Object.assign({}, configUniforms, {\n      tPosition: { type: 't', value: this.FBO.targets[0] }\n    })\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms,\n      vertexShader,\n      fragmentShader,\n      blending,\n      transparent,\n      depthTest,\n      depthWrite\n    })\n\n    const geometry = new THREE.Geometry()\n\n    for (let i = 0, l = this.numParticles; i < l; i++) {\n      const vertex = new THREE.Vector3()\n      vertex.x = (i % tWidth) / tWidth\n      vertex.y = Math.floor(i / tWidth) / tHeight\n      geometry.vertices.push(vertex)\n    }\n\n    this.particles = new THREE.Points(geometry, this.material)\n    this.particles.frustumCulled = false\n  }\n\n  setDefaultPositions () {\n    this.FBO.setTextureUniform(['tPrev', 'tCurr'], this.getDefaultPositions())\n  }\n\n  getDefaultPositions () {\n    const vertices = new Float32Array(this.numParticles * 4)\n    for (let i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n      vertices[i3] = vertices[i3 + 1] = vertices[i3 + 2] = vertices[i3 + 3] = 0\n    }\n    return vertices\n  }\n\n  setTargetPositions () {\n    this.FBO.setTextureUniform('tTargetPosition', this.getTargetPositions())\n  }\n\n  getTargetPositions () {\n    const vertices = new Float32Array(this.numParticles * 4)\n    for (let i = 0, i3 = 0; i < this.numParticles; i++, i3 += 4) {\n      const vertice = this.getTargetPosition(i, i3)\n\n      vertices[i3] = vertice[0]\n      vertices[i3 + 1] = vertice[1]\n      vertices[i3 + 2] = vertice[2]\n\n      vertices[i3 + 3] = this.getSize(i, vertice)\n    }\n    return vertices\n  }\n\n  getTargetPosition (index, i3) {\n    const clusterNum = this.getClusterNum(index)\n    return this.calcTargetPosition(this.radiuses[clusterNum])\n  }\n\n  calcTargetPosition (radius) {\n    const x = Math.random() * 2 - 1\n    const y = Math.random() * 2 - 1\n    const tempZ = Math.random() * 3 - 1.5\n    const z = tempZ < 1.45 ? tempZ : Math.random() * 150\n    const d = (1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(tempZ, 2)))\n\n    return [\n      x * radius * d,\n      y * radius * d,\n      this.sphere ? tempZ * radius * d : z\n    ]\n  }\n\n  getSize (index, vertice) {\n    const clusterNum = this.getClusterNum(index) + 1\n    const sizeRange = this.maxSize - this.minSize\n    const rand = Math.random() / clusterNum\n    const size = this.minSize + sizeRange * rand\n\n    return size\n  }\n\n  initParticleVars () {\n    this.setClusters()\n    this.setRadiuses()\n  }\n\n  setClusters () {\n    this.clusters = []\n\n    for (let i = 0; i < (this.circles - 1); i++) {\n      this.clusters[i] = Math.floor((this.numParticles / (this.circles * (this.circles - i))) * (i + 1))\n    }\n\n    this.clusters[this.circles - 1] = this.numParticles\n  }\n\n  getClusterNum (index) {\n    for (let i = 0; i < this.clusters.length; i++) {\n      const lowerLimit = i === 0 ? 0 : this.clusters[i - 1]\n      if (index < this.clusters[i] && index >= lowerLimit) {\n        return i\n      }\n    }\n  }\n\n  setRadiuses () {\n    this.radiuses = []\n\n    for (let i = 0; i < this.circles; i++) {\n      this.radiuses[i] = (i + 1) * this.radius\n    }\n  }\n\n  setColour (i3) {\n    // TODO: colours\n  }\n\n  update () {\n    this.FBO.simulate()\n    this.material.uniforms.tPosition.value = this.FBO.getCurrentFrame()\n\n    this.rotateZ(this.speed)\n  }\n\n  rotateZ (inc) {\n    this.particles.rotation.z += inc\n  }\n\n  get () {\n    return this.particles\n  }\n\n  setSimType () {\n    this.FBO.simulationShader.uniforms.flatSimulation.value = !this.sphere\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/particles.js","/* eslint-disable */\n\nconst fragmentShader = `\n\tuniform sampler2D texture;\n\n\tvoid main() {\n\t\tgl_FragColor = vec4(0.7, 0.7, 0.7, 0.6);\n\t\tgl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n\t}\n`\n\nconst vertexShader = `\n\tuniform sampler2D tPosition;\n\n\tvarying vec2 vUv;\n\n\tuniform float sizeMultipler;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\n\t\t// position saved as color value in a texture object in momery\n\t\tvec3 pos = texture2D(tPosition, vUv).xyz;\n\t\tfloat size = texture2D(tPosition, vUv).w;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\t\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n`\n\nexport {\n  fragmentShader,\n  vertexShader\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/shaders.js","/* eslint-disable */\n\nconst simulationFragmentShader = `\n\t// simulation\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tTargetPosition;\n\n\tuniform float numFrames;\n\tuniform float clampValue;\n\n\tuniform float incSize;\n\tuniform float maxSize;\n\tuniform float minSize;\n\n\tuniform bool flatSimulation;\n\tuniform float vibration;\n\n\thighp float rand(vec2 co)\n\t{\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\tfloat getSize() {\n\t\tfloat defaultSize = texture2D(tTargetPosition, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\n\t\tif (size == 0.0 && prevSize == 0.0) {\n\t\t\tsize = defaultSize;\n\t\t} else if (size < minSize) {\n\t\t\tsize += incSize;\n\t\t} else if (size > maxSize) {\n\t\t\tsize -= incSize;\n\t\t} else if (size == prevSize) {\n\t\t\tsize += incSize;\n\t\t} else {\n\t\t\tsize += (size - prevSize);\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tfloat getZValue(vec3 pos, vec3 targetPos) {\n\t\tfloat prevZ = texture2D(tPrev, vUv).z;\n\t\tfloat incZ = vibration * (rand(vec2(pos.x, pos.y)) / numFrames);\n\n\t\tif ((pos.z < targetPos.z - 1.0) || (pos.z == targetPos.z)) {\n\t\t\tpos.z += incZ;\n\t\t} else if (pos.z > targetPos.z + 1.0) {\n\t\t\tpos.z -= incZ;\n\t\t} else {\n\t\t\tpos.z += pos.z - prevZ;\n\t\t}\n\n\t\treturn pos.z;\n\t}\n\n\tvoid main() {\n\t\tvec3 pos = texture2D(tCurr, vUv).xyz;\n\t\tvec3 targetPos = texture2D(tTargetPosition, vUv).xyz;\n\t\tfloat size = getSize();\n\n\t\t// fancy maths goes here\n\t\tvec3 distanceToGoal = targetPos - pos;\n\n\t\tif (distanceToGoal.x != 0.0 || distanceToGoal.y != 0.0) {\n\t\t\tvec3 velocity = vec3(\n\t\t\t\tdistanceToGoal.x < clampValue && distanceToGoal.x > -clampValue ? distanceToGoal.x : distanceToGoal.x / numFrames,\n\t\t\t\tdistanceToGoal.y < clampValue && distanceToGoal.y > -clampValue ? distanceToGoal.y : distanceToGoal.y / numFrames,\n\t\t\t\tdistanceToGoal.z < clampValue && distanceToGoal.z > -clampValue ? distanceToGoal.z : distanceToGoal.z / numFrames\n\t\t\t);\n\n\t\t\tpos += velocity;\n\t\t} else {\n\t\t\tif (flatSimulation) {\n\t\t\t\t// pos.z += rand(vec2(pos.x, pos.y)) / 20.0;\n\t\t\t\t//\n\t\t\t\t// if ((pos.z > (1.0 + targetPos.z)) && (size < 1.0)) {\n\t\t\t\t// \tpos.z = targetPos.z;\n\t\t\t\t// }\n\n\t\t\t\tpos.z = getZValue(pos, targetPos);\n\t\t\t}\n\t\t}\n\n\n\t\t// write new position out\n\t\tgl_FragColor = vec4(pos, size);\n\t}\n`\n\nconst simulationVertexShader = `\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t    \tvUv = vec2(uv);\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n`\n\nexport {\n  simulationFragmentShader,\n  simulationVertexShader\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shaders/simulationShaders.js","export default class Cube {\n  constructor ({\n    size = 5,\n    roughness = 1,\n    color = 0xffffff,\n    bumpScale = 1,\n    metalness = 1,\n    emissive = 1,\n    position = {\n      x: 0, y: 0, z: 0\n    },\n    castShadow = true\n  } = {}) {\n    this.geometry = new THREE.CubeGeometry(size, size, size, 1, 1, 1)\n\n    this.material = new THREE.MeshStandardMaterial({\n      roughness,\n      color,\n      bumpScale,\n      metalness,\n      emissive\n    })\n\n    this.cube = new THREE.Mesh(this.geometry, this.material)\n\n    this.geometry.castShadow = castShadow\n\n    this.setPosition(position)\n  }\n\n  setPosition ({\n    x = 0,\n    y = 0,\n    z = 0\n  } = {}) {\n    this.setX(x)\n    this.setY(y)\n    this.setZ(z)\n  }\n\n  setX (x = 0) {\n    this.cube.position.x = x\n  }\n\n  setY (y = 0) {\n    this.cube.position.y = y\n  }\n\n  setZ (z = 0) {\n    this.cube.position.z = z\n  }\n\n  get () {\n    return this.cube\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/cube.js","export default class Light {\n  constructor ({\n    color = 0xffffff,\n    strength = 1,\n    position = [0, 0, 0]\n  }) {\n    this.light = new THREE.PointLight(color, strength)\n    this.light.position.set(position[0], position[1], position[2])\n  }\n\n  get () {\n    return this.light\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/objects/light.js"],"sourceRoot":""}