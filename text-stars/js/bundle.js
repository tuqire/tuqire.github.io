webpackJsonp([0],[,,function(t,e,i){"use strict";(function(t){function i(){return window.innerWidth>1100?170:window.innerWidth>700?100:window.innerWidth>500?85:50}function n(e){var i=e.data,n=e.tWidth,o=e.tHeight,a=e.format,r=e.filterType,s=new t.DataTexture(i,n,o,a,t.FloatType);return s.minFilter=s.magFilter=r,s.needsUpdate=!0,s.flipY=!1,s}e.b=i,e.a=n}).call(e,i(0))},,function(t,e,i){"use strict";var n={arial:"Arial, Helvetica, sans-serif",arialBlack:'"Arial Black", Gadget, sans-serif',comicSans:'"Comic Sans MS", cursive, sans-serif',georgia:"Georgia, serif",impact:"Impact, Charcoal, sans-serif",lucida:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',palatino:'"Palatino Linotype", "Book Antiqua", Palatino, serif',times:'"Times New Roman", Times, serif',tahoma:"Tahoma, Geneva, sans-serif",trebuchet:'"Trebuchet MS", Helvetica, sans-serif',verdena:"Verdana, Geneva, sans-serif"},o=n;i.d(e,"a",function(){return o})},,function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=i.n(o),r=i(7),s=i(3),u=i.n(s),l=i(4),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.particles;e.scene;n(this,t),this.gui=new u.a.GUI,this.addBgControls(i),this.addTextControls(i),this.addMouseControls(i),this.addSizeControls(i),this.addColourStrengthControls(i),this.addOpacityControls(i)}return c(t,[{key:"addBgControls",value:function(t){this.gui.addColor(t,"bgColorTop"),this.gui.addColor(t,"bgColorBottom")}},{key:"addTextControls",value:function(t){this.gui.add(t,"font",Object.keys(l.a)).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"fontSize").min(10).max(200).step(5).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"textAlign",["left","center"]).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"textSizeMultiplier").min(1).max(1e3).step(10).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"topSpeed").min(.1).max(10).step(.1).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"acceleration").min(1e-5).max(.01).step(1e-5).onFinishChange(function(){t.updateParticleVars()})}},{key:"addMouseControls",value:function(t){this.gui.add(t,"hoverDist").min(0).max(.5).step(.01).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"hoverSizeInc").min(0).max(.03).step(.001).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"hoverMaxSizeMultiplier").min(1).max(3).step(.05).onFinishChange(function(){t.updateParticleVars()})}},{key:"addSizeControls",value:function(t){this.gui.add(t,"minSize").min(.01).max(.04).step(.001).onFinishChange(function(){t.minSize>t.maxSize&&(t.minSize=t.maxSize),t.updateSizes()}),this.gui.add(t,"maxSize").min(.01).max(.04).step(.001).onFinishChange(function(){t.maxSize<t.minSize&&(t.maxSize=t.minSize),t.updateSizes()}),this.gui.add(t,"sizeInc").min(1e-5).max(2e-4).step(1e-5).onFinishChange(function(){t.updateSizes()}),this.gui.add(t,"sizeRange").min(0).max(.02).step(5e-4).onFinishChange(function(){t.updateSizes()}),this.gui.add(t,"skew").min(1).max(100).step(1).onFinishChange(function(){t.updateSizes()})}},{key:"addColourStrengthControls",value:function(t){this.gui.add(t,"brightness").min(.1).max(3).step(.05).onFinishChange(function(){t.updateColours()})}},{key:"addOpacityControls",value:function(t){this.gui.add(t,"opacity").min(.1).max(1.5).step(.05).onFinishChange(function(){t.updateColours()})}}]),t}(),d=h,v=i(10),f=i(11),p=i(12);document.addEventListener("DOMContentLoaded",function(){if(a.a){var t=document.getElementById("stars-simulation-container"),e=new v.a({container:t}),i=new f.a,n=new p.a({renderer:e,numParticles:12e4,radius:4,minSize:.015,maxSize:.03,sizeRange:.003,sizeInc:5e-5,skew:35,hoverDist:.04,hoverSizeInc:.002,hoverMaxSizeMultiplier:1.7,font:"arial",fontSize:80,topSpeed:1,acceleration:1e-4,textAlign:"left",textSizeMultiplier:600,textPositionMultiplier:5.5,brightness:.9,opacity:1}),o=new r.a({particles:n,position:{x:0,y:-.001,z:4.5}}),s=(new d({particles:n}),function(){n.update(),e.render({scene:i.get(),camera:o.get()})});!function(){i.add(n.get())}(),function t(){requestAnimationFrame(t),s()}()}else{document.getElementById("info").innerHTML="Your browser is not supported. Please use the latest version of Firefox or Chrome."}})},function(t,e,i){"use strict";(function(t){function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=i(2),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function e(i){var a=i.particles,r=i.fov,s=void 0===r?400:r,u=i.aspectRatio,l=void 0===u?window.innerWidth/window.innerHeight:u,c=i.near,h=void 0===c?.1:c,d=i.far,v=void 0===d?2e3:d,f=i.position,p=void 0===f?{x:0,y:0,z:0}:f,m=i.up,g=void 0===m?[0,0,1]:m;o(this,e),this.particles=a,this.particles.setCameraZ(p.z),this.camera=new t.PerspectiveCamera(s,l,h,v),this.up=g,this.setPosition(p),this.setUp.apply(this,n(this.up)),this.setLookAt()}return r(e,[{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.setZ(window.innerHeight/Object(a.b)()),this.camera.updateProjectionMatrix()}},{key:"setUp",value:function(t,e,i){this.camera.up.set(t,e,i)}},{key:"setPosition",value:function(t){var e=t.x,i=void 0===e?this.camera.position.x:e,n=t.y,o=void 0===n?this.camera.position.y:n,a=t.z,r=void 0===a?this.camera.position.z:a;this.setX(i),this.setY(o),this.setZ(r)}},{key:"setX",value:function(t){this.camera.position.x=t,this.setLookAt()}},{key:"setY",value:function(t){this.camera.position.y=t,this.setLookAt()}},{key:"setZ",value:function(t){this.camera.position.z=t,this.setLookAt(),this.setUp(0,0,1),this.particles.setCameraZ(t)}},{key:"setLookAt",value:function(){this.camera.lookAt(new t.Vector3(0,0,0))}},{key:"get",value:function(){return this.camera}},{key:"getPosition",value:function(){return this.camera.position}},{key:"getZ",value:function(){return this.camera.position.z}}]),e}();e.a=s}).call(e,i(0))},,,function(t,e,i){"use strict";(function(t){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function e(n){var o=n.alpha,a=void 0===o||o,r=n.pixelRatio,s=void 0===r?window.devicePixelRatio:r,u=n.width,l=void 0===u?window.innerWidth:u,c=n.height,h=void 0===c?window.innerHeight:c,d=n.container;i(this,e),this.renderer=new t.WebGLRenderer({alpha:a});var v=this.renderer.context;v.enable(v.BLEND),v.blendFunc(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA),this.setPixelRatio(s),this.setSize(l,h),d.appendChild(this.getDomElement()),window.addEventListener("resize",this.onWindowResize.bind(this))}return n(e,[{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.renderer.setSize(t,e)}},{key:"setPixelRatio",value:function(t){this.renderer.setPixelRatio(t)}},{key:"setSize",value:function(t,e){this.renderer.setSize(t,e)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scene,i=t.camera,n=t.renderTarget,o=void 0===n?null:n,a=t.force,r=void 0!==a&&a;this.renderer.render(e,i,o,r)}},{key:"get",value:function(){return this.renderer}}]),e}();e.a=o}).call(e,i(0))},function(t,e,i){"use strict";(function(t){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function e(){i(this,e),this.scene=new t.Scene}return n(e,[{key:"add",value:function(t){this.scene.add(t)}},{key:"remove",value:function(t){this.scene.remove(t)}},{key:"get",value:function(){return this.scene}}]),e}();e.a=o}).call(e,i(0))},function(t,e,i){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=i(5),a=i.n(o),r=i(2),s=i(4),u=i(14),l=i(15),c=i(16),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),d=function(){function e(i){var o=i.configUniforms,r=void 0===o?{color:{value:new t.Color(16777215)},sizeMultiplierForScreen:{value:window.innerHeight*window.devicePixelRatio/2},starImg:{value:(new t.TextureLoader).load("images/star.png")}}:o,s=i.blending,h=void 0===s?t.AdditiveBlending:s,d=i.transparent,v=void 0===d||d,f=i.depthTest,p=void 0===f||f,m=i.depthWrite,g=void 0!==m&&m,z=i.renderer,x=i.bgColorTop,y=void 0===x?"#000f23":x,S=i.bgColorBottom,w=void 0===S?"#00071b":S,P=i.numParticles,C=void 0===P?1e4:P,b=i.radius,T=void 0===b?100:b,M=i.minSize,k=void 0===M?1:M,F=i.maxSize,D=void 0===F?3:F,B=i.sizeRange,O=void 0===B?.5:B,U=i.sizeInc,I=void 0===U?.01:U,A=i.skew,R=void 0===A?1:A,H=i.hoverDist,_=void 0===H?10:H,L=i.hoverSizeInc,W=void 0===L?.05:L,V=i.hoverMaxSizeMultiplier,E=void 0===V?5:V,G=i.font,j=void 0===G?"arial":G,Y=i.fontSize,Z=void 0===Y?100:Y,N=i.topSpeed,X=void 0===N?.07:N,q=i.acceleration,J=void 0===q?.01:q,K=i.textAlign,Q=void 0===K?"left":K,$=i.textSizeMultiplier,tt=void 0===$?2:$,et=i.textPositionMultiplier,it=void 0===et?2:et,nt=i.brightness,ot=void 0===nt?1:nt,at=i.opacity,rt=void 0===at?1:at;n(this,e),this.renderer=z,this.bgColorTop=y,this.bgColorBottom=w,this.numParticles=C,this.radius=T,this.minSize=k,this.maxSize=D,this.sizeRange=O,this.sizeInc=I,this.skew=R,this.hoverDist=_,this.hoverSizeInc=W,this.hoverMaxSizeMultiplier=E,this.font=j,this.fontSize=Z,this.topSpeed=X,this.acceleration=J,this.textAlign=Q,this.textSizeMultiplier=tt,this.textPositionMultiplier=it,this.brightness=ot,this.opacity=rt,this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2;var st=this.tHeight=Math.ceil(Math.sqrt(this.numParticles)),ut=this.tWidth=st;this.numParticles=ut*st,this.positions=new Float32Array(3*this.numParticles),this.positionFBO=new a.a({tWidth:ut,tHeight:st,renderer:z.get(),uniforms:{tDefaultPosition:{type:"t",value:0},tText:{type:"t",value:0},topSpeed:{type:"f",value:this.topSpeed},acceleration:{type:"f",value:this.acceleration},textPositionMultiplier:{type:"f",value:this.textPositionMultiplier}},simulationVertexShader:u.b,simulationFragmentShader:u.a}),this.positionFBO.setTextureUniform("tDefaultPosition",this.getPositions()),this.sizeFBO=new a.a({tWidth:ut,tHeight:st,renderer:z.get(),uniforms:{tPosition:{type:"t",value:0},tDefaultSize:{type:"t",value:0},mouse:{value:new t.Vector3(1e4,1e4,1e4)},sizeRange:{type:"f",value:this.sizeRange},sizeInc:{type:"f",value:this.sizeInc},hoverDist:{type:"f",value:this.hoverDist},hoverSizeInc:{type:"f",value:this.hoverSizeInc},hoverMaxSizeMultiplier:{type:"f",value:this.hoverMaxSizeMultiplier}},simulationVertexShader:l.b,simulationFragmentShader:l.a}),this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes());var lt=Object.assign({},r,{tDefaultPosition:{type:"t",value:this.positionFBO.simulationShader.uniforms.tDefaultPosition.value},tText:{type:"t",value:0},tPosition:{type:"t",value:this.positionFBO.targets[0]},tSize:{type:"t",value:this.sizeFBO.targets[0]},textSizeMultiplier:{type:"f",value:this.textSizeMultiplier},tColour:{type:"t",value:this.getColours()}});this.material=new t.ShaderMaterial({uniforms:lt,vertexShader:c.b,fragmentShader:c.a,blending:h,transparent:v,depthTest:p,depthWrite:g});for(var ct=new t.Geometry,ht=0;ht<this.numParticles;ht++){var dt=new t.Vector3;dt.x=ht%ut/ut,dt.y=Math.floor(ht/ut)/st,ct.vertices.push(dt)}this.particles=new t.Points(ct,this.material),this.particles.frustumCulled=!1,this.text="",document.onkeydown=this.onTextInput.bind(this),window.addEventListener("resize",this.onWindowResize.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this),!1)}return h(e,[{key:"onWindowResize",value:function(){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2}},{key:"onMouseMove",value:function(t){var e=this.cameraZ/(2.8*this.windowHalfY),i=this.cameraZ/(2.65*this.windowHalfY),n=t.clientX-this.windowHalfX,o=this.windowHalfY-t.clientY;this.sizeFBO.simulationShader.uniforms.mouse.value.set(e*n,i*o,0)}},{key:"setTextTexture",value:function(e){var i=new t.Texture(e);i.minFilter=i.magFilter=t.NearestFilter,i.needsUpdate=!0,i.flipY=!0,this.positionFBO.simulationShader.uniforms.tText.value=this.material.uniforms.tText.value=i}},{key:"onTextInput",value:function(t){var e=t.key,i=void 0===e?"":e;("Backspace"===i||1===i.length&&i.match(/[a-z ]?/i))&&(this.text="Backspace"===i?this.text.slice(0,-1):this.text+i,this.updateTextTexture())}},{key:"getPositions",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0,n=0;e<this.numParticles;e++,i+=3,n+=4){var o=this.calcPosition();this.positions[i]=t[n]=o[0],this.positions[i+1]=t[n+1]=o[1],this.positions[i+2]=t[n+2]=o[2],t[n+3]=0}return t}},{key:"calcPosition",value:function(){var t=this.radius,e=Math.random()-.5,i=Math.random()-.5,n=Math.pow(Math.random(),.6)*t*(1/Math.sqrt(Math.pow(e,2)+Math.pow(i,2)));return[e*n,i*n,0]}},{key:"getSizes",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0;e<this.numParticles;e++,i+=4)t[i+3]=this.calcSize();return t}},{key:"calcSize",value:function(){var t=this.maxSize-this.minSize;return this.minSize+t*Math.pow(Math.random(),this.skew)}},{key:"getColours",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0;e<this.numParticles;e++,i+=4){var n=this.calcColour();t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3]}return Object(r.a)({data:t,tWidth:this.tWidth,tHeight:this.tHeight,format:this.positionFBO.format,filterType:this.positionFBO.filterType})}},{key:"calcColour",value:function(){var t=this,e=Math.ceil(10*Math.random()),i=function(e,i,n,o){return[t.brightness*e/255,t.brightness*i/255,t.brightness*n/255,t.opacity]};switch(e){case 1:return i(155,176,255);case 2:return i(170,191,255);case 3:return i(202,215,255);case 4:return i(248,247,255);case 5:return i(255,244,234);case 6:return i(255,210,161);case 7:return i(255,204,111);default:return i(255,255,255)}}},{key:"update",value:function(){this.positionFBO.simulate(),this.sizeFBO.simulate(),this.sizeFBO.simulationShader.uniforms.tPosition.value=this.material.uniforms.tPosition.value=this.positionFBO.getCurrentFrame(),this.material.uniforms.tSize.value=this.sizeFBO.getCurrentFrame()}},{key:"get",value:function(){return this.particles}},{key:"setCameraZ",value:function(t){this.cameraZ=t}},{key:"updateTextTexture",value:function(){var t=document.createElement("canvas");t.width=t.height=1*Math.sqrt(this.numParticles);var e=t.height/2,i=t.getContext("2d",{alpha:!1});i.font=this.fontSize+"px "+s.a[this.font],i.fillStyle="white",i.textAlign=this.textAlign,i.fillText(this.text,"left"===this.textAlign?0:e,e+this.fontSize/2,t.width),this.setTextTexture(t)}},{key:"updateColours",value:function(){this.material.uniforms.tColour.value=this.getColours()}},{key:"updateSizes",value:function(){this.sizeFBO.simulationShader.uniforms.sizeRange.value=this.sizeRange,this.sizeFBO.simulationShader.uniforms.sizeInc.value=this.sizeInc,this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes())}},{key:"updateParticleVars",value:function(){this.material.uniforms.textSizeMultiplier.value=this.textSizeMultiplier,this.positionFBO.simulationShader.uniforms.textPositionMultiplier.value=this.textPositionMultiplier,this.positionFBO.simulationShader.uniforms.topSpeed.value=this.topSpeed,this.positionFBO.simulationShader.uniforms.acceleration.value=this.acceleration,this.sizeFBO.simulationShader.uniforms.hoverDist.value=this.hoverDist,this.sizeFBO.simulationShader.uniforms.hoverSizeInc.value=this.hoverSizeInc,this.sizeFBO.simulationShader.uniforms.hoverMaxSizeMultiplier.value=this.hoverMaxSizeMultiplier}},{key:"bgColorTop",get:function(){return this._bgColorTop},set:function(t){this._bgColorTop=t,document.getElementsByTagName("body")[0].style.background="linear-gradient("+this._bgColorTop+", "+this._bgColorBottom+")"}},{key:"bgColorBottom",get:function(){return this._bgColorBottom},set:function(t){this._bgColorBottom=t,document.getElementsByTagName("body")[0].style.background="linear-gradient("+this._bgColorTop+", "+this._bgColorBottom+")"}}]),e}();e.a=d}).call(e,i(0))},,function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co) {\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\n\tuniform sampler2D tDefaultPosition;\n\tuniform sampler2D tText;\n\n\tuniform float topSpeed;\n\tuniform float acceleration;\n\tuniform float textPositionMultiplier;\n\n\tvec3 setTopSpeed(vec3 speed, float topSpeed) {\n\t\treturn vec3(\n\t\t\tspeed.x > topSpeed ? topSpeed : speed.x < -topSpeed ? -topSpeed : speed.x,\n\t\t\tspeed.y > topSpeed ? topSpeed : speed.y < -topSpeed ? -topSpeed : speed.y,\n\t\t\tspeed.z > topSpeed ? topSpeed : speed.z < -topSpeed ? -topSpeed : speed.z\n\t\t);\n\t}\n\n\tvec3 moveParticleToGoal(vec3 currPos, vec3 prevPos, vec3 goal) {\n\t\tvec3 distanceToGoal = goal - currPos;\n\t\tvec3 currVelocity = currPos - prevPos;\n\n\t\tvec3 calculatedAcceleration = normalize(distanceToGoal) * acceleration;\n\t\tfloat currVelocityL = length(currVelocity);\n\t\tfloat distanceToGoalL = length(distanceToGoal);\n\n\t\tif (distanceToGoalL > currVelocityL) {\n\t\t\tvec3 velocity = currVelocity + calculatedAcceleration;\n\n\t\t\tvelocity = setTopSpeed(velocity, topSpeed);\n\n\t\t\treturn currPos + velocity;\n\t\t} else {\n\t\t\treturn goal;\n\t\t}\n\t}\n\n\tvoid main() {\n\t\tvec3 defaultPos = texture2D(tDefaultPosition, vUv).xyz;\n\t\tvec3 prevPos = texture2D(tPrev, vUv).xyz;\n\t\tvec3 position = texture2D(tCurr, vUv).xyz;\n\t\tfloat textOpacity = texture2D(tText, vUv).r;\n\t\tfloat isTextParticle = 0.0;\n\n\t\tif (prevPos == vec3(0.0, 0.0, 0.0)) {\n\t\t\tposition = defaultPos;\n\t\t}\n\n\t\tif (textOpacity > 0.0) {\n\t\t\tposition = moveParticleToGoal(position, prevPos, vec3((vUv - 0.5) * textPositionMultiplier, 0.0));\n\n\t\t\tisTextParticle = 1.0;\n\t\t} else {\n\t\t\tposition = moveParticleToGoal(position, prevPos, defaultPos);\n\t\t}\n\n\t\t// write new positions out\n\t\tgl_FragColor = vec4(position, isTextParticle);\n\t}\n",o="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co) {\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tDefaultSize;\n\n\tuniform vec3 mouse;\n\tuniform float sizeInc;\n\tuniform float sizeRange;\n\n\tuniform float hoverDist;\n\tuniform float hoverSizeInc;\n\tuniform float hoverMaxSizeMultiplier;\n\n\tfloat getSize() {\n\t\tvec3 currPosition = texture2D(tPosition, vUv).xyz;\n\t\tfloat defaultSize = texture2D(tDefaultSize, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\n\t\tif (size == 0.0) {\n\t\t\tsize = defaultSize;\n\t\t} else if (prevSize == 0.0 || size == prevSize) {\n\t\t\tsize = rand(vUv) >= 0.5 ? size + sizeInc : size - sizeInc;\n\t\t} else if (size < (defaultSize - sizeRange)) {\n\t\t\tsize += sizeInc;\n\t\t} else if (size > (defaultSize + sizeRange)) {\n\t\t\tsize -= sizeInc;\n\t\t} else {\n\t\t\tsize += size - prevSize;\n\t\t}\n\n\t\tfloat dist = length(currPosition.xy - mouse.xy);\n\n\t\tif (dist < hoverDist && size < (defaultSize * hoverMaxSizeMultiplier)) {\n\t\t\tsize += hoverSizeInc;\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tvoid main() {\n\t\t// write new size out\n\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, getSize());\n\t}\n",o="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\tuniform sampler2D tPosition;\n\tuniform sampler2D starImg;\n\tuniform sampler2D tColour;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvec3 goal = vec3((vUv - 0.5) * 4.0, 0);\n\t\tvec3 position = texture2D(tPosition, vUv).xyz;\n\t\tvec4 colour = texture2D(tColour, vUv).rgba;\n\t\tfloat isTextColor = texture2D(tPosition, vUv).a;\n\n\t\tgl_FragColor = colour;\n\t\tgl_FragColor = gl_FragColor * texture2D(starImg, gl_PointCoord);\n\t}\n",o="\n\tuniform sampler2D tDefaultPosition;\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tSize;\n\tuniform sampler2D tText;\n\n\tuniform float sizeMultiplierForScreen;\n\tuniform float textSizeMultiplier;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\t\tvec3 goal = vec3((vUv - 0.5) * 4.0, 0);\n\n\t\t// position saved as rgba / xyzw value in a texture object in memory\n\t\tvec3 defaultPosition = texture2D(tDefaultPosition, vUv).xyz;\n\t\tvec3 position = texture2D(tPosition, vUv).xyz;\n\t\tfloat distanceToTravel = length(goal - defaultPosition);\n\t\tfloat distanceTravelled = length(position - defaultPosition);\n\t\tfloat distanceTravelledRatio = distanceTravelled / distanceToTravel;\n\n\t\t// if distanceTravelled > 0.0 then this particle has moved from default position and therefore is a text star\n\t\tfloat size = texture2D(tSize, vUv).a;\n\t\tfloat textSize = size * size * textSizeMultiplier; // multiply star size against itself to create a size range when a text-star\n\t\tsize = distanceTravelled > 0.0 ? mix(size, textSize, distanceTravelledRatio > 1.0 ? 1.0 : distanceTravelledRatio) : size;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\tgl_PointSize = size * (sizeMultiplierForScreen / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n"}],[6]);
//# sourceMappingURL=bundle.js.map