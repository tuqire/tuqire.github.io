(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4sK0":function(t,i,n){"use strict";(function(s){function t(){return 1100<window.innerWidth?170:700<window.innerWidth?100:500<window.innerWidth?85:50}function e(t){var e=t.data,i=t.tWidth,n=t.tHeight,o=t.format,a=t.filterType,r=new s.DataTexture(e,i,n,o,s.FloatType);return r.minFilter=r.magFilter=a,r.needsUpdate=!0,r.flipY=!1,r}n.d(i,"b",function(){return t}),n.d(i,"a",function(){return e})}).call(this,n("Womt"))},"B++s":function(t,i,o){"use strict";(function(e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.d(i,"a",function(){return t});var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=new e.Scene}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"add",value:function(t){this.scene.add(t)}},{key:"remove",value:function(t){this.scene.remove(t)}},{key:"get",value:function(){return this.scene}}]),t}()}).call(this,o("Womt"))},JcSe:function(t,e,i){"use strict";var n={arial:"Arial, Helvetica, sans-serif",arialBlack:'"Arial Black", Gadget, sans-serif',comicSans:'"Comic Sans MS", cursive, sans-serif',georgia:"Georgia, serif",impact:"Impact, Charcoal, sans-serif",lucida:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',palatino:'"Palatino Linotype", "Book Antiqua", Palatino, serif',times:'"Times New Roman", Times, serif',tahoma:"Tahoma, Geneva, sans-serif",trebuchet:'"Trebuchet MS", Helvetica, sans-serif',verdena:"Verdana, Geneva, sans-serif"};i.d(e,"a",function(){return n})},LVGD:function(t,i,r){"use strict";(function(st){r.d(i,"a",function(){return e});var t=r("5k41"),lt=r.n(t),o=r("4sK0"),n=r("JcSe"),ut=r("qq0F"),ct=r("s5Pn"),ht=r("LWN/");function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function(){function rt(t){var e=t.configUniforms,i=void 0===e?{color:{value:new st.Color(16777215)},sizeMultiplierForScreen:{value:window.innerHeight*window.devicePixelRatio/2},starImg:{value:(new st.TextureLoader).load("images/star.png")}}:e,n=t.blending,o=void 0===n?st.AdditiveBlending:n,a=t.transparent,r=void 0===a||a,s=t.depthTest,l=void 0===s||s,u=t.depthWrite,c=void 0!==u&&u,h=t.renderer,d=t.bgColorTop,v=void 0===d?"#000f23":d,f=t.bgColorBottom,p=void 0===f?"#00071b":f,m=t.numParticles,g=void 0===m?1e4:m,z=t.radius,y=void 0===z?100:z,x=t.minSize,S=void 0===x?1:x,w=t.maxSize,P=void 0===w?3:w,b=t.sizeRange,C=void 0===b?.5:b,T=t.sizeInc,M=void 0===T?.01:T,k=t.sizeSkew,F=void 0===k?1:k,D=t.hoverDist,B=void 0===D?10:D,O=t.hoverSizeInc,U=void 0===O?.05:O,I=t.hoverMaxSizeMultiplier,R=void 0===I?5:I,A=t.font,L=void 0===A?"arial":A,W=t.fontSize,H=void 0===W?100:W,E=t.topSpeed,V=void 0===E?.07:E,_=t.acceleration,G=void 0===_?.01:_,j=t.textAlign,q=void 0===j?"left":j,N=t.textSizeMultiplier,Z=void 0===N?2:N,Y=t.textPositionMultiplier,J=void 0===Y?2:Y,X=t.brightness,K=void 0===X?1:X,$=t.opacity,Q=void 0===$?1:$;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,rt),this.renderer=h,this.bgColorTop=v,this.bgColorBottom=p,this.numParticles=g,this.radius=y,this.minSize=S,this.maxSize=P,this.sizeRange=C,this.sizeInc=M,this.sizeSkew=F,this.hoverDist=B,this.hoverSizeInc=U,this.hoverMaxSizeMultiplier=R,this.font=L,this.fontSize=H,this.topSpeed=V,this.acceleration=G,this.textAlign=q,this.textSizeMultiplier=Z,this.textPositionMultiplier=J,this.brightness=K,this.opacity=Q,this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2;var tt=this.tHeight=Math.ceil(Math.sqrt(this.numParticles)),et=this.tWidth=tt;this.numParticles=et*tt,this.positions=new Float32Array(3*this.numParticles),this.positionFBO=new lt.a({tWidth:et,tHeight:tt,renderer:h.get(),uniforms:{tDefaultPosition:{type:"t",value:0},tText:{type:"t",value:0},topSpeed:{type:"f",value:this.topSpeed},acceleration:{type:"f",value:this.acceleration},textPositionMultiplier:{type:"f",value:this.textPositionMultiplier}},simulationVertexShader:ut.b,simulationFragmentShader:ut.a}),this.positionFBO.setTextureUniform("tDefaultPosition",this.getPositions()),this.sizeFBO=new lt.a({tWidth:et,tHeight:tt,renderer:h.get(),uniforms:{tPosition:{type:"t",value:0},tDefaultSize:{type:"t",value:0},mouse:{value:new st.Vector3(1e4,1e4,1e4)},sizeRange:{type:"f",value:this.sizeRange},sizeInc:{type:"f",value:this.sizeInc},hoverDist:{type:"f",value:this.hoverDist},hoverSizeInc:{type:"f",value:this.hoverSizeInc},hoverMaxSizeMultiplier:{type:"f",value:this.hoverMaxSizeMultiplier}},simulationVertexShader:ct.b,simulationFragmentShader:ct.a}),this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes());var it=Object.assign({},i,{tDefaultPosition:{type:"t",value:this.positionFBO.simulationShader.uniforms.tDefaultPosition.value},tText:{type:"t",value:0},tPosition:{type:"t",value:this.positionFBO.targets[0]},tSize:{type:"t",value:this.sizeFBO.targets[0]},textSizeMultiplier:{type:"f",value:this.textSizeMultiplier},tColour:{type:"t",value:this.getColours()}});this.material=new st.ShaderMaterial({uniforms:it,vertexShader:ht.b,fragmentShader:ht.a,blending:o,transparent:r,depthTest:l,depthWrite:c});for(var nt=new st.Geometry,ot=0;ot<this.numParticles;ot++){var at=new st.Vector3;at.x=ot%et/et,at.y=Math.floor(ot/et)/tt,nt.vertices.push(at)}this.particles=new st.Points(nt,this.material),this.particles.frustumCulled=!1,this.text="",document.onkeydown=this.onTextInput.bind(this),window.addEventListener("resize",this.onWindowResize.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this),!1)}return function(t,e,i){e&&a(t.prototype,e),i&&a(t,i)}(rt,[{key:"onWindowResize",value:function(){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2}},{key:"onMouseMove",value:function(t){var e=this.cameraZ/(2.8*this.windowHalfY),i=this.cameraZ/(2.65*this.windowHalfY),n=t.clientX-this.windowHalfX,o=this.windowHalfY-t.clientY;this.sizeFBO.simulationShader.uniforms.mouse.value.set(e*n,i*o,0)}},{key:"setTextTexture",value:function(t){var e=new st.Texture(t);e.minFilter=e.magFilter=st.NearestFilter,e.needsUpdate=!0,e.flipY=!0,this.positionFBO.simulationShader.uniforms.tText.value=this.material.uniforms.tText.value=e}},{key:"onTextInput",value:function(t){var e=t.key,i=void 0===e?"":e;("Backspace"===i||1===i.length&&i.match(/[a-z ]?/i))&&(this.text="Backspace"===i?this.text.slice(0,-1):this.text+i,this.updateTextTexture())}},{key:"getPositions",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0,n=0;e<this.numParticles;e++,i+=3,n+=4){var o=this.calcPosition();this.positions[i]=t[n]=o[0],this.positions[i+1]=t[n+1]=o[1],this.positions[i+2]=t[n+2]=o[2],t[n+3]=0}return t}},{key:"calcPosition",value:function(){var t=this.radius,e=Math.random()-.5,i=Math.random()-.5,n=Math.pow(Math.random(),.6)*t*(1/Math.sqrt(Math.pow(e,2)+Math.pow(i,2)));return[e*n,i*n,0]}},{key:"getSizes",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0;e<this.numParticles;e++,i+=4)t[i+3]=this.calcSize();return t}},{key:"calcSize",value:function(){var t=this.maxSize-this.minSize;return this.minSize+t*Math.pow(Math.random(),this.sizeSkew)}},{key:"getColours",value:function(){for(var t=new Float32Array(4*this.numParticles),e=0,i=0;e<this.numParticles;e++,i+=4){var n=this.calcColour();t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3]}return Object(o.a)({data:t,tWidth:this.tWidth,tHeight:this.tHeight,format:this.positionFBO.format,filterType:this.positionFBO.filterType})}},{key:"calcColour",value:function(){var t=Math.random();return[t<.9?1.6*t:5*t,.1<t?1.6*t:5*t,.1<t?1.3*t:3.5*t,t]}},{key:"update",value:function(){this.positionFBO.simulate(),this.sizeFBO.simulate(),this.sizeFBO.simulationShader.uniforms.tPosition.value=this.material.uniforms.tPosition.value=this.positionFBO.getCurrentFrame(),this.material.uniforms.tSize.value=this.sizeFBO.getCurrentFrame()}},{key:"get",value:function(){return this.particles}},{key:"setCameraZ",value:function(t){this.cameraZ=t}},{key:"updateTextTexture",value:function(){var t=document.createElement("canvas");t.width=t.height=1*Math.sqrt(this.numParticles);var e=t.height/2,i=t.getContext("2d",{alpha:!1});i.font="".concat(this.fontSize,"px ").concat(n.a[this.font]),i.fillStyle="white",i.textAlign=this.textAlign,i.fillText(this.text,"left"===this.textAlign?0:e,e+this.fontSize/2,t.width),this.setTextTexture(t)}},{key:"updateColours",value:function(){this.material.uniforms.tColour.value=this.getColours()}},{key:"updateSizes",value:function(){this.sizeFBO.simulationShader.uniforms.sizeRange.value=this.sizeRange,this.sizeFBO.simulationShader.uniforms.sizeInc.value=this.sizeInc,this.sizeFBO.setTextureUniform("tDefaultSize",this.getSizes())}},{key:"updateParticleVars",value:function(){this.material.uniforms.textSizeMultiplier.value=this.textSizeMultiplier,this.positionFBO.simulationShader.uniforms.textPositionMultiplier.value=this.textPositionMultiplier,this.positionFBO.simulationShader.uniforms.topSpeed.value=this.topSpeed,this.positionFBO.simulationShader.uniforms.acceleration.value=this.acceleration,this.sizeFBO.simulationShader.uniforms.hoverDist.value=this.hoverDist,this.sizeFBO.simulationShader.uniforms.hoverSizeInc.value=this.hoverSizeInc,this.sizeFBO.simulationShader.uniforms.hoverMaxSizeMultiplier.value=this.hoverMaxSizeMultiplier}},{key:"bgColorTop",get:function(){return this._bgColorTop},set:function(t){this._bgColorTop=t,document.getElementsByTagName("body")[0].style.background="linear-gradient(".concat(this._bgColorTop,", ").concat(this._bgColorBottom,")")}},{key:"bgColorBottom",get:function(){return this._bgColorBottom},set:function(t){this._bgColorBottom=t,document.getElementsByTagName("body")[0].style.background="linear-gradient(".concat(this._bgColorTop,", ").concat(this._bgColorBottom,")")}}]),rt}()}).call(this,r("Womt"))},"LWN/":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\tuniform sampler2D tPosition;\n\tuniform sampler2D starImg;\n\tuniform sampler2D tColour;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvec3 goal = vec3((vUv - 0.5) * 4.0, 0);\n\t\tvec3 position = texture2D(tPosition, vUv).xyz;\n\t\tvec4 colour = texture2D(tColour, vUv).rgba;\n\t\tfloat isTextColor = texture2D(tPosition, vUv).a;\n\n\t\tgl_FragColor = colour;\n\t\tgl_FragColor = gl_FragColor * texture2D(starImg, gl_PointCoord);\n\t}\n",o="\n\tuniform sampler2D tDefaultPosition;\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tSize;\n\tuniform sampler2D tText;\n\n\tuniform float sizeMultiplierForScreen;\n\tuniform float textSizeMultiplier;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\t\tvec3 goal = vec3((vUv - 0.5) * 4.0, 0);\n\n\t\t// position saved as rgba / xyzw value in a texture object in memory\n\t\tvec3 defaultPosition = texture2D(tDefaultPosition, vUv).xyz;\n\t\tvec3 position = texture2D(tPosition, vUv).xyz;\n\t\tfloat distanceToTravel = length(goal - defaultPosition);\n\t\tfloat distanceTravelled = length(position - defaultPosition);\n\t\tfloat distanceTravelledRatio = distanceTravelled / distanceToTravel;\n\n\t\t// if distanceTravelled > 0.0 then this particle has moved from default position and therefore is a text star\n\t\tfloat size = texture2D(tSize, vUv).a;\n\t\tfloat textSize = size * size * textSizeMultiplier; // multiply star size against itself to create a size range when a text-star\n\t\tsize = distanceTravelled > 0.0 ? mix(size, textSize, distanceTravelledRatio > 1.0 ? 1.0 : distanceTravelledRatio) : size;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\tgl_PointSize = size * (sizeMultiplierForScreen / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n"},MiJT:function(t,e,o){"use strict";(function(p){o.d(e,"a",function(){return t});var i=o("4sK0");function m(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var t=function(){function f(t){var e=t.particles,i=t.fov,n=void 0===i?400:i,o=t.aspectRatio,a=void 0===o?window.innerWidth/window.innerHeight:o,r=t.near,s=void 0===r?.1:r,l=t.far,u=void 0===l?2e3:l,c=t.position,h=void 0===c?{x:0,y:0,z:0}:c,d=t.up,v=void 0===d?[0,0,1]:d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),this.particles=e,this.particles.setCameraZ(h.z),this.camera=new p.PerspectiveCamera(n,a,s,u),this.up=v,this.setPosition(h),this.setUp.apply(this,m(this.up)),this.setLookAt()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(f,[{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.setZ(window.innerHeight/Object(i.b)()),this.camera.updateProjectionMatrix()}},{key:"setUp",value:function(t,e,i){this.camera.up.set(t,e,i)}},{key:"setPosition",value:function(t){var e=t.x,i=void 0===e?this.camera.position.x:e,n=t.y,o=void 0===n?this.camera.position.y:n,a=t.z,r=void 0===a?this.camera.position.z:a;this.setX(i),this.setY(o),this.setZ(r)}},{key:"setX",value:function(t){this.camera.position.x=t,this.setLookAt()}},{key:"setY",value:function(t){this.camera.position.y=t,this.setLookAt()}},{key:"setZ",value:function(t){this.camera.position.z=t,this.setLookAt(),this.setUp(0,0,1),this.particles.setCameraZ(t)}},{key:"setLookAt",value:function(){this.camera.lookAt(new p.Vector3(0,0,0))}},{key:"get",value:function(){return this.camera}},{key:"getPosition",value:function(){return this.camera.position}},{key:"getZ",value:function(){return this.camera.position.z}}]),f}()}).call(this,o("Womt"))},NaaR:function(t,e,i){"use strict";(function(d){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,"a",function(){return t});var t=function(){function h(t){var e=t.alpha,i=void 0===e||e,n=t.pixelRatio,o=void 0===n?window.devicePixelRatio:n,a=t.width,r=void 0===a?window.innerWidth:a,s=t.height,l=void 0===s?window.innerHeight:s,u=t.container;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.renderer=new d.WebGLRenderer({alpha:i});var c=this.renderer.context;c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),this.setPixelRatio(o),this.setSize(r,l),u.appendChild(this.getDomElement()),window.addEventListener("resize",this.onWindowResize.bind(this))}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(h,[{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"onWindowResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.renderer.setSize(t,e)}},{key:"setPixelRatio",value:function(t){this.renderer.setPixelRatio(t)}},{key:"setSize",value:function(t,e){this.renderer.setSize(t,e)}},{key:"render",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},i=e.scene,n=e.camera,o=e.renderTarget,a=void 0===o?null:o,r=e.force,s=void 0!==r&&r;this.renderer.render(i,n,a,s)}},{key:"get",value:function(){return this.renderer}}]),h}()}).call(this,i("Womt"))},kpGR:function(t,e,i){"use strict";i.r(e);var n=i("pWP4"),l=i.n(n),o=i("MZFn"),u=i.n(o),c=i("MiJT"),a=i("8t44"),r=i.n(a),s=i("JcSe");function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.particles;t.scene;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.gui=new r.a.GUI,this.addBgControls(e),this.addTextControls(e),this.addMouseControls(e),this.addSizeControls(e),this.addColourStrengthControls(e),this.addOpacityControls(e)}return function(t,e,i){e&&h(t.prototype,e),i&&h(t,i)}(i,[{key:"addBgControls",value:function(t){this.gui.addColor(t,"bgColorTop"),this.gui.addColor(t,"bgColorBottom")}},{key:"addTextControls",value:function(t){this.gui.add(t,"font",Object.keys(s.a)).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"fontSize").min(0).max(200).step(5).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"textAlign",["left","center"]).onFinishChange(function(){t.updateTextTexture()}),this.gui.add(t,"textSizeMultiplier").min(0).max(2e3).step(10).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"topSpeed").min(0).max(10).step(.005).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"acceleration").min(0).max(.001).step(1e-7).onFinishChange(function(){t.updateParticleVars()})}},{key:"addMouseControls",value:function(t){this.gui.add(t,"hoverDist").min(0).max(.5).step(.01).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"hoverSizeInc").min(0).max(.1).step(.001).onFinishChange(function(){t.updateParticleVars()}),this.gui.add(t,"hoverMaxSizeMultiplier").min(0).max(5).step(.05).onFinishChange(function(){t.updateParticleVars()})}},{key:"addSizeControls",value:function(t){this.gui.add(t,"minSize").min(0).max(.04).step(.001).onFinishChange(function(){t.minSize>t.maxSize&&(t.minSize=t.maxSize),t.updateSizes()}),this.gui.add(t,"maxSize").min(0).max(.1).step(.001).onFinishChange(function(){t.maxSize<t.minSize&&(t.maxSize=t.minSize),t.updateSizes()}),this.gui.add(t,"sizeInc").min(0).max(5e-4).step(2e-6).onFinishChange(function(){t.updateSizes()}),this.gui.add(t,"sizeRange").min(0).max(.02).step(5e-4).onFinishChange(function(){t.updateSizes()}),this.gui.add(t,"sizeSkew").min(0).max(100).step(1).onFinishChange(function(){t.updateSizes()})}},{key:"addColourStrengthControls",value:function(t){this.gui.add(t,"brightness").min(0).max(3).step(.02).onFinishChange(function(){t.updateColours()})}},{key:"addOpacityControls",value:function(t){this.gui.add(t,"opacity").min(0).max(1.5).step(.02).onFinishChange(function(){t.updateColours()})}}]),i}(),v=i("NaaR"),f=i("B++s"),p=i("LVGD"),m=function(t,e){e=e||window.location.href,t=t.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};document.addEventListener("DOMContentLoaded",function(){var t=Number(m("quality"));if(t&&!isNaN(t))if(l.a&&window.matchMedia("(min-width: 480px)").matches){!function(){var t=document.querySelector(".info-content"),e=document.querySelector(".hide-info-button"),i=Number(m("quality"));document.getElementById("info").style.display="inline",document.querySelector(".num-particles").innerHTML=i.toLocaleString(),e.addEventListener("click",function(){"Close"===e.innerHTML?(e.innerHTML="Open Info",t.style.display="none"):(e.innerHTML="Close",t.style.display="block")})}();var e=document.getElementById("simulation"),i=new v.a({container:e}),n=new f.a,o=new p.a({renderer:i,numParticles:t,radius:4,minSize:.015,maxSize:.03,sizeRange:.003,sizeInc:5e-5,sizeSkew:35,hoverDist:.04,hoverSizeInc:.002,hoverMaxSizeMultiplier:1.7,font:"arial",fontSize:80,topSpeed:1,acceleration:1e-4,textAlign:"left",textSizeMultiplier:600,textPositionMultiplier:5.5,brightness:.9,opacity:1}),a=new c.a({particles:o,position:{x:0,y:-.001,z:4.5}}),r=new u.a,s=function(){r.begin(),o.update(),i.render({scene:n.get(),camera:a.get()}),r.end()};new d({particles:o}),r.showPanel(0),document.body.appendChild(r.dom),n.add(o.get()),function t(){requestAnimationFrame(t),s()}()}else document.getElementById("no-support").style.display="block";else document.getElementById("select-quality").style.display="block"})},qq0F:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co) {\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\n\tuniform sampler2D tDefaultPosition;\n\tuniform sampler2D tText;\n\n\tuniform float topSpeed;\n\tuniform float acceleration;\n\tuniform float textPositionMultiplier;\n\n\tvec3 setTopSpeed(vec3 speed, float topSpeed) {\n\t\treturn vec3(\n\t\t\tspeed.x > topSpeed ? topSpeed : speed.x < -topSpeed ? -topSpeed : speed.x,\n\t\t\tspeed.y > topSpeed ? topSpeed : speed.y < -topSpeed ? -topSpeed : speed.y,\n\t\t\tspeed.z > topSpeed ? topSpeed : speed.z < -topSpeed ? -topSpeed : speed.z\n\t\t);\n\t}\n\n\tvec3 moveParticleToGoal(vec3 currPos, vec3 prevPos, vec3 goal) {\n\t\tvec3 distanceToGoal = goal - currPos;\n\t\tvec3 currVelocity = currPos - prevPos;\n\n\t\tvec3 calculatedAcceleration = normalize(distanceToGoal) * acceleration;\n\t\tfloat currVelocityL = length(currVelocity);\n\t\tfloat distanceToGoalL = length(distanceToGoal);\n\n\t\tif (distanceToGoalL > currVelocityL) {\n\t\t\tvec3 velocity = currVelocity + calculatedAcceleration;\n\n\t\t\tvelocity = setTopSpeed(velocity, topSpeed);\n\n\t\t\treturn currPos + velocity;\n\t\t} else {\n\t\t\treturn goal;\n\t\t}\n\t}\n\n\tvoid main() {\n\t\tvec3 defaultPos = texture2D(tDefaultPosition, vUv).xyz;\n\t\tvec3 prevPos = texture2D(tPrev, vUv).xyz;\n\t\tvec3 position = texture2D(tCurr, vUv).xyz;\n\t\tfloat textOpacity = texture2D(tText, vUv).r;\n\t\tfloat isTextParticle = 0.0;\n\n\t\tif (prevPos == vec3(0.0, 0.0, 0.0)) {\n\t\t\tposition = defaultPos;\n\t\t}\n\n\t\tif (textOpacity > 0.0) {\n\t\t\tposition = moveParticleToGoal(position, prevPos, vec3((vUv - 0.5) * textPositionMultiplier, 0.0));\n\n\t\t\tisTextParticle = 1.0;\n\t\t} else {\n\t\t\tposition = moveParticleToGoal(position, prevPos, defaultPos);\n\t\t}\n\n\t\t// write new positions out\n\t\tgl_FragColor = vec4(position, isTextParticle);\n\t}\n",o="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"},s5Pn:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n="\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co) {\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\t// this is the texture position the data for this particle is stored in\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\tuniform sampler2D tPosition;\n\tuniform sampler2D tDefaultSize;\n\n\tuniform vec3 mouse;\n\tuniform float sizeInc;\n\tuniform float sizeRange;\n\n\tuniform float hoverDist;\n\tuniform float hoverSizeInc;\n\tuniform float hoverMaxSizeMultiplier;\n\n\tfloat getSize() {\n\t\tvec3 currPosition = texture2D(tPosition, vUv).xyz;\n\t\tfloat defaultSize = texture2D(tDefaultSize, vUv).w;\n\t\tfloat prevSize = texture2D(tPrev, vUv).w;\n\t\tfloat size = texture2D(tCurr, vUv).w;\n\n\t\tif (size == 0.0) {\n\t\t\tsize = defaultSize;\n\t\t} else if (prevSize == 0.0 || size == prevSize) {\n\t\t\tsize = rand(vUv) >= 0.5 ? size + sizeInc : size - sizeInc;\n\t\t} else if (size < (defaultSize - sizeRange)) {\n\t\t\tsize += sizeInc;\n\t\t} else if (size > (defaultSize + sizeRange)) {\n\t\t\tsize -= sizeInc;\n\t\t} else {\n\t\t\tsize += size - prevSize;\n\t\t}\n\n\t\tfloat dist = length(currPosition.xy - mouse.xy);\n\n\t\tif (dist < hoverDist && size < (defaultSize * hoverMaxSizeMultiplier)) {\n\t\t\tsize += hoverSizeInc;\n\t\t}\n\n\t\treturn size;\n\t}\n\n\tvoid main() {\n\t\t// write new size out\n\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, getSize());\n\t}\n",o="\n\t// this value stores the texture coordinates the data for this vertex is stored in\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = uv;\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n"}},[["kpGR",1,2]]]);